/*! For license information please see main.ca4db671.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},426:function(e){e.exports={apparel:function(){return{tees:function(){return[{image:"https://image.spreadshirtmedia.com/image-server/v1/mp/products/T210A1MPA3176PT17X11Y0D1008072544FS8580/views/1,width=378,height=378,appearanceId=1,backgroundColor=F2F2F2,modelId=1543,crop=list/skull-with-honey-mens-t-shirt.jpg",title:"Skull Pilot Mens T-Shirt",price:19.99,color:"white",gender:"mens",presale:29.99},{image:"https://i5.walmartimages.com/asr/1007d512-2aaf-4766-9d04-3681be7677a5_1.e1cc3834e94250d30cb935ff561e0e2a.jpeg",title:"Godzilla Mens T-Shirt",price:24.99,color:"orange",gender:"mens"},{image:"https://ih1.redbubble.net/image.210398864.6640/gptr,1265x,front,black-c,330,402,600,600-bg,f8f8f8.u1.jpg",title:"Psychedelic Mens T-Shirt",price:29.99,color:"black",gender:"mens"},{image:"https://ih1.redbubble.net/image.367928717.6146/ssrco,classic_tee,womens,403c32:92341a482f,front_alt,square_product,600x600.u2.jpg",title:"Silly Monkey Womens T-Shirt",price:19.99,color:"brown",gender:"womens",presale:29.99},{image:"https://ctl.s6img.com/society6/img/VCC8Ehtlfbq1WTrjVzPv2Tx1k0Y/w_700/tshirts/men/greybg/black/~artwork,bg_FFFFFFFF,fw_3300,fh_5100,fx_-900,iw_5100,ih_5100/s6-original-art-uploads/society6/uploads/misc/bdcae30635bb4f52ae17abdf45439414/~~/skater-yeti-tshirts.jpg",title:"Skating Yeti Mens T-Shirt",price:19.99,color:"black",gender:"mens"},{image:"https://ctl.s6img.com/society6/img/sDPpm18R919GFlX8WlsXNl9PfQU/w_700/tshirts/men/greybg/black/~artwork,bg_FFFFFFFF,fw_3301,fh_5106,fx_-300,fy_81,iw_3960,ih_4752/s6-original-art-uploads/society6/uploads/misc/88a9172862a44f58a8b69186f588a5b2/~~/daddy-shrk-doo-doo-doo-funny-daddy-shark-tshirts.jpg?wait=0&attempt=0",title:"Cringe Shark Mens T-Shirt",price:5.99,color:"black",gender:"mens",presale:101.99},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium/RIPNDIP-Lord-Alien-Pocket-Black-T-Shirt-_261484-front.jpg",title:"Simple Alien Mens T-Shirt",price:19.99,color:"black",gender:"mens"},{image:"https://ih1.redbubble.net/image.691410041.7830/ssrco,slim_fit_t_shirt,mens,101010:01c5ca27c6,front,square_product,600x600.u3.jpg",title:"Skull Skater Mens T-Shirt",price:24.99,color:"black",gender:"mens"},{image:"https://image.spreadshirtmedia.com/image-server/v1/mp/products/T812A2MPA3140PT17X0Y16D1023932131FS3652/views/1,width=378,height=378,appearanceId=2,backgroundColor=F2F2F2,modelId=115,crop=list/skateboarding-skateboard-skate-skater-sk8te-gift-mens-premium-t-shirt.jpg",title:"Womanizer Mens T-Shirt",price:19.99,color:"black",gender:"mens"},{image:"https://ae01.alicdn.com/kf/Hceada19f04224c51829d0fba71eeb740y/Era-Vulgaris-T-Shirt-Era-Vulgaris-Queens-Stone-Age-Music-Vinyl-Record-Band.jpg_Q90.jpg_.webp",title:"Era Vulgaris Mens T-Shirt",price:29.99,color:"black",gender:"mens"},{image:"https://image.spreadshirtmedia.com/image-server/v1/mp/products/T210A2MPA3176PT17X31Y45D10619064S35/views/1,width=550,height=550,appearanceId=2,backgroundColor=F2F2F2,modelId=1543,crop=list/pig-and-skateboard-mens-t-shirt.jpg",title:"Skater Piglet Mens T-Shirt",price:14.99,color:"black",gender:"mens"},{image:"https://ih1.redbubble.net/image.932807097.1951/ssrco,classic_tee,womens,101010:01c5ca27c6,front_alt,square_product,600x600.u3.jpg",title:"Rollerskater Womens T-Shirt",price:19.99,color:"black",gender:"womens"},{image:"https://ctl.s6img.com/society6/img/C3wrIQy3ajcfB9lza2D_T6_aMeU/w_700/tshirts/women/greybg/tri-black/~artwork,bg_FFFFFFFF,fw_3301,fh_5101,fx_46,fy_338,iw_3206,ih_4290/s6-original-art-uploads/society6/uploads/misc/1aa6e28dcd4d4477b701f4b6c15bee09/~~/just-skate-retro-roller-skating-tshirts.jpg",title:"Just Skate Womens T-Shirt",price:14.99,color:"black",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/cat_max/Thrasher-Flame-Logo-Grey-T-Shirt-_164401-CA.jpg",title:"Thrasher Grey Womens T-Shirt",price:14.99,color:"grey",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Primitive-x-Naruto-Shippuden-Sasuke-Curse-Mark-Black-T-Shirt-_350189-front-US.jpg",title:"Cookies Hardwood Flava Black T-Shirt",price:24.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Cookies-Hardwood-Flava-Black-T-Shirt-_316150-front-US.jpg",title:"Primitive x Naruto Shippuden Sasuke Curse Mark Black T-Shirt",price:24.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Thrasher-Flame-Sky-Blue-T-Shirt-_314150-front-US.jpg",title:"Thrasher Flame Sky Blue T-Shirt",price:29.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Primitive-x-Naruto-Shippuden-Kakashi-Black-T-Shirt-_357319-back-US.jpg",title:"Primitive x Naruto Shippuden Kakashi Black T-Shirt",price:19.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Episode-x-Jujutsu-Kaisen-Satoru-Blue-Tie-Dye-T-Shirt-_351682-back-US.jpg",title:"Episode x Jujutsu Kaisen Satoru Blue Tie Dye T-Shirt",price:19.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Primitive-x-Naruto-Crows-Washed-Burgundy-T-Shirt-_331757-back-US.jpg",title:"Primitive x Naruto Crows Washed Burgundy T-Shirt",price:24.99,color:"red",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/A-Lab-Never-Grow-Up-Blue-%26-White-Tie-Dye-T-Shirt-_335828-front-US.jpg",title:"A-Lab Never Grow Up Blue & White Tie Dye T-Shirt",price:19.99,color:"blue",gender:"mens"}]},longsleeves:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/image/Thrasher-Mag-Logo-Long-Sleeve-T-Shirt-_258518.jpg",title:"Poser Black Longsleeve",price:39.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/image/Fortune-x-The-Skate-Kitchen-Black-Long-Sleeve-T-Shirt-_308713.jpg",title:"Skate Kitchen Bananasleeve",price:49.99,color:"black",gender:"mens"},{image:"https://i.pinimg.com/originals/18/c1/0c/18c10c7a1090ff2e032ccc5518d89bcf.jpg",title:"Black Wolf Military Green Longsleeve",price:34.99,color:"green",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/cat_max/Key-Street-Moto-Ichiban-Black-Long-Sleeve-T-Shirt-_354403-back-US.jpg",title:"Key Street Moto Ichiban Black Long Sleeve T-Shirt",price:34.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Brixton-x-Coors-Labor-Red-Long-Sleeve-T-Shirt-_349098-back-US.jpg",title:"Brixton x Coors Labor Red Long Sleeve T-Shirt",price:38.99,color:"orange",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Public-Tweaked-Army-Green-Long-Sleeve-T-Shirt-_350718-front-US.jpg",title:"Public Tweaked Army Green Long Sleeve T-Shirt",price:29.99,color:"green",gender:"mens",presale:39.99},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Santa-Cruz-Garden-Mix-Sand-Long-Sleeve-Shirt-_351605-back-US.jpg",title:"Santa Cruz Garden Mix Sand Long Sleeve Shirt",price:24.99,color:"natural",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Empyre-Open-Your-Mind-Green-%26-White-Tie-Dye-Long-Sleeve-Knot-Front-T-Shirt-_351146-back-US.jpg",title:"Empyre Open Your Mind Green & White Tie Dye Long Sleeve",price:25.99,color:"green",gender:"womens",presale:39.99},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Champion-Boyfriend-Fit-Charm-Blue-Long-Sleeve-T-Shirt-_343388-front-US.jpg",title:"Champion Boyfriend Fit Charm Blue Long Sleeve T-Shirt",price:19.99,color:"blue",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/SWIXXZ-In-My-Head-Stripe-Long-Sleeve-T-Shirt-_344331-front-US.jpg",title:"SWIXXZ In My Head Stripe Long Sleeve T-Shirt",price:39.99,color:"black",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Santa-Cruz-Oval-Dot-Splatter-Purple-Long-Sleeve-T-Shirt-_345975-back-US.jpg",title:"Santa Cruz Oval Dot Splatter Purple Long Sleeve T-Shirt",price:25.99,color:"purple",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Key-Street-Kaiten-Black-Long-Sleeve-T-Shirt-_354414-back-US.jpg",title:"Key Street Kaiten Black Long Sleeve T-Shirt",price:29.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/NGOrder-You-Trippin--White-Long-Sleeve-T-Shirt-_345604-front-US.jpg",title:"NGOrder You Trippin White Long Sleeve T-Shirt",price:29.99,color:"white",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Cookies-Carpe-Diem-Blue-Long-Sleeve-Button-Up-Shirt-_352907-front-US.jpg",title:"Cookies Carpe Diem Blue Long Sleeve Button Up Shirt",price:49.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Cookies-All-Conditions-Black-Long-Sleeve-Button-Up-Shirt-_348028-front-US.jpg",title:"Cookies All Conditions Black Long Sleeve Button Up Shirt",price:29.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Never-Made-Mind-Conspiracy-Black-Long-Sleeve-T-Shirt-_318644-front-US.jpg",title:"Never Made Mind Conspiracy Black Long Sleeve T-Shirt",price:29.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Primitive-x-Dragon-Ball-Super-Goku-Black-Rose-White-Long-Sleeve-T-Shirt-_339461-back-US.jpg",title:"Primitive x Dragon Ball Super Goku Black Rose White Long Sleeve T-Shirt",price:35.99,color:"white",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Killer-Acid-Wavy-Rugby-Long-Sleeve-Shirt-_344793-front-US.jpg",title:"Killer Acid Wavy Rugby Long Sleeve Shirt",price:39.99,color:"grey",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Empyre-Fine-Tuned-Black-Long-Sleeve-T-Shirt-_353774-front-US.jpg",title:"Empyre Fine Tuned Black Long Sleeve T-Shirt",price:22.99,color:"black",gender:"mens"}]},hoodies:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/image/Thrasher-Skate-Mag-Radical-Red-Pullover-Hoodie-_142533-CA.jpg",title:"Thrasher Red Mens Hoodie",price:59.99,color:"red",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/RIPNDIP-Psychedelic-Nerm-Purple-Tie-Dye-Hoodie-_306879-back-US.jpg",title:"RIPNDIP Psychedelic Nerm Purple Tie Dye Hoodie",price:39.99,color:"purple",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Danny-Duncan-Virginity-Rocks-Black-Hoodie-_324634-front-US.jpg",title:"Danny Duncan Virginity Rocks Black Hoodie",price:49.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Broken-Promises-Evermore-Black-%26-Yellow-Hoodie-_305168-front-US.jpg",title:"Broken Promises Evermore Black & Yellow Hoodie",price:49.99,color:"black",gender:"womens",presale:69.99}]},jeans:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Ninth-Hall-Rogue-Dribbles-Jeans-_340942-front-US.jpg",title:"Ninth Hall Rogue Dribbles Jeans",price:59.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Empyre-Skeletor-Highway-Blue-Skinny-Fit-Jeans-_261903-front-US.jpg",title:"Empyre Skeletor Highway Blue Skinny Fit Jeans",price:39.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Dript-Denim-D.029-Biker-Blue-Skinny-Jeans-_323244-front-US.jpg",title:"Dript Denim D.029 Biker Blue Skinny Jeans",price:39.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Dript-Denim-D.1003-Doodle-Casino-Blue-Skinny-Jeans-_346531-front-US.jpg",title:"Dript Denim D.1003 Doodle Casino Blue Skinny Jeans",price:35.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Empyre-Easton-Paint-Splatter-Light-Vintage-Wash-Denim-Jeans-_328695-front-US.jpg",title:"Empyre Easton Paint Splatter Light Vintage Wash Denim Jeans",price:39.99,color:"blue",gender:"womens"}]},joggers:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Ninth-Hall-Fume-Heather-Grey-Moto-Jogger-Sweatpants-_325282-front-US.jpg",title:"Ninth Hall Fume Heather Grey Moto Jogger Sweatpants",price:39.99,color:"grey",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/NGOrder-x-Powerpuff-Girls-White-Jogger-Sweatpants-_353099-front-US.jpg",title:"NGOrder x Powerpuff Girls White Jogger Sweatpants",price:59.99,color:"white",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Empyre-Vertirose-Black-Jogger-Sweatpants-_321070-front-US.jpg",title:"Empyre Vertirose Black Jogger Sweatpants",price:39.99,color:"black",gender:"mens"}]},shorts:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Empyre-Doodles-Black-%26-White-Sweat-Shorts-_340757-front-US.jpg",title:"Empyre Doodles Black & White Sweat Shorts",price:25.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Broken-Promises-Emotional-Black-Sweat-Shorts-_344406-front-US.jpg",title:"Broken Promises Emotional Black Sweat Shorts",price:20.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Freeworld-Walker-Heather-Grey-Chino-Shorts-_327889-front-US.jpg",title:"Freeworld Walker Heather Grey Chino Shorts",price:19.99,color:"grey",gender:"mens"}]},skateshoes:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Nike-SB-Chron-2-Black-%26-Gum-Skate-Shoes-_343941-front-US.jpg",title:"Nike SB Chron 2 Black & Gum Skate Shoes",price:59.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Nike-SB-Zoom-Blazer-Mid-Premium-Smoke-%26-Pink-Skate-Shoes-_348621-front-US.jpg",title:"Nike SB Zoom Blazer Mid Premium Smoke & Pink Skate Shoes",price:89.99,color:"pink",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Vans-Skate-Old-Skool-Asphalt-%26-Pomegranate-Skate-Shoes-_347599-front-US.jpg",title:"Vans Skate Old Skool Asphalt & Pomegranate Skate Shoes",price:39.99,color:"red",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Vans-Old-Skool-Cultivate-Care-Black-Skate-Shoes-_350755-front-US.jpg",title:"Vans Old Skool Cultivate Care Black Skate Shoes",price:59.99,color:"black",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Nike-SB-Chron-2-White-%26-Gum-Canvas-Skate-Shoes-_343942-front-US.jpg",title:"Nike SB Chron 2 White & Gum Canvas Skate Shoes",price:59.99,color:"white",gender:"mens"}]},hightops:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Converse-Chuck-Taylor-All-Star-Pro-Reflective-Tie-Dye-High-Top-Shoes-_346346-front-US.jpg",title:"Converse Chuck Taylor All Star Pro Reflective Tie Dye High Top Shoes",price:49.99,color:"assorted",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Straye-x-Zero-Venice-Our-Lady-Black-High-Top-Skate-Shoes-_344287-front-US.jpg",title:"Straye x Zero Venice Our Lady Black High-Top Skate Shoes",price:59.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Straye-Venice-XS-Flame-Black-%26-White-High-Top-Skate-Shoes-_338427-front-US.jpg",title:"Straye Venice XS Flame Black & White High-Top Skate Shoes",price:69.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Converse-Run-Star-Hike-Midnight-Hibiscus-High-Top-Shoes-_348393-front-US.jpg",title:"Converse Run Star Hike Midnight Hibiscus High Top Shoes",price:109.99,color:"pink",gender:"womens"}]},rollerskates:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Impala-Pastel-Fade-Roller-Skates-_345379-front-US.jpg",title:"Impala Pastel Fade Roller Skates",price:109.99,color:"pink",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Impala-Holographic-Roller-Skates-_311348-front-US.jpg",title:"Impala Holographic Roller Skates",price:99.99,color:"assorted",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Impala-x-Cynthia-Rowley-Floral-Roller-Skates-_350104-front-US.jpg",title:"Impala x Cynthia Rowley Floral Roller Skates",price:119.99,color:"pink",gender:"womens"}]},hats:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Cookies-Original-Mint-Black-%26-White-Snapback-Hat-_352883-front-US.jpg",title:"Cookies Original Mint Black & White Snapback Hat",price:29.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/RIPNDIP-Lord-Nermal-Black-Bucket-Hat-_323623-front-US.jpg",title:"RIPNDIP Lord Nermal Black Bucket Hat",price:39.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Cookies-Thin-Mint-White-%26-Black-Canvas-Snapback-Hat-_352882-front-US.jpg",title:"Cookies Thin Mint White & Black Canvas Snapback Hat",price:29.99,color:"white",gender:"mens"}]},socks:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/RIPNDIP-Lord-Nermal-Purple-Lightning-Crew-Socks-_171317-front-CA.jpg",title:"RIPNDIP Lord Nermal Purple Lightning Crew Socks",price:15.99,color:"purple",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Odd-Future-Donut-All-Over-Print-Black-Crew-Socks-_336504-front-US.jpg",title:"Odd Future Donut All Over Print Black Crew Socks",price:15.99,color:"black",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_small_2x/HUF-Fuck-It-White-Crew-Socks-_328233-front-US.jpg",title:"HUF Fuck It White Crew Socks",price:19.99,color:"white",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_small_2x/Stance-x-Tupac-Resurrected-Crew-Socks-_349638-front-US.jpg",title:"Stance x Tupac Resurrected Crew Socks",price:29.99,color:"black",gender:"mens"}]},underwear:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_small_2x/Ethika-Bomber-Diamond-Boxer-Briefs-_349995-front-US.jpg",title:"Ethika Bomber Diamond Boxer Briefs",price:29.99,color:"blue",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_small_2x/Ethika-Bomber-Planet-Dye-Boxer-Briefs-_349996-front-US.jpg",title:"Ethika Bomber Planet Dye Boxer Briefs",price:25.99,color:"pink",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_small_2x/Ethika-The-Vault-Boxer-Briefs-_349954-front-US.jpg",title:"Ethika The Vault Boxer Briefs",price:29.99,color:"black",gender:"mens"}]},skateboards:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Girl-x-Sanrio-Hello-Kitty-Malto-8.0-Skateboard-Complete-_331715-front-US.jpg",title:"Girl x Sanrio Hello Kitty Malto 8.0 Skateboard Complete",price:99.99,color:"pink",size:"8.0",gender:"womens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Santa-Cruz-Classic-Dot-7.8%22-Skateboard-Complete-_171327-front-CA.jpg",title:'Santa Cruz Classic Dot 7.8" Skateboard Complete',price:75.99,color:"green",size:"7.8",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Enjoi-Whitey-Panda-8.0%22-Skateboard-Complete-_272390-front-US.jpg",title:'Enjoi Whitey Panda 8.0" Skateboard Complete',price:39.99,color:"white",size:"8.0",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Baker-Brand-Logo-Red-8.0%22-Skateboard-Complete-_313470-front-US.jpg",title:'Baker Brand Logo Red 8.0" Skateboard Complete',price:69.99,color:"red",size:"8.0",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Santa-Cruz-Screaming-Hand-7.75%22-Skateboard-Complete-_171326-front-CA.jpg",title:'Santa Cruz Screaming Hand 7.75" Skateboard Complete',price:99.99,color:"yellow",size:"7.75",gender:"mens"}]},longboards:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Arbor-Axis-Bamboo-40%22-Drop-Through-Longboard-Complete-_340101-front-US.jpg",title:'Arbor Axis Bamboo 40" Drop Through Longboard Complete',price:219.95,color:"assorted",size:"40",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Santa-Cruz-Classic-Dot-41%22-Drop-Through-Longboard-Complete-_322871-front-US.jpg",title:'Santa Cruz Classic Dot 41" Drop Through Longboard Complete',price:150.99,color:"black",size:"41",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Arbor-Axis-Photo-37%22-Drop-Through-Longboard-Complete-2021-_340106-front-US.jpg",title:'Arbor Axis Photo 37" Drop Through Longboard Complete 2021',price:99.99,color:"assorted",size:"37",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Sector-9-x-CHOMP-Roundhouse-Great-White-34%22-Drop-Through-Longboard-Complete-_350237-front-US.jpg",title:'Sector 9 x CHOMP Roundhouse Great White 34" Drop Through Longboard Complete',price:149.99,color:"assorted",size:"34",gender:"mens"}]},cruisers:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Dusters-Fungi-29.5%22-Cruiser-Complete-_346972-front-US.jpg",title:'Dusters Fungi 29.5" Cruiser Complete',price:39.99,color:"assorted",size:"29.5",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Globe-Big-Blazer-Bhang-32%22-Purple-Cruiser-Complete-_342779-front-US.jpg",title:'Globe Big Blazer Bhang 32" Purple Cruiser Complete',price:159.99,color:"assorted",size:"32",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Santa-Cruz-Toxic-Hand-32%22-Cruiser-Complete-_343133-front-US.jpg",title:'Santa Cruz Toxic Hand 32" Cruiser Complete',price:154.99,color:"assorted",size:"32",gender:"mens"}]},wheels:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Spitfire-Fireball-Conical-OG-F4-54MM-99D-Skateboard-Wheels-_353612-front-US.jpg",title:"Spitfire Fireball Conical OG F4 54MM 99D Skateboard Wheels",price:39.99,color:"assorted",size:"54mm",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Bones-100-Ringers-54mm-Red-%26-White-Skateboard-Wheels-_289551-front-US.jpg",title:"Bones 100 Ringers 54mm Red & White Skateboard Wheels",price:25.99,color:"white",size:"54mm",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Spitfire-Formula-Four-Full-Conical-53mm-99a-Skateboard-Wheels-_338537-front-US.jpg",title:"Spitfire Formula Four Full Conical 53mm 99a Skateboard Wheels",price:49.99,color:"white",size:"53mm",gender:"mens"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Spitfire-Kader-Radial-Full-Formula-Four-57mm-99A-Skateboard-Wheels-_353611-front-US.jpg",title:"Spitfire Kader Radial Full Formula Four 57mm 99A Skateboard Wheels",price:69.99,color:"assorted",size:"57mm",gender:"mens"}]},trucks:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Thunder-Sonora-Black-148-Skateboard-Truck-_320179-front-US.jpg",title:"Thunder Sonora Black 148 Skateboard Truck",price:30.99,color:"black",size:"148",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Thunder-Sonora-147-High-Skateboard-Truck-_231828-front-US.jpg",title:"Thunder Sonora 147 High Skateboard Truck",price:29.99,color:"white",size:"147",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Independent-Raw-149-Stage-11-Skateboard-Truck-_209557-front-US.jpg",title:"Independent Raw 149 Stage 11 Skateboard Truck",price:35.99,color:"silver",size:"149",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Ace-33-Classic-Purple-Satin-Skateboard-Truck-_335404-front-US.jpg",title:"Ace 33 Classic Purple Satin Skateboard Truck",price:39.99,color:"purple",size:"33",gender:""}]},griptape:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Grizzly-Vitamin-C-Grip-Tape-_341172-front-US.jpg",title:"Grizzly Vitamin C Grip Tape",price:10.99,color:"assorted",size:"none",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Shake-Junt-Stencil-Grip-Tape-_200379-0007-front.jpg",title:"Shake Junt Stencil Grip Tape",price:10.99,color:"black",size:"none",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/RIPNDIP-Nikola-Grip-Tape-_341725-front-US.jpg",title:"RIPNDIP Nikola Grip Tape",price:10.99,color:"assorted",size:"none",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/RIPNDIP-Psychedelic-Grip-Tape-_351978-front-US.jpg",title:"RIPNDIP Psychedelic Grip Tape",price:11.99,color:"assorted",size:"none",gender:""}]},helmets:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Pro-Tec-CPSC-Classic-Matte-Black-Skateboard-Helmet-_325367-front-US.jpg",title:"Pro-Tec CPSC Classic Matte Black Skateboard Helmet",price:29.99,color:"black",size:"",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Triple-Eight-Certified-Sweatsaver-Sunset-Pink-%26-Blue-Skateboard-Helmet-_324374-front-US.jpg",title:"Triple Eight Certified Sweatsaver Sunset Pink & Blue Skateboard Helmet",price:69.99,color:"assorted",size:"",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Triple-Eight-Tony-Hawk-Certified-Sweatsaver-Skateboard-Helmet-_323883-front-US.jpg",title:"Triple Eight Tony Hawk Certified Sweatsaver Skateboard Helmet",price:59.99,color:"black",size:"",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Destroyer-Certified-Matte-Green-Skateboard-Helmet-_341745-front-US.jpg",title:"Destroyer Certified Matte Green Skateboard Helmet",price:39.99,color:"green",size:"",gender:""}]},kneepads:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Pro-Tec-Youth-Street-Gear-3-Pack-Black-Protective-Pads-_160339-front-CA.jpg",title:"Pro-Tec Youth Street Gear 3 Pack Black Protective Pads",price:34.99,color:"black",size:"",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Triple-Eight-Lizzie-Red-%26-Cream-3-Pack-Pad-Set-_351907-front-US.jpg",title:"Triple Eight Lizzie Red & Cream 3-Pack Pad Set",price:79.99,color:"assorted",size:"",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Destroyer-G-Series-Youth-Black-Skateboard-Pad-Set-_325624-front-US.jpg",title:"Destroyer G Series Youth Black Skateboard Pad Set",price:49.99,color:"black",size:"",gender:""},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Pro-Tec-Street-Knee-and-Elbow-Pad-Set-_337206-front-US.jpg",title:"Pro-Tec Street Knee and Elbow Pad Set",price:49.99,color:"black",size:"",gender:""}]},elbowpads:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Triple-Eight-Sunset-Pink-%26-Blue-3-Pack-Pad-Set-_324376-front-US.jpg",title:"Triple Eight Sunset Pink & Blue 3-Pack Pad Set",price:49.99,color:"assorted",size:"",gender:""}]},accessories:function(){return[{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/World-Footbag-Dirt-Bag-Assorted-Hacky-Sack-_359027-front-US.jpg",title:"World Footbag Dirt Bag Assorted Hacky Sack",price:9.99,color:"assorted",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/World-Footbag-Alien-Hacky-Sack-_352701-front-US.jpg",title:"World Footbag Alien Hacky Sack",price:9.99,color:"black",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Guatamalart-Watermelon-Crochet-Hacky-Sack-_305556-front-US.jpg",title:"Guatamalart Watermelon Crochet Hacky Sack",price:10.99,color:"assorted",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Primitive-x-Marvel-by-Paul-Jackson-Venom-Banner-_348971-front-US.jpg",title:"Primitive x Marvel by Paul Jackson Venom Banner",price:29.99,color:"black",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/DGK-Our-Lady-Banner-_350319-front-US.jpg",title:"DGK Our Lady Banner",price:19.99,color:"green",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/DGK-Good-Fortune-Banner-_346092-front-US.jpg",title:"DGK Good Fortune Banner",price:19.99,color:"assorted",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Thrasher-Flame-Logo-Sticker-_230854-front.jpg",title:"Thrasher Flame Logo Sticker",price:2.99,color:"assorted",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/PSD-x-SpongeBob-Pretend-Sponge-Sticker-_163772-front-CA.jpg",title:"PSD x SpongeBob Pretend Sponge Sticker",price:3.99,color:"assorted",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/PSD-x-SpongeBob-SquarePants-Patrick-Instrument-Sticker-_344250-front-US.jpg",title:"PSD x SpongeBob SquarePants Patrick Instrument Sticker",price:2.99,color:"assorted",size:"one-size"},{image:"https://scene7.zumiez.com/is/image/zumiez/product_main_medium_2x/Married-To-The-Mob-Bitch-In-A-Box-Sticker-_244418-front.jpg",title:"Married To The Mob Bitch In A Box Sticker",price:2.99,color:"red",size:"one-size"}]}}}}},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<o.length;++v){var g=o[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case m:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(m,e)||!d.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,_=60107,E=60108,T=60114,C=60109,I=60110,N=60112,A=60113,D=60120,j=60115,P=60116,z=60121,L=60128,R=60129,O=60130,M=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;x=F("react.element"),S=F("react.portal"),_=F("react.fragment"),E=F("react.strict_mode"),T=F("react.profiler"),C=F("react.provider"),I=F("react.context"),N=F("react.forward_ref"),A=F("react.suspense"),D=F("react.suspense_list"),j=F("react.memo"),P=F("react.lazy"),z=F("react.block"),F("react.scope"),L=F("react.opaque.id"),R=F("react.debug_trace_mode"),O=F("react.offscreen"),M=F("react.legacy_hidden")}var U,B="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function K(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case j:return G(e.type);case z:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ve,ge=(ve=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ie=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Ce(e.stateNode,e.type,t))}}function De(e){Ie?Ne?Ne.push(e):Ne=[e]:Ie=e}function je(){if(Ie){var e=Ie,t=Ne;if(Ne=Ie=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function ze(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Re=Pe,Oe=!1,Me=!1;function Fe(){null===Ie&&null===Ne||(Le(),je())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){Be=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(ve){Be=!1}function qe(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,We=null,qe.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Et={},Tt={};function Ct(e){if(Et[e])return Et[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Et[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var It=Ct("animationend"),Nt=Ct("animationiteration"),At=Ct("animationstart"),Dt=Ct("transitionend"),jt=new Map,Pt=new Map,zt=["abort","abort",It,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),jt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Rt=8;function Ot(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Rt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ot(u),i=Rt):0!==(s&=a)&&(r=Ot(s),i=Rt)}else 0!==(a=n&~o)?(r=Ot(a),i=Rt):0!==s&&(r=Ot(s),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ot(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Bt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Oe||Le();var i=Jt,a=Oe;Oe=!0;try{ze(i,e,t,n,r)}finally{(Oe=a)||Fe()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&mt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=vt(st,e,t,n,r,i),!0;case"dragenter":return ut=vt(ut,e,t,n,r,i),!0;case"mouseover":return ct=vt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,vt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;mt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),mn=un(pn),vn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(vn),yn=un(i({},vn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=un(wn),Sn=un(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function In(){return Cn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=un(Nn),Dn=un(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),zn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(zn),Rn=[9,13,27,32],On=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Fn=f&&"TextEvent"in window&&!Mn,Un=f&&(!On||Mn&&8<Mn&&11>=Mn),Bn=String.fromCharCode(32),Vn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){De(r),0<(t=Or(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Te(e)),e=Xn,Oe)e(t);else{Oe=!0;try{Pe(e,t)}finally{Oe=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Or(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(zt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<_r.length;Er++)Pt.set(_r[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Ir(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){e[Dr]||(e[Dr]=!0,s.forEach((function(t){Cr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),zr(a,e,i,t),o.add(s))}function zr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{Re(e,t,n)}finally{Me=!1,Fe()}}((function(){var r=a,i=Te(n),o=[];e:{var s=jt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=jn;break;case It:case Nt:case At:u=bn;break;case Dt:u=Pn;break;case"scroll":u=mn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Dn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==h&&(null!=(m=Ue(p,h))&&l.push(Rr(p,m,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Dn,m="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(m,p+"leave",u,n,i)).target=f,s.relatedTarget=d,m=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,m=l),f=m,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,m=h;m;m=Mr(m))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)h=Mr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Mr(l),h=Mr(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zn;else if(Gn(s))if(er)v=cr;else{v=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ur);switch(v&&(v=v(e,r))?Qn(o,v,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(kr=g,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Or(r,k)).length&&(k=new Sn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Hn(n))&&(k.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Or(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Nr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Or(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Rr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Rr(e,a,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Rr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Rr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Br=null,Vr=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),mi=hi;function vi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,mi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,_i=null,Ei=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ii=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Di=a.unstable_getCurrentPriorityLevel,ji=a.unstable_ImmediatePriority,Pi=a.unstable_UserBlockingPriority,zi=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Ri=a.unstable_IdlePriority,Oi={},Mi=void 0!==Ni?Ni:function(){},Fi=null,Ui=null,Bi=!1,Vi=Ai(),qi=1e4>Vi?Ai:function(){return Ai()-Vi};function Hi(){switch(Di()){case ji:return 99;case Pi:return 98;case zi:return 97;case Li:return 96;case Ri:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return ji;case 98:return Pi;case 97:return zi;case 96:return Li;case 95:return Ri;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ei(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Yi()}function Yi(){if(!Bi&&null!==Fi){Bi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ti(ji,Qi),n}finally{Bi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(u=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=m.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var ma=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?mi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ma,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?mi:di.current,i.context=vi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Sa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ma&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Sa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Sa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Sa(e,null,t),n.return=e,n;case S:return(t=Xu(t,e.mode,n)).return=e,t}if(xa(t)||V(t))return(t=Qu(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(xa(n)||V(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||V(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function m(i,o,s,u){for(var c=null,l=null,f=o,m=o=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var g=d(i,f,s[m],u);if(null===g){null===f&&(f=v);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,m),null===l?c=g:l.sibling=g,l=g,f=v}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=h(i,s[m],u))&&(o=a(f,o,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(v=p(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),o=a(v,o,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var k=d(i,m,y.value,c);if(null===k){null===m&&(m=g);break}e&&m&&null===k.alternate&&t(i,m),s=a(k,s,v),null===f?l=k:f.sibling=k,f=k,m=g}if(y.done)return n(i,m),l;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return l}for(m=r(i,m);!y.done;v++,y=u.next())null!==(y=p(m,i,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===f?l=y:f.sibling=y,f=y);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Sa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=Sa(e,r,a),u.return=e,e=u)}return s(e);case S:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(xa(a))return m(e,r,a,u);if(V(a))return v(e,r,a,u);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ea(!0),Ca=Ea(!1),Ia={},Na=ci(Ia),Aa=ci(Ia),Da=ci(Ia);function ja(e){if(e===Ia)throw Error(o(174));return e}function Pa(e,t){switch(fi(Da,t),fi(Aa,e),fi(Na,Ia),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function za(){li(Na),li(Aa),li(Da)}function La(e){ja(Da.current);var t=ja(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function Ra(e){Aa.current===e&&(li(Na),li(Aa))}var Oa=ci(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Ba=!1;function Va(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Ua;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Fa=e);Va(Fa,n)}Fa=e,Ua=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Fa=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ka(e){if(e!==Fa)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Ua;t;)Va(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=Fa=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Po:zo,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=jo,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Oo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Oo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ps;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,m=h.source;h=h.subscribe;var v=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(v);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(m,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Do.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function mo(e,t,n){return po(uo(),e,t,n)}function vo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Do.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function So(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function Co(){}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Do(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var jo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Do.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:Co,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return vo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},zo={readContext:oa,useCallback:Io,useContext:oa,useEffect:So,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return So((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Io,useContext:oa,useEffect:So,useImperativeHandle:To,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:Co,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return So((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:mo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Oo=!1;function Mo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ta(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Oo?(t.flags|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Oo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Oo=!0)}return Ho(e,t,n,r,a)}function Vo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Mo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?mi:di.current;return a=vi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Oo?(t.flags|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=vi(t,c=gi(n)?mi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=vi(t,u=gi(n)?mi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),as(e,t,a);r=t.stateNode,Ro.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Pa(e,t.containerInfo)}var Qo,Yo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Oa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Oa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=Oa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Oa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return za(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ra(t);var a=ja(Da.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=ja(Na.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Ar(Tr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ue(r,s),Ar("invalid",r)}for(var c in _e(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ar(Tr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?xe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Ar("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=ja(Da.current),ja(Na.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Oa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Oa.current)?0===Ms&&(Ms=3):(0!==Ms&&3!==Ms||(Ms=4),null===Ps||0===(134217727&Bs)&&0===(134217727&Vs)||yu(Ps,Ls))),(r||n)&&(t.flags|=4),null);case 4:return za(),null===e&&jr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Oa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Ms||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ma(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Oa,1&Oa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ma(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Oa.current,fi(Oa,s?1&t|2:1&t),n):null;case 23:case 24:return Su(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(za(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ra(e),null;case 13:return li(Oa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Oa),null;case 4:return za(),null;case 10:return ra(e),null;case 23:case 24:return Su(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,ja(Na.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ou(n,e),Ru(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Si,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ou(t,n);else{r=t;try{i()}catch(a){Uu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Uu(t,a)}break;case 5:ms(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ss(e,n,t):_s(e,n,t)}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?xe(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=qi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Is(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,As=w.ReactCurrentDispatcher,Ds=w.ReactCurrentOwner,js=0,Ps=null,zs=null,Ls=0,Rs=0,Os=ci(0),Ms=0,Fs=null,Us=0,Bs=0,Vs=0,qs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=qi()+500}var Qs,Ys=null,$s=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&js)?qi():-1!==su?su:su=qi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Us),0!==$i.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&js)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=mu(e,t)))return null;qt(e,t,n),e===Ps&&(Vs|=t,4===Ms&&yu(e,Ls));var r=Hi();1===t?0!==(8&js)&&0===(48&js)?ku(e):(vu(e,n),0===js&&(Gs(),Qi())):(0===(4&js)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,n)),Hs=e}function mu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ot(c);var f=Rt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===Ps?Ls:0),t=Rt,0===r)null!==n&&(n!==Oi&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Oi&&Ci(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Ui=Ti(ji,Yi)):Fi.push(n),n=Oi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&js))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Mt(e,e===Ps?Ls:0);if(0===n)return null;var r=n,i=js;js|=16;var a=Tu();for(Ps===e&&Ls===r||(Gs(),_u(e,r));;)try{Nu();break}catch(u){Eu(e,u)}if(na(),As.current=a,js=i,null!==zs?r=0:(Ps=null,Ls=0,r=Ms),0!==(Us&Vs))_u(e,0);else if(0!==r){if(2===r&&(js|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=Cu(e,n))),1===r)throw t=Fs,_u(e,0),yu(e,n),vu(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:ju(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-qi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(ju.bind(null,e),r);break}ju(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Wr(ju.bind(null,e),n);break}ju(e);break;default:throw Error(o(329))}}return vu(e,qi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~qs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&js))throw Error(o(327));if(Lu(),e===Ps&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Cu(e,t);0!==(Us&Vs)&&(n=Cu(e,t=Mt(e,t)))}else n=Cu(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(js|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=Cu(e,t))),1===n)throw n=Fs,_u(e,0),yu(e,t),vu(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ju(e),vu(e,qi()),null}function bu(e,t){var n=js;js|=1;try{return e(t)}finally{0===(js=n)&&(Gs(),Qi())}}function wu(e,t){var n=js;js&=-2,js|=8;try{return e(t)}finally{0===(js=n)&&(Gs(),Qi())}}function xu(e,t){fi(Os,Rs),Rs|=t,Us|=t}function Su(){Rs=Os.current,li(Os)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==zs)for(n=zs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:za(),li(pi),li(di),Ya();break;case 5:Ra(r);break;case 4:za();break;case 13:case 19:li(Oa);break;case 10:ra(r);break;case 23:case 24:Su()}n=n.return}Ps=e,zs=Ku(e.current,null),Ls=Rs=Us=t,Ms=0,Fs=null,qs=Vs=Bs=0}function Eu(e,t){for(;;){var n=zs;try{if(na(),$a.current=jo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ds.current=null,null===n||null===n.return){Ms=1,Fs=t,zs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Oa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=h.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var g=new Set;g.add(c),h.updateQueue=g}else v.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ms&&(Ms=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Du(n)}catch(S){t=S,zs===n&&null!==n&&(zs=n=n.return);continue}break}}function Tu(){var e=As.current;return As.current=jo,null===e?jo:e}function Cu(e,t){var n=js;js|=16;var r=Tu();for(Ps===e&&Ls===t||_u(e,t);;)try{Iu();break}catch(i){Eu(e,i)}if(na(),js=n,As.current=r,null!==zs)throw Error(o(261));return Ps=null,Ls=0,Ms}function Iu(){for(;null!==zs;)Au(zs)}function Nu(){for(;null!==zs&&!Ii();)Au(zs)}function Au(e){var t=Qs(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?Du(e):zs=t,Ds.current=null}function Du(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Rs)))return void(zs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Rs)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(zs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(zs=t);zs=t=e}while(null!==t);0===Ms&&(Ms=5)}function ju(e){var t=Hi();return Ki(99,Pu.bind(null,e,t)),null}function Pu(e,t){do{Lu()}while(null!==eu);if(0!==(48&js))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ps&&(zs=Ps=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=js,js|=32,Ds.current=null,Br=Yt,gr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,m=0,v=s,g=null;t:for(;;){for(var y;v!==u||0!==a&&3!==v.nodeType||(h=f+a),v!==c||0!==l&&3!==v.nodeType||(d=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(y=v.firstChild);)g=v,v=y;for(;;){if(v===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++m===l&&(d=f),null!==(y=v.nextSibling))break;g=(v=g).parentNode}v=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{zu()}catch(T){if(null===Ys)throw Error(o(330));Uu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ye(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs(Ys),Ys.flags&=-3;break;case 6:xs(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:Es(s,u=Ys);var x=u.alternate;bs(u),null!==x&&bs(x)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Uu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Vr,b=vr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&mr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=pr(k,x),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,Vr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var S=Ys.flags;if(36&S&&gs(k,Ys.alternate,Ys),128&S){b=void 0;var _=Ys.ref;if(null!==_){var E=Ys.stateNode;Ys.tag,b=E,"function"===typeof _?_(b):_.current=b}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Uu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Mi(),js=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((S=Ys).sibling=null,S.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(T){}if(vu(e,qi()),$s)throw $s=!1,e=Xs,Xs=null,e;return 0!==(8&js)||Qi(),null}function zu(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Is(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&vs(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Mu)}return!1}function Ru(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Ou(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Mu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&js))throw Error(o(331));var t=js;js|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return js=t,Qi(),!0}function Fu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=mu(e,1))&&(qt(e,1,t),vu(e,t))}function Uu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=mu(n,1)))qt(n,1,i),vu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ps===e&&(Ls&n)===n&&(4===Ms||3===Ms&&(62914560&Ls)===Ls&&500>qi()-Ws?_u(e,0):qs|=n),vu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Us),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=mu(e,t))&&(qt(e,t,n),vu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Qu(n.children,i,a,t);case R:s=8,i|=16;break;case E:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case A:return(e=Hu(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case D:return(e=Hu(19,n,t,i)).elementType=D,e.lanes=a,e;case O:return Yu(n,i,a,t);case M:return(e=Hu(24,n,t,i)).elementType=M,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case I:s=9;break e;case N:s=11;break e;case j:s=14;break e;case P:s=16,r=null;break e;case z:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=O,e.lanes=n,e}function $u(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,jr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Oo=!0;else{if(0===(n&r)){switch(Oo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Pa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Oa,1&Oa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Oa,1&Oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Oa,Oa.current),r)break;return null;case 23:case 24:return t.lanes=0,Vo(e,t,n)}return as(e,t,n)}Oo=0!==(16384&e.flags)}else Oo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===j)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Qr(t.stateNode.containerInfo.firstChild),Fa=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),qo(e,t),Mo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Pa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Mo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Uo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Vo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=bu,ze=function(e,t,n,r,i){var a=js;js|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(js=a)&&(Gs(),Qi())}},Le=function(){0===(49&js)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,qi())}))}Qi()}(),Lu())},Re=function(e,t){var n=js;js|=2;try{return e(t)}finally{0===(js=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,De,je,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),_i=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=js;if(0!==(48&n))return e(t);js|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{js=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(s+=e.slice(o,d),o=d+f.length,h)s+=h[1];else{var p=e[o],m=n[2],v=n[3],g=n[4],y=n[5],k=n[6],b=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=p&&p!==m,x="+"===k||"*"===k,S="?"===k||"*"===k,_=n[2]||l,E=g||y;r.push({name:v||a++,prefix:m||"",delimiter:_,optional:S,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+u(_)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",s=t||{},u=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=s[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=u(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)o+=u(c);else{var h=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=u(n.delimiter||"/"),m=o.slice(-p.length)===p;return i||(o=(m?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&m?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case m:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var k=y.prototype=new g;k.constructor=y,r(k,v.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),C(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=C(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(d(321));return e}var j={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),o=new I(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",m={};function v(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=y.prototype=v.prototype=Object.create(k);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=y,u(x,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},S(_.prototype),u(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,v=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();k=e+y;try{v(!0,e)?w.postMessage(null):(m=!1,v=null)}catch(n){throw w.postMessage(null),n}}else m=!1},n=function(e){v=e,m||(m=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],C=[],I=1,N=null,A=3,D=!1,j=!1,P=!1;function z(e){for(var t=S(C);null!==t;){if(null===t.callback)_(C);else{if(!(t.startTime<=e))break;_(C),t.sortIndex=t.expirationTime,x(T,t)}t=S(C)}}function L(e){if(P=!1,z(e),!j)if(null!==S(T))j=!0,n(R);else{var t=S(C);null!==t&&r(L,t.startTime-e)}}function R(e,n){j=!1,P&&(P=!1,i()),D=!0;var a=A;try{for(z(n),N=S(T);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===S(T)&&_(T),z(n)}else _(T);N=S(T)}if(null!==N)var u=!0;else{var c=S(C);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=a,D=!1}}var O=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||D||(j=!0,n(R))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=O,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(C,e),null===S(T)&&e===S(C)&&(P?i():P=!0,r(L,o-s))):(e.sortIndex=u,x(T,e),j||D||(j=!0,n(R))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},191:function(e){var t="undefined"!==typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,r){return(e||"")+""+t+n().toString(36)+(r||"")},e.exports.process=function(e,r){return(e||"")+t+n().toString(36)+(r||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return it},SDK_VERSION:function(){return Qt},_DEFAULT_ENTRY_NAME:function(){return Pt},_addComponent:function(){return Ot},_addOrOverwriteComponent:function(){return Mt},_apps:function(){return Lt},_clearComponents:function(){return Vt},_components:function(){return Rt},_getProvider:function(){return Ut},_registerComponent:function(){return Ft},_removeServiceInstance:function(){return Bt},deleteApp:function(){return Jt},getApp:function(){return $t},getApps:function(){return Xt},initializeApp:function(){return Yt},onLog:function(){return tn},registerVersion:function(){return en},setLogLevel:function(){return nn}});var t=n(791),r=n(164);function i(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,u,"next",e)}function u(e){i(o,r,a,s,u,"throw",e)}s(void 0)}))}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(757),l=n.n(c);function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f(e,t)}var d=n(7),p=n.n(d);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function v(e){return"/"===e.charAt(0)}function g(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var y=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&v(e),o=t&&v(t),s=a||o;if(e&&v(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var u=i[i.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?g(i,l):".."===f?(g(i,l),c++):c&&(g(i,l),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&v(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},k="Invariant failed";var b=function(e,t){if(!e)throw new Error(k)};function w(e){return"/"===e.charAt(0)?e:"/"+e}function x(e){return"/"===e.charAt(0)?e.substr(1):e}function S(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function _(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function E(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function T(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=m({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=y(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function C(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var I=!("undefined"===typeof window||!window.document||!window.document.createElement);function N(e,t){t(window.confirm(e))}var A="popstate",D="hashchange";function j(){try{return window.history.state||{}}catch(e){return{}}}function P(e){void 0===e&&(e={}),I||b(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,u=void 0===s?N:s,c=i.keyLength,l=void 0===c?6:c,f=e.basename?_(w(e.basename)):"";function h(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return f&&(a=S(a,f)),T(a,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var p=C();function v(e){m(U,e),U.length=t.length,p.notifyListeners(U.location,U.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||x(h(e.state))}function y(){x(h(j()))}var k=!1;function x(e){if(k)k=!1,v();else{p.confirmTransitionTo(e,"POP",u,(function(t){t?v({action:"POP",location:e}):function(e){var t=U.location,n=z.indexOf(t.key);-1===n&&(n=0);var r=z.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,R(i))}(e)}))}}var P=h(j()),z=[P.key];function L(e){return f+E(e)}function R(e){t.go(e)}var O=0;function M(e){1===(O+=e)&&1===e?(window.addEventListener(A,g),r&&window.addEventListener(D,y)):0===O&&(window.removeEventListener(A,g),r&&window.removeEventListener(D,y))}var F=!1;var U={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",a=T(e,r,d(),U.location);p.confirmTransitionTo(a,i,u,(function(e){if(e){var r=L(a),s=a.key,u=a.state;if(n)if(t.pushState({key:s,state:u},null,r),o)window.location.href=r;else{var c=z.indexOf(U.location.key),l=z.slice(0,c+1);l.push(a.key),z=l,v({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=T(e,r,d(),U.location);p.confirmTransitionTo(a,i,u,(function(e){if(e){var r=L(a),s=a.key,u=a.state;if(n)if(t.replaceState({key:s,state:u},null,r),o)window.location.replace(r);else{var c=z.indexOf(U.location.key);-1!==c&&(z[c]=a.key),v({action:i,location:a})}else window.location.replace(r)}}))},go:R,goBack:function(){R(-1)},goForward:function(){R(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return F||(M(1),F=!0),function(){return F&&(F=!1,M(-1)),t()}},listen:function(e){var t=p.appendListener(e);return M(1),function(){M(-1),t()}}};return U}var z="hashchange",L={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+x(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:x,decodePath:w},slash:{encodePath:w,decodePath:w}};function R(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(R(window.location.href)+"#"+e)}function F(e){void 0===e&&{},I||b(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?N:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?_(w(e.basename)):"",u=L[o],c=u.encodePath,l=u.decodePath;function f(){var e=l(O());return s&&S(e,s),T(e)}var h=C();function d(e){m(U,e),U.length=t.length,h.notifyListeners(U.location,U.action)}var p=!1,v=null;function g(){var e,t,n=O(),r=c(n);if(n!==r)M(r);else{var a=f(),o=U.location;if(!p&&(a,o.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===E(a))return;null,function(e){if(p)!1,d();else{var t="POP";h.confirmTransitionTo(e,t,i,(function(n){n?d({action:t,location:e}):function(e){var t=U.location,n=A.lastIndexOf(E(t));-1===n&&0;var r=A.lastIndexOf(E(e));-1===r&&0;var i=n-r;i&&(!0,D(i))}(e)}))}}(a)}}var y=O(),k=c(y);y!==k&&M(k);var x=f(),A=[E(x)];function D(e){t.go(e)}var j=0;function P(e){1===(j+=e)&&1===e?window.addEventListener(z,g):0===j&&window.removeEventListener(z,g)}var F=!1;var U={length:t.length,action:"POP",location:x,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&R(window.location.href),n+"#"+c(s+E(e))},push:function(e,t){var n="PUSH",r=T(e,void 0,void 0,U.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=E(r),i=c(s+t);if(O()!==i){t,function(e){window.location.hash=e}(i);var a=A.lastIndexOf(E(U.location)),o=A.slice(0,a+1);o.push(t),o,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=T(e,void 0,void 0,U.location);h.confirmTransitionTo(r,n,i,(function(e){if(e){var t=E(r),i=c(s+t);O()!==i&&(t,M(i));var a=A.indexOf(E(U.location));-1!==a&&(A[a]=t),d({action:n,location:r})}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return F||(P(1),!0),function(){return F&&(!1,P(-1)),t()}},listen:function(e){var t=h.appendListener(e);return P(1),function(){P(-1),t()}}};return U}function U(e,t,n){return Math.min(Math.max(e,t),n)}function B(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,s=t.keyLength,u=void 0===s?6:s,c=C();function l(e){m(g,e),g.length=g.entries.length,c.notifyListeners(g.location,g.action)}function f(){return Math.random().toString(36).substr(2,u)}var h=U(o,0,i.length-1),d=i.map((function(e){return T(e,void 0,"string"===typeof e?f():e.key||f())})),p=E;function v(e){var t=U(g.index+e,0,g.entries.length-1),r=g.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var g={length:d.length,action:"POP",location:d[h],index:h,entries:d,createHref:p,push:function(e,t){var r="PUSH",i=T(e,t,f(),g.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=g.index+1,n=g.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=T(e,t,f(),g.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(g.entries[g.index]=i,l({action:r,location:i}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=g.index+e;return t>=0&&t<g.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return g}var V=1073741823,q="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function H(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var W=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return q[e]=(q[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=H(t.props.value),t}h(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):V,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=p().object.isRequired,r);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}h(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?V:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?V:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return s.contextTypes=((i={})[a]=p().object,i),{Provider:o,Consumer:s}},K=W,G=n(239),Q=n.n(G);n(228);function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var $=function(e){var t=K();return t.displayName=e,t},X=$("Router-History"),J=$("Router"),Z=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}h(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(J.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(X.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var ee={},te=0;function ne(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ee[n]||(ee[n]={});if(r[e])return r[e];var i=[],a={regexp:Q()(e,i,t),keys:i};return te<1e4&&(r[e]=a,te++),a}(n,{end:a,strict:s,sensitive:c}),i=r.regexp,o=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var re=function(e){function n(){return e.apply(this,arguments)||this}return h(n,e),n.prototype.render=function(){var e=this;return t.createElement(J.Consumer,null,(function(n){n||b(!1);var r=e.props.location||n.location,i=m({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ne(r.pathname,e.props):n.match}),a=e.props,o=a.children,s=a.component,u=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(J.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:s?t.createElement(s,i):u?u(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function ie(e){return"/"===e.charAt(0)?e:"/"+e}function ae(e,t){if(!e)return t;var n=ie(e);return 0!==t.pathname.indexOf(n)?t:m({},t,{pathname:t.pathname.substr(n.length)})}function oe(e){return"string"===typeof e?e:E(e)}function se(e){return function(){b(!1)}}function ue(){}t.Component;var ce=function(e){function n(){return e.apply(this,arguments)||this}return h(n,e),n.prototype.render=function(){var e=this;return t.createElement(J.Consumer,null,(function(n){n||b(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ne(a.pathname,m({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);t.useContext;var le=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=P(t.props),t}return h(n,e),n.prototype.render=function(){return t.createElement(Z,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var fe=function(e,t){return"function"===typeof e?e(t):e},he=function(e,t){return"string"===typeof e?T(e,null,null,t):e},de=function(e){return e},pe=t.forwardRef;"undefined"===typeof pe&&(pe=de);var me=pe((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=Y(e,["innerRef","navigate","onClick"]),s=o.target,u=m({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return u.ref=de!==pe&&n||r,t.createElement("a",u)}));var ve=pe((function(e,n){var r=e.component,i=void 0===r?me:r,a=e.replace,o=e.to,s=e.innerRef,u=Y(e,["component","replace","to","innerRef"]);return t.createElement(J.Consumer,null,(function(e){e||b(!1);var r=e.history,c=he(fe(o,e.location),e.location),l=c?r.createHref(c):"",f=m({},u,{href:l,navigate:function(){var t=fe(o,e.location),n=E(e.location)===E(he(t));(a||n?r.replace:r.push)(t)}});return de!==pe?f.ref=n||s:f.innerRef=s,t.createElement(i,f)}))})),ge=function(e){return e},ye=t.forwardRef;"undefined"===typeof ye&&(ye=ge);ye((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,s=e.activeStyle,u=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,d=e.strict,p=e.style,v=e.to,g=e.innerRef,y=Y(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(J.Consumer,null,(function(e){e||b(!1);var r=f||e.location,a=he(fe(v,r),r),k=a.pathname,w=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=w?ne(r.pathname,{path:w,exact:c,sensitive:h,strict:d}):null,S=!!(l?l(x,r):x),_="function"===typeof u?u(S):u,E="function"===typeof p?p(S):p;S&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),E=m({},E,s));var T=m({"aria-current":S&&i||null,className:_,style:E,to:a},y);return ge!==ye?T.ref=n||g:T.innerRef=g,t.createElement(ve,T)}))}));var ke=n(184);var be=function(e){return(0,ke.jsxs)("div",{className:"mobile-nav-container",style:!0===e.visible?{transform:"translateX(0)"}:{transform:"translateX(-100%)"},children:[(0,ke.jsx)("img",{className:"exit-icon",src:"https://flaticons.net/icon.php?slug_category=mobile-application&slug_icon=close",onClick:function(){return e.setVisible(!1)}}),(0,ke.jsx)("a",{className:"mobile-link",href:"/",children:"HOME"}),(0,ke.jsx)("a",{className:"mobile-link",href:"/apparel",children:"APPAREL"}),(0,ke.jsx)("a",{className:"mobile-link",href:"/boards",children:"BOARDS"}),(0,ke.jsx)("a",{className:"mobile-link",href:"/accessories",children:"ACCESSORIES"}),(0,ke.jsx)("a",{className:"mobile-link",href:"/sales",children:"SALES"})]})};var we=function(e){var n=u((0,t.useState)(!1),2),r=n[0],i=n[1];return(0,ke.jsxs)("div",{className:"nav-container",children:[(0,ke.jsxs)("div",{className:"header-container",children:[(0,ke.jsx)("img",{className:"hamburger",src:"https://icon-library.com/images/hamburger-menu-icon-transparent/hamburger-menu-icon-transparent-3.jpg",onClick:function(){return i(!0)}}),(0,ke.jsx)("div",{className:"joayo-text",children:"The Skate Shop"}),(0,ke.jsxs)("div",{className:"cart-container",children:[(0,ke.jsx)("img",{className:"cart",src:"https://icon-library.com/images/cart-icon-png-white/cart-icon-png-white-11.jpg",onClick:function(){return e.setCartVisible(!0)}}),(0,ke.jsx)("div",{className:"cart-count",children:e.cartCount})]})]}),(0,ke.jsxs)("nav",{className:"navbar",children:[(0,ke.jsx)("li",{children:(0,ke.jsx)(ve,{to:"/",className:"nav-button",children:"HOME"})}),(0,ke.jsx)("li",{children:(0,ke.jsx)(ve,{to:"/apparel",className:"nav-button",children:"APPAREL"})}),(0,ke.jsx)("li",{children:(0,ke.jsx)(ve,{to:"/boards",className:"nav-button",children:"BOARDS"})}),(0,ke.jsx)("li",{children:(0,ke.jsx)(ve,{to:"/accessories",className:"nav-button",children:"ACCESSORIES"})}),(0,ke.jsx)("li",{children:(0,ke.jsx)(ve,{to:"/sales",className:"nav-button",children:"SALES"})})]}),(0,ke.jsx)("div",{className:"header-sale",children:"SUMMER SALE!! | GET UP TO 75% OFF "}),(0,ke.jsx)(be,{visible:r,setVisible:i})]})};var xe=function(){return(0,ke.jsx)("div",{children:(0,ke.jsx)("div",{className:"background",children:(0,ke.jsxs)("ul",{className:"ul1",children:[(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("a",{className:"home-buttons",href:"/apparel",children:"APPAREL"}),(0,ke.jsx)("img",{className:"image",src:"https://i0.heartyhosting.com/skateboarding.transworld.net/wp-content/uploads/2017/10/HO17_MAP_Crockett_Collection-3.jpg?w=2000&ssl=1",alt:"mens shop"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("a",{className:"home-buttons",href:"/boards/skateboards",children:"SKATEBOARDS"}),(0,ke.jsx)("img",{className:"image",src:"https://img.redbull.com/images/c_crop,x_439,y_0,h_550,w_413/c_fill,w_400,h_540/q_auto,f_auto/redbullcom/2020/3/25/k92hawmu55dpxxma0fl0/skate-skateshop-tradicional",alt:"skateboard shop"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("a",{className:"home-buttons",href:"/boards/longboards",children:"LONGBOARDS"}),(0,ke.jsx)("img",{className:"image",src:"https://www.toxicworldskatesurf.com/wp-content/uploads/2017/08/longboard-brands.jpg",alt:"longboard shop"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("a",{className:"home-buttons",href:"/accessories",children:"ACCESSORIES"}),(0,ke.jsx)("img",{className:"image",src:"https://i.pinimg.com/originals/d9/78/ac/d978accc219138a7eece38188ce98bd2.jpg",alt:"accessories shop"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("a",{className:"home-buttons",href:"/sales",children:"SALES"}),(0,ke.jsx)("img",{className:"image",src:"https://images.milledcdn.com/2021-06-10/2z2a5_kdaU0xPq6n/dom96Q3MvyyS.gif",alt:"sales"})]})]})})})};var Se=function(e){var n,r=u((0,t.useState)(!1),2),i=r[0],a=r[1],o=u((0,t.useState)(!1),2),s=o[0],c=o[1],l=u((0,t.useState)(!1),2),f=l[0],h=l[1],d=u((0,t.useState)(!1),2),p=d[0],m=d[1],v=u((0,t.useState)("rotate(0deg)"),2),g=v[0],y=v[1],k=u((0,t.useState)("rotate(0deg)"),2),b=k[0],w=k[1],x=u((0,t.useState)("rotate(0deg)"),2),S=x[0],_=x[1],E=u((0,t.useState)("rotate(0deg)"),2),T=E[0],C=E[1],I=function(){!1===i||"ease-in 0.2s slideup"===i?(a("ease-in 0.2s slidedown"),y("rotate(180deg)")):(a("ease-in 0.2s slideup"),y("rotate(0)"))},N=function(){!1===s||"ease-in 0.2s slideup"===s?(w("rotate(180deg)"),c("ease-in 0.2s slidedown")):(c("ease-in 0.2s slideup"),w("rotate(0deg)"))},A=function(){!1===f||"ease-in 0.2s slideup"===f?(_("rotate(180deg)"),h("ease-in 0.2s slidedown")):(h("ease-in 0.2s slideup"),_("rotate(0deg)"))},D=function(){!1===p||"ease-in 0.2s slideup"===p?(C("rotate(180deg)"),m("ease-in 0.2s slidedown")):(m("ease-in 0.2s slideup"),C("rotate(0deg)"))},j=[(0,ke.jsxs)("div",{className:"side-nav",children:[(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"tops",onClick:function(){return I()},children:["TOPS",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(g)},onClick:function(){return I()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"tops-accordion",style:{animation:i},children:[(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/tees",children:"T-Shirts"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/longsleeves",children:"Longsleeves"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/hoodies",children:"Hoodies"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"bottoms",onClick:function(){return N()},children:["BOTTOMS",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(b)},onClick:function(){return N()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"bottoms-accordion",style:{animation:s},children:[(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/jeans",children:"Jeans"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/joggers",children:"Joggers"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/shorts",children:"Shorts"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"shoes",onClick:function(){return A()},children:["SHOES",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(S)},onClick:function(){return A()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"shoes-accordion",style:{animation:f},children:[(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/skateshoes",children:"Skate Shoes"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/hightops",children:"High-tops"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/rollerskates",children:"Rollerskates"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"accessories",onClick:function(){return D()},children:["ACCESSORIES",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(T)},onClick:function(){return D()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"accessories-accordion",style:{animation:p},children:[(0,ke.jsx)("div",{className:"accessories-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/hats",children:"Hats"})}),(0,ke.jsx)("div",{className:"accessories-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/socks",children:"Socks"})}),(0,ke.jsx)("div",{className:"accessories-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/underwear",children:"Underwear"})})]})]})]})],P=[(0,ke.jsxs)("div",{className:"side-nav",children:[(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"tops",onClick:function(){return I()},children:["BOARDS",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(g)},onClick:function(){return I()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"tops-accordion",style:{animation:i},children:[(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/skateboards",children:"Skateboards"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/longboards",children:"Longboards"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/cruisers",children:"Cruisers"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"bottoms",onClick:function(){return N()},children:["ACCESSORIES",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(b)},onClick:function(){return N()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"bottoms-accordion",style:{animation:s},children:[(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/wheels",children:"Wheels"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/trucks",children:"Trucks"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/griptape",children:"Grip-tape"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"shoes",onClick:function(){return A()},children:["GEAR",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(S)},onClick:function(){return A()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"shoes-accordion",style:{animation:f},children:[(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/helmets",children:"Helmets"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/kneepads",children:"Knee-pads"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/elbowpads",children:"Elbow-pads"})})]})]})]})];return n="boards"===e.type?P:"apparel"===e.type?j:null,(0,ke.jsx)(ke.Fragment,{children:n})};var _e=function(e){var n=u((0,t.useState)(!1),2),r=n[0],i=n[1],a=u((0,t.useState)(!1),2),o=a[0],s=a[1],c=u((0,t.useState)(!1),2),l=c[0],f=c[1],h=u((0,t.useState)(!1),2),d=h[0],p=h[1],m=u((0,t.useState)("rotate(0deg)"),2),v=m[0],g=m[1],y=u((0,t.useState)("rotate(0deg)"),2),k=y[0],b=y[1],w=u((0,t.useState)("rotate(0deg)"),2),x=w[0],S=w[1],_=u((0,t.useState)("rotate(0deg)"),2),E=_[0],T=_[1],C=function(){!1===r||"ease-in 0.2s slideup"===r?(i("ease-in 0.2s slidedown"),g("rotate(180deg)")):(i("ease-in 0.2s slideup"),g("rotate(0)"))},I=function(){!1===o||"ease-in 0.2s slideup"===o?(b("rotate(180deg)"),s("ease-in 0.2s slidedown")):(s("ease-in 0.2s slideup"),b("rotate(0deg)"))},N=function(){!1===l||"ease-in 0.2s slideup"===l?(S("rotate(180deg)"),f("ease-in 0.2s slidedown")):(f("ease-in 0.2s slideup"),S("rotate(0deg)"))},A=function(){!1===d||"ease-in 0.2s slideup"===d?(T("rotate(180deg)"),p("ease-in 0.2s slidedown")):(p("ease-in 0.2s slideup"),T("rotate(0deg)"))},D=[(0,ke.jsxs)("div",{className:"side-nav2",children:[(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"tops",onClick:function(){return C()},children:["TOPS",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(v)},onClick:function(){return C()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"tops-accordion",style:{animation:r},children:[(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/tees",children:"T-Shirts"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/longsleeves",children:"Longsleeves"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/hoodies",children:"Hoodies"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"bottoms",onClick:function(){return I()},children:["BOTTOMS",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(k)},onClick:function(){return I()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"bottoms-accordion",style:{animation:o},children:[(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/jeans",children:"Jeans"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/joggers",children:"Joggers"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/shorts",children:"Shorts"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"shoes",onClick:function(){return N()},children:["SHOES",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(x)},onClick:function(){return N()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"shoes-accordion",style:{animation:l},children:[(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/skateshoes",children:"Skate Shoes"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/hightops",children:"High-tops"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/rollerskates",children:"Rollerskates"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"accessories",onClick:function(){return A()},children:["ACCESSORIES",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(E)},onClick:function(){return A()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"accessories-accordion",style:{animation:d},children:[(0,ke.jsx)("div",{className:"accessories-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/hats",children:"Hats"})}),(0,ke.jsx)("div",{className:"accessories-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/socks",children:"Socks"})}),(0,ke.jsx)("div",{className:"accessories-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/apparel/underwear",children:"Underwear"})})]})]})]})],j=[(0,ke.jsxs)("div",{className:"side-nav2",children:[(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"tops",onClick:function(){return C()},children:["BOARDS",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(v)},onClick:function(){return C()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"tops-accordion",style:{animation:r},children:[(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/skateboards",children:"Skateboards"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/longboards",children:"Longboards"})}),(0,ke.jsx)("div",{className:"tops-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/cruisers",children:"Cruisers"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"bottoms",onClick:function(){return I()},children:["ACCESSORIES",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(k)},onClick:function(){return I()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"bottoms-accordion",style:{animation:o},children:[(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/wheels",children:"Wheels"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/trucks",children:"Trucks"})}),(0,ke.jsx)("div",{className:"bottoms-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/griptape",children:"Grip-tape"})})]})]}),(0,ke.jsxs)("div",{className:"side-nav-categories",children:[(0,ke.jsxs)("div",{className:"shoes",onClick:function(){return N()},children:["GEAR",(0,ke.jsx)("img",{className:"down-arrow",style:{transform:"".concat(x)},onClick:function(){return N()},src:"https://upload.wikimedia.org/wikipedia/commons/9/9d/Arrow-down.svg"})]}),(0,ke.jsxs)("div",{className:"shoes-accordion",style:{animation:l},children:[(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/helmets",children:"Helmets"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/kneepads",children:"Knee-pads"})}),(0,ke.jsx)("div",{className:"shoes-accordion-categories",children:(0,ke.jsx)(ve,{style:{textDecoration:"none",color:"black"},to:"/boards/elbowpads",children:"Elbow-pads"})})]})]})]})];return(0,ke.jsx)(ke.Fragment,{children:"boards"===e.type?j:D})};var Ee=function(){return(0,ke.jsx)("div",{className:"page-background",children:(0,ke.jsx)("div",{children:(0,ke.jsxs)("div",{className:"apparel-background",children:[(0,ke.jsx)(Se,{type:"boards"}),(0,ke.jsxs)("div",{className:"most-popular",children:[(0,ke.jsx)(_e,{type:"boards"}),(0,ke.jsx)("div",{className:"background-apparel",children:(0,ke.jsxs)("ul",{className:"ul1",children:[(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:(0,ke.jsx)(ve,{to:"/boards/skateboards",children:"SKATEBOARDS"})}),(0,ke.jsx)("img",{className:"image",src:"https://www.havocskateboards.com/uploads/1/3/2/0/132023423/s500745904395577779_p312_i8_w3024.jpeg?width=2560"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:(0,ke.jsx)(ve,{to:"/boards/longboards",children:"LONGBOARDS"})}),(0,ke.jsx)("img",{className:"image",src:"https://www.cnet.com/a/img/4OWbT2e1H0fncTaE1HjQAJZDyyo=/940x0/2021/01/29/4b1e44d1-46aa-4b41-8f31-046b68f1d285/longboard-my-rides.jpg"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:(0,ke.jsx)(ve,{to:"/boards/helmets",children:"HELMETS"})}),(0,ke.jsx)("img",{className:"image",src:"https://pyxis.nymag.com/v1/imgs/08b/32a/fae4bb0a7593b580cba11acf1331bbdab1-skating-helmets.2x.rsocial.w600.jpg"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:"TRUCKS"}),(0,ke.jsx)("img",{className:"image",src:"https://www.skatedeluxe.com/blog/wp-content/uploads/2017/01/trucks-skateboard-wiki-600x400.jpg"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:"WHEELS"}),(0,ke.jsx)("img",{className:"image",src:"https://www.skateboardershq.com/wp-content/uploads/2020/12/skateboard-wheels-for-beginners.jpg"})]})]})})]})]})})})};var Te=function(e){return(0,ke.jsx)("div",{className:"page-background",children:(0,ke.jsx)("div",{children:(0,ke.jsxs)("div",{className:"apparel-background",children:[(0,ke.jsx)(Se,{}),(0,ke.jsxs)("div",{className:"most-popular",children:[(0,ke.jsx)(_e,{}),(0,ke.jsx)("div",{className:"background-apparel",children:(0,ke.jsxs)("ul",{className:"ul1",children:[(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:(0,ke.jsx)(ve,{to:"/apparel/tees",children:"SHOP TEES"})}),(0,ke.jsx)("img",{className:"image",src:"https://cdn.shopify.com/s/files/1/1005/6270/articles/t-shirt-to-work_1200x.jpg?v=1507763016"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:(0,ke.jsx)(ve,{to:"/apparel/hoodies",children:"SHOP HOODIES"})}),(0,ke.jsx)("img",{className:"image",src:"https://assets.teenvogue.com/photos/5fda092a0128002c07f6f21a/16:9/w_2560%2Cc_limit/Style_Hoodies_Dec14_HEADER.jpg"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:(0,ke.jsx)(ve,{to:"/apparel/jeans",children:"SHOP JEANS"})}),(0,ke.jsx)("img",{className:"image",src:"https://thumbor.forbes.com/thumbor/960x0/https%3A%2F%2Fspecials-images.forbesimg.com%2Fimageserve%2F606220240b2453fe70cafcb2%2FA-rack-of-second-hand-jeans%2F960x0.jpg%3Ffit%3Dscale"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:"SHOP SHOES"}),(0,ke.jsx)("img",{className:"image",src:"https://media.walkjogrun.net/wp-content/uploads/2015/07/Best-Skate-Shoes.jpg"})]}),(0,ke.jsxs)("li",{className:"list-item",children:[(0,ke.jsx)("button",{className:"home-buttons",style:{backgroundColor:"rgb(0, 0, 0, 0.50)"},children:"SHOP ACCESSORIES"}),(0,ke.jsx)("img",{className:"image",src:"http://www.vuskateboardshop.com/vu/wp-content/uploads/2018/09/IMG_4910-e1538087729893.jpg"})]})]})})]})]})})})};var Ce=function(){return(0,ke.jsx)("div",{children:(0,ke.jsxs)("footer",{className:"home-footer",children:[(0,ke.jsx)("span",{className:"footer-top",children:"The Skate Shop"}),(0,ke.jsxs)("ul",{className:"links",children:[(0,ke.jsx)("img",{className:"facebook-logo",src:"https://i.pinimg.com/originals/ca/3b/f0/ca3bf05cfab74677e5b73b130bd30991.png",alt:"facebook logo"}),(0,ke.jsx)("img",{className:"instagram-logo",src:"http://assets.stickpng.com/images/5ecec78673e4440004f09e77.png",alt:"instagram logo"}),(0,ke.jsx)("img",{className:"youtube-logo",src:"https://cdn.iconscout.com/icon/free/png-256/youtube-66-114609.png",alt:"utube logo"})]}),(0,ke.jsxs)("div",{className:"email-signup",children:[(0,ke.jsx)("h2",{children:"Sign up for email, get the latest deals and trends"}),(0,ke.jsx)("button",{className:"signup-button",children:"SIGN UP"})]}),(0,ke.jsxs)("div",{className:"footer-bottom",children:[(0,ke.jsx)("h3",{children:"Contact"}),(0,ke.jsx)("h3",{children:"|"}),(0,ke.jsx)("h3",{children:"Privacy policy"}),(0,ke.jsx)("h3",{children:"|"}),(0,ke.jsx)("h3",{children:"Terms and Conditions"}),(0,ke.jsx)("h4",{children:"\xa92021 Joayo"})]})]})})};var Ie=function(e){return(0,ke.jsxs)("div",{className:"apparel-sort-container",children:[(0,ke.jsx)("div",{className:"price-sort",children:(0,ke.jsxs)("select",{name:"price",className:"price-select",onChange:function(t){e.queryString.set("price",t.target.value),e.handleQueryStringChange("price")},children:[(0,ke.jsx)("option",{value:"",children:"Price"}),(0,ke.jsx)("option",{value:"low-to-high",children:"Low to High"}),(0,ke.jsx)("option",{value:"high-to-low",children:"High to Low"})]})}),(0,ke.jsx)("div",{className:"color-sort",children:(0,ke.jsxs)("select",{name:"color",className:"color-select",onChange:function(t){e.queryString.set("color",t.target.value),e.handleQueryStringChange("color")},children:[(0,ke.jsx)("option",{value:"",children:"Color"}),(0,ke.jsx)("option",{value:"red",children:"Red"}),(0,ke.jsx)("option",{value:"pink",children:"Pink"}),(0,ke.jsx)("option",{value:"blue",children:"Blue"}),(0,ke.jsx)("option",{value:"green",children:"Green"}),(0,ke.jsx)("option",{value:"orange",children:"Orange"}),(0,ke.jsx)("option",{value:"yellow",children:"Yellow"}),(0,ke.jsx)("option",{value:"brown",children:"Brown"}),(0,ke.jsx)("option",{value:"purple",children:"Purple"}),(0,ke.jsx)("option",{value:"black",children:"Black"}),(0,ke.jsx)("option",{value:"white",children:"White"}),(0,ke.jsx)("option",{value:"grey",children:"Grey"}),(0,ke.jsx)("option",{value:"silver",children:"Silver"}),(0,ke.jsx)("option",{value:"natural",children:"Natural"}),(0,ke.jsx)("option",{value:"assorted",children:"Assorted"})]})}),(0,ke.jsx)("div",{className:"gender-sort",children:(0,ke.jsxs)("select",{name:"gender",className:"gender-select",onChange:function(t){e.queryString.set("gender",t.target.value),e.handleQueryStringChange("gender")},children:[(0,ke.jsx)("option",{value:"",children:"Gender"}),(0,ke.jsx)("option",{value:"mens",children:"Mens"}),(0,ke.jsx)("option",{value:"womens",children:"Womens"})]})})]})};var Ne=function(e){var t=[(0,ke.jsxs)("div",{className:"most-popular-item",children:[(0,ke.jsxs)("div",{className:"most-popular-item-image-container",children:[(0,ke.jsx)("div",{className:"get-it-now",children:"ADD TO CART"}),(0,ke.jsx)("img",{src:e.image,alt:e.title,className:"most-popular-item-image",onClick:function(){e.popup(!0),e.selectImage(e.image),e.selectTitle(e.title),e.selectPrice(e.price)}})]}),(0,ke.jsx)("div",{className:"most-popular-item-text",children:e.title}),(0,ke.jsx)("div",{className:"most-popular-item-price",style:e.presale?{textDecoration:"line-through",color:"gray"}:null,children:e.presale?e.presale:e.price}),(0,ke.jsx)("div",{className:"most-popular-item-sale",children:e.presale?(0,ke.jsx)("div",{children:e.price}):null})]})];return"skateboards"!==e.page&&"longboards"!==e.page&&"cruisers"!==e.page&&"wheels"!==e.page&&"trucks"!==e.page&&"griptape"!==e.page&&"accessories"!==e.page||(t=[(0,ke.jsxs)("div",{className:"most-popular-item",children:[(0,ke.jsxs)("div",{className:"most-popular-item-image-container",children:[(0,ke.jsx)("div",{className:"get-it-now",children:"ADD TO CART"}),(0,ke.jsx)("img",{src:e.image,alt:e.title,className:"most-popular-item-image",onClick:function(){e.popup(!0),e.selectImage(e.image),e.selectTitle(e.title),e.selectPrice(e.price),e.selectSize(e.size)}})]}),(0,ke.jsx)("div",{className:"most-popular-item-text",children:e.title}),(0,ke.jsx)("div",{className:"most-popular-item-price",children:e.price})]})]),(0,ke.jsx)(ke.Fragment,{children:t})},Ae=n(191),De=n.n(Ae),je=n(426);var Pe=function(e){var n=u((0,t.useState)([]),2),r=n[0],i=n[1],a=u((0,t.useState)(!1),2),o=a[0],s=a[1],c=u((0,t.useState)(""),2),l=c[0],f=c[1],h=u((0,t.useState)(""),2),d=h[0],p=h[1],m=u((0,t.useState)(""),2),v=m[0],g=m[1],y=u((0,t.useState)(""),2),k=y[0],b=y[1],w=(0,je.apparel)(),x=["tees","longsleeves","hoodies","jeans","joggers","shorts","skateshoes","hightops","rollerskates","hats","socks","underwear","skateboards","longboards","cruisers","wheels","trucks","griptape","helmets","kneepads","elbowpads","accessories"],S=[];"sales"!==e.page&&(S=null===w||void 0===w?void 0:w[e.page]());var _=window.location.search,E=new URLSearchParams(_);if("sales"===e.page){for(var T=0;T<x.length;T++)S.push(null===w||void 0===w?void 0:w[x[T]]().filter((function(e){return void 0!==e.presale})));S=S.flat()}(0,t.useLayoutEffect)((function(){i(S.map((function(t){return(0,ke.jsx)(Ne,{image:t.image,title:t.title,price:t.price,size:t.size,presale:t.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g,selectSize:b,page:e.page},De()())}))),"high-to-low"!==E.get("price")&&"low-to-high"!==E.get("price")||D(E.get("price")),null!==E.get("color")&&j(E.get("color")),null!==E.get("gender")&&P(E.get("gender"))}),[]);var C=[(0,ke.jsx)("div",{className:"wrapper",children:(0,ke.jsxs)("div",{className:"modal",children:[(0,ke.jsx)("div",{className:"exit-modal-wrapper",children:(0,ke.jsx)("img",{className:"exit-modal",src:"https://cdn4.iconfinder.com/data/icons/defaulticon/icons/png/256x256/cancel.png",alt:"exit-icon",onClick:function(){s(!1),b("none")}})}),(0,ke.jsx)("img",{className:"selected-image",src:l,alt:"product"}),(0,ke.jsx)("div",{className:"selected-title",children:d}),(0,ke.jsx)("div",{className:"selected-price",children:v}),(0,ke.jsxs)("div",{className:"sizes-container",children:[(0,ke.jsx)("div",{className:"sizes",style:{backgroundColor:"x-small"===k?"black":"rgb(70, 70, 70)"},onClick:function(){b("x-small")},children:"XS"}),(0,ke.jsx)("div",{className:"sizes",style:{backgroundColor:"small"===k?"black":"rgb(70, 70, 70)"},onClick:function(){b("small")},children:"S"}),(0,ke.jsx)("div",{className:"sizes",style:{backgroundColor:"medium"===k?"black":"rgb(70, 70, 70)"},onClick:function(){b("medium")},children:"M"}),(0,ke.jsx)("div",{className:"sizes",style:{backgroundColor:"large"===k?"black":"rgb(70, 70, 70)"},onClick:function(){b("large")},children:"L"}),(0,ke.jsx)("div",{className:"sizes",style:{backgroundColor:"x-large"===k?"black":"rgb(70, 70, 70)"},onClick:function(){b("x-large")},children:"XL"})]}),(0,ke.jsx)("button",{className:"add-to-cart",onClick:function(){e.setCartItems(e.cartItems.concat({image:l,title:d,price:v,size:k,id:De()()})),e.setCartCount(e.cartItems.length+1)},children:"ADD TO CART"})]})})];"jeans"===e.page&&(C=[(0,ke.jsx)("div",{className:"wrapper",children:(0,ke.jsxs)("div",{className:"modal",children:[(0,ke.jsx)("div",{className:"exit-modal-wrapper",children:(0,ke.jsx)("img",{className:"exit-modal",src:"https://cdn4.iconfinder.com/data/icons/defaulticon/icons/png/256x256/cancel.png",alt:"exit-icon",onClick:function(){s(!1),b("none")}})}),(0,ke.jsx)("img",{className:"selected-image",src:l,alt:"product"}),(0,ke.jsx)("div",{className:"selected-title",children:d}),(0,ke.jsx)("div",{className:"selected-price",children:v}),(0,ke.jsxs)("div",{className:"sizes-container",children:[(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"28"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("28")},children:"28"}),(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"30"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("30")},children:"30"}),(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"32"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("32")},children:"32"}),(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"33"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("33")},children:"33"}),(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"34"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("34")},children:"34"}),(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"36"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("36")},children:"36"}),(0,ke.jsx)("div",{className:"jeans-sizes",style:{backgroundColor:"38"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("38")},children:"38"})]}),(0,ke.jsx)("button",{className:"add-to-cart",onClick:function(){e.setCartItems(e.cartItems.concat({image:l,title:d,price:v,size:k,id:De()()})),e.setCartCount(e.cartItems.length+1)},children:"ADD TO CART"})]})})]),"skateshoes"!==e.page&&"hightops"!==e.page&&"rollerskates"!==e.page||(C=[(0,ke.jsx)("div",{className:"wrapper",children:(0,ke.jsxs)("div",{className:"modal",children:[(0,ke.jsx)("div",{className:"exit-modal-wrapper",children:(0,ke.jsx)("img",{className:"exit-modal",src:"https://cdn4.iconfinder.com/data/icons/defaulticon/icons/png/256x256/cancel.png",alt:"exit-icon",onClick:function(){s(!1),b("none")}})}),(0,ke.jsx)("img",{className:"selected-image",src:l,alt:"product"}),(0,ke.jsx)("div",{className:"selected-title",children:d}),(0,ke.jsx)("div",{className:"selected-price",children:v}),(0,ke.jsxs)("div",{className:"sizes-container",children:[(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M3 / W5"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M3 / W5")},children:"M3 / W5"}),(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M5 / W7"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M5 / W7")},children:"M5 / W7"}),(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M6 / W8"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M6 / W8")},children:"M6 / W8"}),(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M8 / W10"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M8 / W10")},children:"M8 / W10"}),(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M9 / W11"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M9 / W11")},children:"M9 / W11"}),(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M10 / W12"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M10 / W12")},children:"M10 / W12"}),(0,ke.jsx)("div",{className:"shoes-sizes",style:{backgroundColor:"M11 / W13"===k?"rgb(70, 70, 70)":"white"},onClick:function(){b("M11 / W13")},children:"M11 / W13"})]}),(0,ke.jsx)("button",{className:"add-to-cart",onClick:function(){e.setCartItems(e.cartItems.concat({image:l,title:d,price:v,size:k,id:De()()})),e.setCartCount(e.cartItems.length+1)},children:"ADD TO CART"})]})})]),"skateboards"!==e.page&&"longboards"!==e.page&&"cruisers"!==e.page&&"wheels"!==e.page&&"trucks"!==e.page&&"griptape"!==e.page&&"accessories"!==e.page||(C=[(0,ke.jsx)("div",{className:"wrapper",children:(0,ke.jsxs)("div",{className:"modal",children:[(0,ke.jsx)("div",{className:"exit-modal-wrapper",children:(0,ke.jsx)("img",{className:"exit-modal",src:"https://cdn4.iconfinder.com/data/icons/defaulticon/icons/png/256x256/cancel.png",alt:"exit-icon",onClick:function(){s(!1),b("none")}})}),(0,ke.jsx)("img",{className:"selected-image",src:l,alt:"product"}),(0,ke.jsx)("div",{className:"selected-title",children:d}),(0,ke.jsx)("div",{className:"selected-price",children:v}),(0,ke.jsx)("button",{className:"add-to-cart",onClick:function(){e.setCartItems(e.cartItems.concat({image:l,title:d,price:v,size:k,id:De()()})),e.setCartCount(e.cartItems.length+1)},children:"ADD TO CART"})]})})]);var I=E.get("price"),N=E.get("color"),A=E.get("gender"),D=function(e){""!==e&&("high-to-low"===e?N||A?N&&!A?i(S.sort((function(e,t){return t.price-e.price})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):A&&!N?i(S.sort((function(e,t){return t.price-e.price})).filter((function(e){return e.gender===A})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):A&&N&&i(S.sort((function(e,t){return t.price-e.price})).filter((function(e){return e.gender===A})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.sort((function(e,t){return t.price-e.price})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"low-to-high"===e&&(N||A||i(S.sort((function(e,t){return e.price-t.price})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))),N&&!A?i(S.sort((function(e,t){return e.price-t.price})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):A&&!N?i(S.sort((function(e,t){return e.price-t.price})).filter((function(e){return e.gender===A})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):A&&N&&i(S.sort((function(e,t){return e.price-t.price})).filter((function(e){return e.gender===A})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())})))))},j=function(e){""!==e&&(I||A?!I&&A?i(S.sort((function(e,t){return e.price-t.price})).filter((function(t){return t.color===e})).filter((function(e){return e.gender===A})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"low-to-high"!==I||A?"low-to-high"===I&&A?i(S.sort((function(e,t){return e.price-t.price})).filter((function(t){return t.color===e})).filter((function(e){return e.gender===A})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"high-to-low"!==I||A?"high-to-low"===I&&A&&i(S.sort((function(e,t){return t.price-e.price})).filter((function(t){return t.color===e})).filter((function(e){return e.gender===A})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.sort((function(e,t){return t.price-e.price})).filter((function(t){return t.color===e})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.sort((function(e,t){return e.price-t.price})).filter((function(t){return t.color===e})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(t){return t.color===e})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))))},P=function(e){"womens"!==e||I||N?"womens"===e&&!I&&N?i(S.filter((function(e){return"womens"===e.gender})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"womens"!==e||"high-to-low"!==I||N?"womens"!==e||"low-to-high"!==I||N?"womens"===e&&"high-to-low"===I&&N?i(S.filter((function(e){return"womens"===e.gender})).sort((function(e,t){return t.price-e.price})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"womens"===e&&"low-to-high"===I&&N?i(S.filter((function(e){return"womens"===e.gender})).sort((function(e,t){return e.price-t.price})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"mens"!==e||I||N?"mens"===e&&!I&&N?i(S.filter((function(e){return"mens"===e.gender})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"mens"!==e||"high-to-low"!==I||N?"mens"!==e||"low-to-high"!==I||N?"mens"===e&&"high-to-low"===I&&N?i(S.filter((function(e){return"mens"===e.gender})).sort((function(e,t){return t.price-e.price})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):"mens"===e&&"low-to-high"===I&&N&&i(S.filter((function(e){return"mens"===e.gender})).sort((function(e,t){return e.price-t.price})).filter((function(e){return e.color===N})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(e){return"mens"===e.gender})).sort((function(e,t){return e.price-t.price})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(e){return"mens"===e.gender})).sort((function(e,t){return t.price-e.price})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(e){return"mens"===e.gender})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(e){return"womens"===e.gender})).sort((function(e,t){return e.price-t.price})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(e){return"womens"===e.gender})).sort((function(e,t){return t.price-e.price})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())}))):i(S.filter((function(e){return"womens"===e.gender})).map((function(e){return(0,ke.jsx)(Ne,{image:e.image,title:e.title,price:e.price,presale:e.presale,popup:s,selectImage:f,selectTitle:p,selectPrice:g},De()())})))};return(0,ke.jsx)("div",{className:"page-background",children:(0,ke.jsxs)("div",{className:"apparel-background",children:[(0,ke.jsx)("div",{children:!0===o&&C}),(0,ke.jsx)(Se,{type:e.type}),(0,ke.jsxs)("div",{className:"most-popular",children:[(0,ke.jsx)(_e,{type:e.type}),(0,ke.jsx)(Ie,{handleQueryStringChange:function(e){window.history.pushState({},null,window.location.pathname+"?"+E.toString()),"price"===e&&D(E.get("price")),"color"===e&&j(E.get("color")),"gender"===e&&P(E.get("gender"))},queryString:E,sortPrice:D,sortColor:j,sortGender:P,price:I,color:N,gender:A}),r]})]})})};function ze(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}function Ve(e){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ve(e)}function qe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function We(e,t){if(t&&("object"===He(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}function Ke(e){var t=qe();return function(){var n,r=Ve(e);if(t){var i=Ve(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return We(this,n)}}function Ge(e,t,n){return Ge=qe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i},Ge.apply(null,arguments)}function Qe(e){var t="function"===typeof Map?new Map:void 0;return Qe=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Ge(e,arguments,Ve(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f(n,e)},Qe(e)}var Ye=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ye(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Xe=function(e){return function(e){var t=Ye(e);return $e.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function Je(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ze(n)&&(e[n]=Je(e[n],t[n]));return e}function Ze(e){return"__proto__"!==e}var et=function(){function e(){var t=this;Re(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Me(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function tt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Xe(JSON.stringify({alg:"none",type:"JWT"})),Xe(JSON.stringify(a)),""].join(".")}function nt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function rt(){return!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var it=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Ue(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ue(a),at.prototype.create),a}return Me(n)}(Qe(Error)),at=function(){function e(t,n,r){Re(this,e),this.service=t,this.serviceName=n,this.errors=r}return Me(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ot(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new it(n,a,t);return o}}]),e}();function ot(e,t){return e.replace(st,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var st=/\{\$([^}]+)}/g;function ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ct(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(lt(s)&&lt(u)){if(!ct(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function lt(e){return null!==e&&"object"===typeof e}function ft(e,t){var n=new ht(e,t);return n.subscribe.bind(n)}var ht=function(){function e(t,n){var r=this;Re(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Me(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Fe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=dt),void 0===r.error&&(r.error=dt),void 0===r.complete&&(r.complete=dt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function dt(){}function pt(e){return e&&e._delegate?e._delegate:e}var mt=function(){function e(t,n,r){Re(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Me(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),vt="[DEFAULT]",gt=function(){function e(t,n){Re(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Me(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new et;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vt})}catch(c){}var t,n=Fe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=a(c.mark((function e(){var t;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ze(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ze(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Fe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),c=s[0],l=s[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Om){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===vt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Om){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;return this.component?this.component.multipleInstances?e:vt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var yt,kt,bt=function(){function e(t){Re(this,e),this.name=t,this.providers=new Map}return Me(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),wt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(kt||(kt={}));var xt,St,_t={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},Et=kt.INFO,Tt=(Le(yt={},kt.DEBUG,"log"),Le(yt,kt.VERBOSE,"log"),Le(yt,kt.INFO,"info"),Le(yt,kt.WARN,"warn"),Le(yt,kt.ERROR,"error"),yt),Ct=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Tt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},It=function(){function e(t){Re(this,e),this.name=t,this._logLevel=Et,this._logHandler=Ct,this._userLogHandler=null,wt.push(this)}return Me(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?_t[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.DEBUG].concat(t)),this._logHandler.apply(this,[this,kt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,kt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.INFO].concat(t)),this._logHandler.apply(this,[this,kt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.WARN].concat(t)),this._logHandler.apply(this,[this,kt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,kt.ERROR].concat(t)),this._logHandler.apply(this,[this,kt.ERROR].concat(t))}}]),e}();var Nt=function(){function e(t){Re(this,e),this.container=t}return Me(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var At="@firebase/app",Dt="0.7.15",jt=new It("@firebase/app"),Pt="[DEFAULT]",zt=(Le(xt={},At,"fire-core"),Le(xt,"@firebase/app-compat","fire-core-compat"),Le(xt,"@firebase/analytics","fire-analytics"),Le(xt,"@firebase/analytics-compat","fire-analytics-compat"),Le(xt,"@firebase/app-check","fire-app-check"),Le(xt,"@firebase/app-check-compat","fire-app-check-compat"),Le(xt,"@firebase/auth","fire-auth"),Le(xt,"@firebase/auth-compat","fire-auth-compat"),Le(xt,"@firebase/database","fire-rtdb"),Le(xt,"@firebase/database-compat","fire-rtdb-compat"),Le(xt,"@firebase/functions","fire-fn"),Le(xt,"@firebase/functions-compat","fire-fn-compat"),Le(xt,"@firebase/installations","fire-iid"),Le(xt,"@firebase/installations-compat","fire-iid-compat"),Le(xt,"@firebase/messaging","fire-fcm"),Le(xt,"@firebase/messaging-compat","fire-fcm-compat"),Le(xt,"@firebase/performance","fire-perf"),Le(xt,"@firebase/performance-compat","fire-perf-compat"),Le(xt,"@firebase/remote-config","fire-rc"),Le(xt,"@firebase/remote-config-compat","fire-rc-compat"),Le(xt,"@firebase/storage","fire-gcs"),Le(xt,"@firebase/storage-compat","fire-gcs-compat"),Le(xt,"@firebase/firestore","fire-fst"),Le(xt,"@firebase/firestore-compat","fire-fst-compat"),Le(xt,"fire-js","fire-js"),Le(xt,"firebase","fire-js-all"),xt),Lt=new Map,Rt=new Map;function Ot(e,t){try{e.container.addComponent(t)}catch(n){jt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Mt(e,t){e.container.addOrOverwriteComponent(t)}function Ft(e){var t=e.name;if(Rt.has(t))return jt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Rt.set(t,e);var n,r=Fe(Lt.values());try{for(r.s();!(n=r.n()).done;){Ot(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ut(e,t){return e.container.getProvider(t)}function Bt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pt;Ut(e,t).clearInstance(n)}function Vt(){Rt.clear()}var qt,Ht,Wt=(Le(St={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Le(St,"bad-app-name","Illegal App name: '{$appName}"),Le(St,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Le(St,"app-deleted","Firebase App named '{$appName}' already deleted"),Le(St,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Le(St,"invalid-log-argument","First argument to `onLog` must be null or a function."),St),Kt=new at("app","Firebase",Wt),Gt=function(){function e(t,n,r){var i=this;Re(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mt("app",(function(){return i}),"PUBLIC"))}return Me(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}]),e}(),Qt="9.6.5";function Yt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Pt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kt.create("bad-app-name",{appName:String(i)});var a=Lt.get(i);if(a){if(ct(e,a.options)&&ct(r,a.config))return a;throw Kt.create("duplicate-app",{appName:i})}var o,s=new bt(i),u=Fe(Rt.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Gt(e,r,s);return Lt.set(i,l),l}function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=Lt.get(e);if(!t)throw Kt.create("no-app",{appName:e});return t}function Xt(){return Array.from(Lt.values())}function Jt(e){return Zt.apply(this,arguments)}function Zt(){return Zt=a(c.mark((function e(t){var n;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Lt.has(n)){e.next=6;break}return Lt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Zt.apply(this,arguments)}function en(e,t,n){var r,i=null!==(r=zt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void jt.warn(s.join(" "))}Ft(new mt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function tn(e,t){if(null!==e&&"function"!==typeof e)throw Kt.create("invalid-log-argument");!function(e,t){var n,r=Fe(wt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=_t[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:kt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function nn(e){var t;t=e,wt.forEach((function(e){e.setLogLevel(t)}))}qt="",Ft(new mt("platform-logger",(function(e){return new Nt(e)}),"PRIVATE")),en(At,Dt,qt),en(At,Dt,"esm2017"),en("fire-js","");var rn=function(){function e(t,n){var r=this;Re(this,e),this._delegate=t,this.firebase=n,Ot(t,new mt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Me(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Jt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ot(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Mt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),an=(Le(Ht={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Le(Ht,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ht),on=new at("app-compat","Firebase",an);var sn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Yt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ut(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:en,setLogLevel:nn,onLog:tn,apps:null,SDK_VERSION:Qt,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ft(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw on.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Je(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ut(n,e=e||Pt))throw on.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Je(n,e)},createSubscribe:ft,ErrorFactory:at,deepExtend:Je}),n}(),un=new It("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){un.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var cn=self.firebase.SDK_VERSION;cn&&cn.indexOf("LITE")>=0&&un.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ln=sn;!function(e){en("@firebase/app-compat","0.1.16",e)}();function fn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ve(e)););return e}function hn(){return hn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=fn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},hn.apply(this,arguments)}ln.registerVersion("firebase","9.6.5","app-compat");var dn,pn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},mn={},vn=vn||{},gn=pn||self;function yn(){}function kn(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bn(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wn="closure_uid_"+(1e9*Math.random()>>>0),xn=0;function Sn(e,t,n){return e.call.apply(e.bind,arguments)}function _n(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function En(e,t,n){return(En=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Sn:_n).apply(null,arguments)}function Tn(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Cn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function In(){this.s=this.s,this.o=this.o}var Nn={};In.prototype.s=!1,In.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,wn)&&e[wn]||(e[wn]=++xn)}(this);delete Nn[e]}},In.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var An=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Dn=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function jn(e){return Array.prototype.concat.apply([],arguments)}function Pn(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function zn(e){return/^[\s\xa0]*$/.test(e)}var Ln,Rn=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function On(e,t){return-1!=e.indexOf(t)}function Mn(e,t){return e<t?-1:e>t?1:0}e:{var Fn=gn.navigator;if(Fn){var Un=Fn.userAgent;if(Un){Ln=Un;break e}}Ln=""}function Bn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Vn(e){var t={};for(var n in e)t[n]=e[n];return t}var qn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hn(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qn.length;a++)n=qn[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wn(e){return Wn[" "](e),e}Wn[" "]=yn;var Kn,Gn=On(Ln,"Opera"),Qn=On(Ln,"Trident")||On(Ln,"MSIE"),Yn=On(Ln,"Edge"),$n=Yn||Qn,Xn=On(Ln,"Gecko")&&!(On(Ln.toLowerCase(),"webkit")&&!On(Ln,"Edge"))&&!(On(Ln,"Trident")||On(Ln,"MSIE"))&&!On(Ln,"Edge"),Jn=On(Ln.toLowerCase(),"webkit")&&!On(Ln,"Edge");function Zn(){var e=gn.document;return e?e.documentMode:void 0}e:{var er="",tr=function(){var e=Ln;return Xn?/rv:([^\);]+)(\)|;)/.exec(e):Yn?/Edge\/([\d\.]+)/.exec(e):Qn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jn?/WebKit\/(\S+)/.exec(e):Gn?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tr&&(er=tr?tr[1]:""),Qn){var nr=Zn();if(null!=nr&&nr>parseFloat(er)){Kn=String(nr);break e}}Kn=er}var rr,ir={};function ar(){return function(e){var t=ir;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Rn(String(Kn)).split("."),n=Rn("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mn(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mn(0==a[2].length,0==o[2].length)||Mn(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(gn.document&&Qn){var or=Zn();rr=or||(parseInt(Kn,10)||void 0)}else rr=void 0;var sr=rr,ur=function(){if(!gn.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gn.addEventListener("test",yn,t),gn.removeEventListener("test",yn,t)}catch(n){}return e}();function cr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function lr(e,t){if(cr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Xn){e:{try{Wn(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lr.Z.h.call(this)}}cr.prototype.h=function(){this.defaultPrevented=!0},Cn(lr,cr);var fr={2:"touch",3:"pen",4:"mouse"};lr.prototype.h=function(){lr.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hr="closure_listenable_"+(1e6*Math.random()|0),dr=0;function pr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++dr,this.ca=this.fa=!1}function mr(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vr(e){this.src=e,this.g={},this.h=0}function gr(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=An(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(mr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yr(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}vr.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=yr(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new pr(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var kr="closure_lm_"+(1e6*Math.random()|0),br={};function wr(e,t,n,r,i){if(r&&r.once)return Sr(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wr(e,t[a],n,r,i);return null}return n=Ar(n),e&&e[hr]?e.N(t,n,bn(r)?!!r.capture:!!r,i):xr(e,t,n,!1,r,i)}function xr(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bn(i)?!!i.capture:!!i,s=Ir(e);if(s||(e[kr]=s=new vr(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Cr;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ur||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Tr(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Sr(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sr(e,t[a],n,r,i);return null}return n=Ar(n),e&&e[hr]?e.O(t,n,bn(r)?!!r.capture:!!r,i):xr(e,t,n,!0,r,i)}function _r(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_r(e,t[a],n,r,i);else r=bn(r)?!!r.capture:!!r,n=Ar(n),e&&e[hr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yr(a=e.g[t],n,r,i))&&(mr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ir(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yr(t,n,r,i)),(n=-1<e?t[e]:null)&&Er(n))}function Er(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[hr])gr(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Tr(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ir(t))?(gr(n,e),0==n.h&&(n.src=null,t[kr]=null)):mr(e)}}}function Tr(e){return e in br?br[e]:br[e]="on"+e}function Cr(e,t){if(e.ca)e=!0;else{t=new lr(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Er(e),e=n.call(r,t)}return e}function Ir(e){return(e=e[kr])instanceof vr?e:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ar(e){return"function"===typeof e?e:(e[Nr]||(e[Nr]=function(t){return e.handleEvent(t)}),e[Nr])}function Dr(){In.call(this),this.i=new vr(this),this.P=this,this.I=null}function jr(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cr(t,e);else if(t instanceof cr)t.target=t.target||e;else{var i=t;Hn(t=new cr(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Pr(o,r,!0,t)&&i}if(i=Pr(o=t.g=e,r,!0,t)&&i,i=Pr(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Pr(o=t.g=n[a],r,!1,t)&&i}function Pr(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&gr(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Cn(Dr,In),Dr.prototype[hr]=!0,Dr.prototype.removeEventListener=function(e,t,n,r){_r(this,e,t,n,r)},Dr.prototype.M=function(){if(Dr.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)mr(n[r]);delete t.g[e],t.h--}}this.I=null},Dr.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Dr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zr=gn.JSON.stringify;function Lr(){var e=qr,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rr,Or=function(){function e(){Re(this,e),this.h=this.g=null}return Me(e,[{key:"add",value:function(e,t){var n=Mr.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Mr=new(function(){function e(t,n){Re(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Me(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fr}),(function(e){return e.reset()})),Fr=function(){function e(){Re(this,e),this.next=this.g=this.h=null}return Me(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ur(e){gn.setTimeout((function(){throw e}),0)}function Br(e,t){Rr||function(){var e=gn.Promise.resolve(void 0);Rr=function(){e.then(Hr)}}(),Vr||(Rr(),Vr=!0),qr.add(e,t)}var Vr=!1,qr=new Or;function Hr(){for(var e;e=Lr();){try{e.h.call(e.g)}catch(n){Ur(n)}var t=Mr;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vr=!1}function Wr(e,t){Dr.call(this),this.h=e||1,this.g=t||gn,this.j=En(this.kb,this),this.l=Date.now()}function Kr(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Gr(e,t,n){if("function"===typeof e)n&&(e=En(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=En(e.handleEvent,e)}return 2147483647<Number(t)?-1:gn.setTimeout(e,t||0)}function Qr(e){e.g=Gr((function(){e.g=null,e.i&&(e.i=!1,Qr(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Cn(Wr,Dr),(dn=Wr.prototype).da=!1,dn.S=null,dn.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jr(this,"tick"),this.da&&(Kr(this),this.start()))}},dn.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dn.M=function(){Wr.Z.M.call(this),Kr(this),delete this.g};var Yr=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Me(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qr(this)}},{key:"M",value:function(){hn(Ve(n.prototype),"M",this).call(this),this.g&&(gn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(In);function $r(e){In.call(this),this.h=e,this.g={}}Cn($r,In);var Xr=[];function Jr(e,t,n,r){Array.isArray(n)||(n&&(Xr[0]=n.toString()),n=Xr);for(var i=0;i<n.length;i++){var a=wr(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Zr(e){Bn(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Er(e)}),e),e.g={}}function ei(){this.g=!0}function ti(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return zr(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}$r.prototype.M=function(){$r.Z.M.call(this),Zr(this)},$r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ei.prototype.Aa=function(){this.g=!1},ei.prototype.info=function(){};var ni={},ri=null;function ii(){return ri=ri||new Dr}function ai(e){cr.call(this,ni.Ma,e)}function oi(e){var t=ii();jr(t,new ai(t,e))}function si(e,t){cr.call(this,ni.STAT_EVENT,e),this.stat=t}function ui(e){var t=ii();jr(t,new si(t,e))}function ci(e,t){cr.call(this,ni.Na,e),this.size=t}function li(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gn.setTimeout((function(){e()}),t)}ni.Ma="serverreachability",Cn(ai,cr),ni.STAT_EVENT="statevent",Cn(si,cr),ni.Na="timingevent",Cn(ci,cr);var fi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function di(){}function pi(e){return e.h||(e.h=e.i())}function mi(){}di.prototype.h=null;var vi,gi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function yi(){cr.call(this,"d")}function ki(){cr.call(this,"c")}function bi(){}function wi(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new $r(this),this.P=Si,e=$n?125:void 0,this.W=new Wr(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}Cn(yi,cr),Cn(ki,cr),Cn(bi,di),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},vi=new bi;var Si=45e3,_i={},Ei={};function Ti(e,t,n){e.K=1,e.v=Yi(qi(t)),e.s=n,e.U=!0,Ci(e,null)}function Ci(e,t){e.F=Date.now(),Di(e),e.A=qi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ua(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xi,e.g=lo(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Yr(En(e.Ia,e,e.g),e.O)),Jr(e.V,e.g,"readystatechange",e.gb),t=e.H?Vn(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),oi(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ii(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ni(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ai(e,n))==Ei){4==t&&(e.o=4,ui(14),i=!1),ti(e.j,e.m,null,"[Incomplete Response]");break}if(r==_i){e.o=4,ui(15),ti(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ti(e.j,e.m,r,null),Ri(e,r)}Ii(e)&&r!=Ei&&r!=_i&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ui(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),no(t),t.L=!0,ui(11))):(ti(e.j,e.m,n,"[Invalid Chunked Response]"),Li(e),zi(e))}function Ai(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ei:(n=Number(t.substring(n,r)),isNaN(n)?_i:(r+=1)+n>t.length?Ei:(t=t.substr(r,n),e.C=r+n,t))}function Di(e){e.Y=Date.now()+e.P,ji(e,e.P)}function ji(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=li(En(e.eb,e),t)}function Pi(e){e.B&&(gn.clearTimeout(e.B),e.B=null)}function zi(e){0==e.l.G||e.I||ao(e.l,e)}function Li(e){Pi(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Kr(e.W),Zr(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ri(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||va(n.i,e)))if(n.I=e.N,!e.J&&va(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;io(n),Ga(n)}to(n),ui(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=li(En(n.ab,n),6e3));if(1>=ma(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else so(n,11)}else if((e.J||n.g==e)&&io(n),!zn(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(On(l,"spdy")||On(l,"quic")||On(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(ga(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Qi(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=co(r,r.H?r.la:null,r.W),d.J){ya(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Pi(p),Di(p)),r.g=d}else eo(r);0<n.l.length&&$a(n)}else"stop"!=a[0]&&"close"!=a[0]||so(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?so(n,7):Ka(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}oi(4)}catch(a){}}function Oi(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kn(e)||"string"===typeof e)Dn(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(kn(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(kn(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Mi(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mi)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fi(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ui(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ui(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ui(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(dn=wi.prototype).setTimeout=function(e){this.P=e},dn.gb=function(e){e=e.target;var t=this.L;t&&3==Ba(e)?t.l():this.Ia(e)},dn.Ia=function(e){try{if(e==this.g)e:{var t=Ba(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||$n||this.g&&(this.h.h||this.g.ga()||Va(this.g)))){this.I||4!=t||7==n||oi(8==n||0>=r?3:2),Pi(this);var i=this.g.ba();this.N=i;t:if(Ii(this)){var a=Va(this.g);e="";var o=a.length,s=4==Ba(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Li(this),zi(this);var u="";break t}this.h.i=new gn.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zn(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ui(12),Li(this),zi(this);break e}ti(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ri(this,i)}this.U?(Ni(this,t,u),$n&&this.i&&3==t&&(Jr(this.V,this.W,"tick",this.fb),this.W.start())):(ti(this.j,this.m,u,null),Ri(this,u)),4==t&&Li(this),this.i&&!this.I&&(4==t?ao(this.l,this):(this.i=!1,Di(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),Li(this),zi(this)}}}catch(t){}},dn.fb=function(){if(this.g){var e=Ba(this.g),t=this.g.ga();this.C<t.length&&(Pi(this),Ni(this,e,t),this.i&&4!=e&&Di(this))}},dn.cancel=function(){this.I=!0,Li(this)},dn.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(oi(3),ui(17)),Li(this),this.o=2,zi(this)):ji(this,this.Y-e)},(dn=Mi.prototype).R=function(){Fi(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},dn.T=function(){return Fi(this),this.g.concat()},dn.get=function(e,t){return Ui(this.h,e)?this.h[e]:t},dn.set=function(e,t){Ui(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},dn.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Bi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vi(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vi){this.g=void 0!==t?t:e.g,Hi(this,e.j),this.s=e.s,Wi(this,e.i),Ki(this,e.m),this.l=e.l,t=e.h;var n=new ia;n.i=t.i,t.g&&(n.g=new Mi(t.g),n.h=t.h),Gi(this,n),this.o=e.o}else e&&(n=String(e).match(Bi))?(this.g=!!t,Hi(this,n[1]||"",!0),this.s=$i(n[2]||""),Wi(this,n[3]||"",!0),Ki(this,n[4]),this.l=$i(n[5]||"",!0),Gi(this,n[6]||"",!0),this.o=$i(n[7]||"")):(this.g=!!t,this.h=new ia(null,this.g))}function qi(e){return new Vi(e)}function Hi(e,t,n){e.j=n?$i(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wi(e,t,n){e.i=n?$i(t,!0):t}function Ki(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Gi(e,t,n){t instanceof ia?(e.h=t,function(e,t){t&&!e.j&&(aa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(oa(this,t),ua(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Xi(t,na)),e.h=new ia(t,e.g))}function Qi(e,t,n){e.h.set(t,n)}function Yi(e){return Qi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function $i(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Xi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ji),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ji(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Vi.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Xi(t,Zi,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Xi(t,Zi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Xi(n,"/"==n.charAt(0)?ta:ea,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Xi(n,ra)),e.join("")};var Zi=/[#\/\?@]/g,ea=/[#\?:]/g,ta=/[#\?]/g,na=/[#\?@]/g,ra=/#/g;function ia(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function aa(e){e.g||(e.g=new Mi,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function oa(e,t){aa(e),t=ca(e,t),Ui(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ui((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fi(e)))}function sa(e,t){return aa(e),t=ca(e,t),Ui(e.g.h,t)}function ua(e,t,n){oa(e,t),0<n.length&&(e.i=null,e.g.set(ca(e,t),Pn(n)),e.h+=n.length)}function ca(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dn=ia.prototype).add=function(e,t){aa(this),this.i=null,e=ca(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dn.forEach=function(e,t){aa(this),this.g.forEach((function(n,r){Dn(n,(function(n){e.call(t,n,r,this)}),this)}),this)},dn.T=function(){aa(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},dn.R=function(e){aa(this);var t=[];if("string"===typeof e)sa(this,e)&&(t=jn(t,this.g.get(ca(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=jn(t,e[n])}return t},dn.set=function(e,t){return aa(this),this.i=null,sa(this,e=ca(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dn.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},dn.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var la=Me((function e(t,n){Re(this,e),this.h=t,this.g=n}));function fa(e){this.l=e||da,gn.PerformanceNavigationTiming?e=0<(e=gn.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gn.g&&gn.g.Ea&&gn.g.Ea()&&gn.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ha,da=10;function pa(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ma(e){return e.h?1:e.g?e.g.size:0}function va(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ga(e,t){e.g?e.g.add(t):e.h=t}function ya(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ka(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Fe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Pn(e.i)}function ba(){}function wa(){this.g=new ba}function xa(e,t,n){var r=n||"";try{Oi(e,(function(e,n){var i=e;bn(e)&&(i=zr(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Sa(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _a(e){this.l=e.$b||null,this.j=e.ib||!1}function Ea(e,t){Dr.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Ta,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fa.prototype.cancel=function(){if(this.i=ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Fe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},ba.prototype.stringify=function(e){return gn.JSON.stringify(e,void 0)},ba.prototype.parse=function(e){return gn.JSON.parse(e,void 0)},Cn(_a,di),_a.prototype.g=function(){return new Ea(this.l,this.j)},_a.prototype.i=(ha={},function(){return ha}),Cn(Ea,Dr);var Ta=0;function Ca(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ia(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Na(e)}function Na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dn=Ea.prototype).open=function(e,t){if(this.readyState!=Ta)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Na(this)},dn.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||gn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ia(this)),this.readyState=Ta},dn.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof gn.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ca(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},dn.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ia(this):Na(this),3==this.readyState&&Ca(this)}},dn.Ua=function(e){this.g&&(this.response=this.responseText=e,Ia(this))},dn.Ta=function(e){this.g&&(this.response=e,Ia(this))},dn.ha=function(){this.g&&Ia(this)},dn.setRequestHeader=function(e,t){this.v.append(e,t)},dn.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dn.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Aa=gn.JSON.parse;function Da(e){Dr.call(this),this.headers=new Mi,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ja,this.K=this.L=!1}Cn(Da,Dr);var ja="",Pa=/^https?$/i,za=["POST","PUT"];function La(e){return"content-type"==e.toLowerCase()}function Ra(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Oa(e),Fa(e)}function Oa(e){e.D||(e.D=!0,jr(e,"complete"),jr(e,"error"))}function Ma(e){if(e.h&&"undefined"!=typeof vn&&(!e.C[1]||4!=Ba(e)||2!=e.ba()))if(e.v&&4==Ba(e))Gr(e.Fa,0,e);else if(jr(e,"readystatechange"),4==Ba(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Bi)[1]||null;if(!a&&gn.self&&gn.self.location){var o=gn.self.location.protocol;a=o.substr(0,o.length-1)}i=!Pa.test(a?a.toLowerCase():"")}t=i}if(t)jr(e,"complete"),jr(e,"success");else{e.m=6;try{var s=2<Ba(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Oa(e)}}finally{Fa(e)}}}function Fa(e,t){if(e.g){Ua(e);var n=e.g,r=e.C[0]?yn:null;e.g=null,e.C=null,t||jr(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ua(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(gn.clearTimeout(e.A),e.A=null)}function Ba(e){return e.g?e.g.readyState:0}function Va(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ja:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qa(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Bn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qi(e,t,n))}function Ha(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wa(e){this.za=0,this.l=[],this.h=new ei,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ha("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ha("baseRetryDelayMs",5e3,e),this.$a=Ha("retryDelaySeedMs",1e4,e),this.Ya=Ha("forwardChannelMaxRetries",2,e),this.ra=Ha("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new fa(e&&e.concurrentRequestLimit),this.Ca=new wa,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ka(e){if(Qa(e),3==e.G){var t=e.V++,n=qi(e.F);Qi(n,"SID",e.J),Qi(n,"RID",t),Qi(n,"TYPE","terminate"),Ja(e,n),(t=new wi(e,e.h,t,void 0)).K=2,t.v=Yi(qi(n)),n=!1,gn.navigator&&gn.navigator.sendBeacon&&(n=gn.navigator.sendBeacon(t.v.toString(),"")),!n&&gn.Image&&((new Image).src=t.v,n=!0),n||(t.g=lo(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Di(t)}uo(e)}function Ga(e){e.g&&(no(e),e.g.cancel(),e.g=null)}function Qa(e){Ga(e),e.u&&(gn.clearTimeout(e.u),e.u=null),io(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gn.clearTimeout(e.m),e.m=null)}function Ya(e,t){e.l.push(new la(e.Za++,t)),3==e.G&&$a(e)}function $a(e){pa(e.i)||e.m||(e.m=!0,Br(e.Ha,e),e.C=0)}function Xa(e,t){var n;n=t?t.m:e.V++;var r=qi(e.F);Qi(r,"SID",e.J),Qi(r,"RID",n),Qi(r,"AID",e.U),Ja(e,r),e.o&&e.s&&qa(r,e.o,e.s),n=new wi(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Za(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ga(e.i,n),Ti(n,r,t)}function Ja(e,t){e.j&&Oi({},(function(e,n){Qi(t,n,e)}))}function Za(e,t,n){n=Math.min(e.l.length,n);var r=e.j?En(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{xa(l,o,"req"+c+"_")}catch(Vo){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function eo(e){e.g||e.u||(e.Y=1,Br(e.Ga,e),e.A=0)}function to(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=li(En(e.Ga,e),oo(e,e.A)),e.A++,!0)}function no(e){null!=e.B&&(gn.clearTimeout(e.B),e.B=null)}function ro(e){e.g=new wi(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qi(e.oa);Qi(t,"RID","rpc"),Qi(t,"SID",e.J),Qi(t,"CI",e.N?"0":"1"),Qi(t,"AID",e.U),Ja(e,t),Qi(t,"TYPE","xmlhttp"),e.o&&e.s&&qa(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yi(qi(t)),n.s=null,n.U=!0,Ci(n,e)}function io(e){null!=e.v&&(gn.clearTimeout(e.v),e.v=null)}function ao(e,t){var n=null;if(e.g==t){io(e),no(e),e.g=null;var r=2}else{if(!va(e.i,t))return;n=t.D,ya(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;jr(r=ii(),new ci(r,n,t,i)),$a(e)}else eo(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ma(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=li(En(e.Ha,e,t),oo(e,e.C)),e.C++,!0))}(e,t)||2==r&&to(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:so(e,5);break;case 4:so(e,10);break;case 3:so(e,6);break;default:so(e,2)}}function oo(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function so(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=En(e.jb,e);n||(n=new Vi("//www.google.com/images/cleardot.gif"),gn.location&&"http"==gn.location.protocol||Hi(n,"https"),Yi(n)),function(e,t){var n=new ei;if(gn.Image){var r=new Image;r.onload=Tn(Sa,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tn(Sa,n,r,"TestLoadImage: error",!1,t),r.onabort=Tn(Sa,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tn(Sa,n,r,"TestLoadImage: timeout",!1,t),gn.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ui(2);e.G=0,e.j&&e.j.va(t),uo(e),Qa(e)}function uo(e){e.G=0,e.I=-1,e.j&&(0==ka(e.i).length&&0==e.l.length||(e.i.i.length=0,Pn(e.l),e.l.length=0),e.j.ua())}function co(e,t,n){var r=function(e){return e instanceof Vi?qi(e):new Vi(e,void 0)}(n);if(""!=r.i)t&&Wi(r,t+"."+r.i),Ki(r,r.m);else{var i=gn.location;r=function(e,t,n,r){var i=new Vi(null,void 0);return e&&Hi(i,e),t&&Wi(i,t),n&&Ki(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Bn(e.aa,(function(e,t){Qi(r,t,e)})),t=e.D,n=e.sa,t&&n&&Qi(r,t,n),Qi(r,"VER",e.ma),Ja(e,r),r}function lo(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Da(new _a({ib:!0})):new Da(e.qa)).L=e.H,t}function fo(){}function ho(){if(Qn&&!(10<=Number(sr)))throw Error("Environmental error: no available transport.")}function po(e,t){Dr.call(this),this.g=new Wa(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!zn(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zn(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new go(this)}function mo(e){yi.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vo(){ki.call(this),this.status=1}function go(e){this.g=e}(dn=Da.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vi.g(),this.C=this.u?pi(this.u):pi(vi),this.g.onreadystatechange=En(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ra(this,a)}e=n||"";var i=new Mi(this.headers);r&&Oi(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=La,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=gn.FormData&&e instanceof gn.FormData,!(0<=An(za,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ua(this),0<this.B&&((this.K=function(e){return Qn&&ar()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=En(this.pa,this)):this.A=Gr(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ra(this,a)}},dn.pa=function(){"undefined"!=typeof vn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},dn.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jr(this,"complete"),jr(this,"abort"),Fa(this))},dn.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fa(this,!0)),Da.Z.M.call(this)},dn.Fa=function(){this.s||(this.F||this.v||this.l?Ma(this):this.cb())},dn.cb=function(){Ma(this)},dn.ba=function(){try{return 2<Ba(this)?this.g.status:-1}catch(ha){return-1}},dn.ga=function(){try{return this.g?this.g.responseText:""}catch(ha){return""}},dn.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Aa(t)}},dn.Da=function(){return this.m},dn.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(dn=Wa.prototype).ma=8,dn.G=1,dn.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},dn.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new wi(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Hn(n=Vn(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Za(this,t,r),Qi(i=qi(this.F),"RID",e),Qi(i,"CVER",22),this.D&&Qi(i,"X-HTTP-Session-Id",this.D),Ja(this,i),this.o&&n&&qa(i,this.o,n),ga(this.i,t),this.Ra&&Qi(i,"TYPE","init"),this.ja?(Qi(i,"$req",r),Qi(i,"SID","null"),t.$=!0,Ti(t,i,null)):Ti(t,i,r),this.G=2}}else 3==this.G&&(e?Xa(this,e):0==this.l.length||pa(this.i)||Xa(this))},dn.Ga=function(){if(this.u=null,ro(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=li(En(this.bb,this),e)}},dn.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ui(10),Ga(this),ro(this))},dn.ab=function(){null!=this.v&&(this.v=null,Ga(this),to(this),ui(19))},dn.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ui(2)):(this.h.info("Failed to ping google.com"),ui(1))},(dn=fo.prototype).xa=function(){},dn.wa=function(){},dn.va=function(){},dn.ua=function(){},dn.Oa=function(){},ho.prototype.g=function(e,t){return new po(e,t)},Cn(po,Dr),po.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Br(En(e.hb,e,t))),ui(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=co(e,null,e.W),$a(e)},po.prototype.close=function(){Ka(this.g)},po.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Ya(this.g,t)}else this.v?((t={}).__data__=zr(e),Ya(this.g,t)):Ya(this.g,e)},po.prototype.M=function(){this.g.j=null,delete this.j,Ka(this.g),delete this.g,po.Z.M.call(this)},Cn(mo,yi),Cn(vo,ki),Cn(go,fo),go.prototype.xa=function(){jr(this.g,"a")},go.prototype.wa=function(e){jr(this.g,new mo(e))},go.prototype.va=function(e){jr(this.g,new vo(e))},go.prototype.ua=function(){jr(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,fi.NO_ERROR=0,fi.TIMEOUT=8,fi.HTTP_ERROR=6,hi.COMPLETE="complete",mi.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Dr.prototype.listen=Dr.prototype.N,Da.prototype.listenOnce=Da.prototype.O,Da.prototype.getLastError=Da.prototype.La,Da.prototype.getLastErrorCode=Da.prototype.Da,Da.prototype.getStatus=Da.prototype.ba,Da.prototype.getResponseJson=Da.prototype.Qa,Da.prototype.getResponseText=Da.prototype.ga,Da.prototype.send=Da.prototype.ea;var yo=mn.createWebChannelTransport=function(){return new ho},ko=mn.getStatEventTarget=function(){return ii()},bo=mn.ErrorCode=fi,wo=mn.EventType=hi,xo=mn.Event=ni,So=mn.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_o=mn.FetchXmlHttpFactory=_a,Eo=mn.WebChannel=mi,To=mn.XhrIo=Da,Co="@firebase/firestore",Io=function(){function e(t){Re(this,e),this.uid=t}return Me(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Io.UNAUTHENTICATED=new Io(null),Io.GOOGLE_CREDENTIALS=new Io("google-credentials-uid"),Io.FIRST_PARTY=new Io("first-party-uid"),Io.MOCK_USER=new Io("mock-user");var No="9.6.5",Ao=new It("@firebase/firestore");function Do(){return Ao.logLevel}function jo(e){if(Ao.logLevel<=kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lo);Ao.debug.apply(Ao,["Firestore (".concat(No,"): ").concat(e)].concat(ze(i)))}}function Po(e){if(Ao.logLevel<=kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lo);Ao.error.apply(Ao,["Firestore (".concat(No,"): ").concat(e)].concat(ze(i)))}}function zo(e){if(Ao.logLevel<=kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lo);Ao.warn.apply(Ao,["Firestore (".concat(No,"): ").concat(e)].concat(ze(i)))}}function Lo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ro(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(No,") INTERNAL ASSERTION FAILED: ")+e;throw Po(t),new Error(t)}function Oo(e,t){e||Ro()}function Mo(e,t){return e}var Fo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uo=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Me(n)}(it),Bo=Me((function e(){var t=this;Re(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vo=Me((function e(t,n){Re(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qo=function(){function e(){Re(this,e)}return Me(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Io.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ho=function(){function e(t){Re(this,e),this.token=t,this.changeListener=null}return Me(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wo=function(){function e(t){Re(this,e),this.t=t,this.currentUser=Io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Me(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},o=new Bo;this.o=function(){n.i++,n.currentUser=n.u(),o.resolve(),o=new Bo,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=o;e.enqueueRetryable(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){jo("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(jo("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bo)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Oo("string"==typeof n.accessToken),new Vo(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Oo(null===e||"string"==typeof e),new Io(e)}}]),e}(),Ko=Me((function e(t,n,r){Re(this,e),this.type="FirstParty",this.user=Io.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Go=function(){function e(t,n,r){Re(this,e),this.h=t,this.l=n,this.m=r}return Me(e,[{key:"getToken",value:function(){return Promise.resolve(new Ko(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Io.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qo=Me((function e(t){Re(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Yo=function(){function e(t){Re(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Me(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&jo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){jo("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):jo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?(Oo("string"==typeof e.token),new Qo(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),$o=function(){function e(t,n){var r=this;Re(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Me(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Xo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}$o.I=-1;var Jo=function(){function e(){Re(this,e)}return Me(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Zo(e,t){return e<t?-1:e>t?1:0}function es(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ts(e){return e+"\0"}var ns=function(){function e(t,n){if(Re(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Me(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Zo(this.nanoseconds,e.nanoseconds):Zo(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),rs=function(){function e(t){Re(this,e),this.timestamp=t}return Me(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ns(0,0))}}]),e}();function is(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function as(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function os(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ss=function(){function e(t,n,r){Re(this,e),void 0===n?n=0:n>t.length&&Ro(),void 0===r?r=t.length-n:r>t.length-n&&Ro(),this.segments=t,this.offset=n,this.len=r}return Me(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),us=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,ze(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ss),cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ls=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return cs.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Uo(Fo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Uo(Fo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Uo(Fo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ss),fs=function(){function e(t){Re(this,e),this.fields=t,t.sort(ls.comparator)}return Me(e,[{key:"covers",value:function(e){var t,n=Fe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return es(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var hs=function(e){function t(e){Re(this,t),this.binaryString=e}return Me(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Zo(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();hs.EMPTY_BYTE_STRING=new hs("");var ds=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(e){if(Oo(!!e),"string"==typeof e){var t=0,n=ds.exec(e);if(Oo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ms(e.seconds),nanos:ms(e.nanos)}}function ms(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vs(e){return"string"==typeof e?hs.fromBase64String(e):hs.fromUint8Array(e)}function gs(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ys(e){var t=e.mapValue.fields.__previous_value__;return gs(t)?ys(t):t}function ks(e){var t=ps(e.mapValue.fields.__local_write_time__.timestampValue);return new ns(t.seconds,t.nanos)}function bs(e){return null==e}function ws(e){return 0===e&&1/e==-1/0}function xs(e){return"number"==typeof e&&Number.isInteger(e)&&!ws(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Ss=function(){function e(t){Re(this,e),this.path=t}return Me(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===us.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(us.fromString(t))}},{key:"fromName",value:function(t){return new e(us.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return us.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new us(t.slice()))}}]),e}();function _s(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gs(e)?4:10:Ro()}function Es(e,t){if(e===t)return!0;var n=_s(e);if(n!==_s(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ks(e).isEqual(ks(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ps(e.timestampValue),r=ps(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vs(e.bytesValue).isEqual(vs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ms(e.geoPointValue.latitude)===ms(t.geoPointValue.latitude)&&ms(e.geoPointValue.longitude)===ms(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ms(e.integerValue)===ms(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ms(e.doubleValue),r=ms(t.doubleValue);return n===r?ws(n)===ws(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return es(e.arrayValue.values||[],t.arrayValue.values||[],Es);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(is(n)!==is(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Es(n[i],r[i])))return!1;return!0}(e,t);default:return Ro()}}function Ts(e,t){return void 0!==(e.values||[]).find((function(e){return Es(e,t)}))}function Cs(e,t){if(e===t)return 0;var n=_s(e),r=_s(t);if(n!==r)return Zo(n,r);switch(n){case 0:return 0;case 1:return Zo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ms(e.integerValue||e.doubleValue),r=ms(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Is(e.timestampValue,t.timestampValue);case 4:return Is(ks(e),ks(t));case 5:return Zo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vs(e),r=vs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Zo(n[i],r[i]);if(0!==a)return a}return Zo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Zo(ms(e.latitude),ms(t.latitude));return 0!==n?n:Zo(ms(e.longitude),ms(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Cs(n[i],r[i]);if(a)return a}return Zo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Zo(r[o],a[o]);if(0!==s)return s;var u=Cs(n[r[o]],i[a[o]]);if(0!==u)return u}return Zo(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ro()}}function Is(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zo(e,t);var n=ps(e),r=ps(t),i=Zo(n.seconds,r.seconds);return 0!==i?i:Zo(n.nanos,r.nanos)}function Ns(e){return As(e)}function As(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ps(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ss.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Fe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=As(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Fe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(As(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ro();var t,n}function Ds(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function js(e){return!!e&&"integerValue"in e}function Ps(e){return!!e&&"arrayValue"in e}function zs(e){return!!e&&"nullValue"in e}function Ls(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Rs(e){return!!e&&"mapValue"in e}function Os(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return as(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Os(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Os(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ms=function(){function e(t){Re(this,e),this.value=t}return Me(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Rs(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(t)}},{key:"setAll",value:function(e){var t=this,n=ls.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Os(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Rs(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Es(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Rs(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){as(t,(function(t,n){return e[t]=n}));var r,i=Fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Os(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Fs(e){var t=[];return as(e.fields,(function(e,n){var r=new ls([e]);if(Rs(n)){var i=Fs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Fe(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new fs(t)}var Us=function(){function e(t,n,r,i,a){Re(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Me(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ms.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ms.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,rs.min(),Ms.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ms.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ms.empty(),2)}}]),e}(),Bs=Me((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Re(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function Vs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Bs(e,t,n,r,i,a,o)}function qs(e){var t=Mo(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ns(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),bs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=nu(t.startAt)),t.endAt&&(n+="|ub:",n+=nu(t.endAt)),t.R=n}return t.R}function Hs(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!iu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Es(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ou(e.startAt,t.startAt)&&ou(e.endAt,t.endAt)}function Ws(e){return Ss.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ks=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Me(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Cs(t,this.value)):null!==t&&_s(this.value)===_s(t)&&this.v(Cs(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ro()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new Gs(e,t,r):"array-contains"===t?new Xs(e,r):"in"===t?new Js(e,r):"not-in"===t?new Zs(e,r):"array-contains-any"===t?new eu(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new Qs(e,n):new Ys(e,n)}}]),n}(function(){return Me((function e(){Re(this,e)}))}());var Gs=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this,e,r,i)).key=Ss.fromName(i.referenceValue),a}return Me(n,[{key:"matches",value:function(e){var t=Ss.comparator(e.key,this.key);return this.v(t)}}]),n}(Ks),Qs=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e,"in",r)).keys=$s("in",r),i}return Me(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ks),Ys=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e,"not-in",r)).keys=$s("not-in",r),i}return Me(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ks);function $s(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Ss.fromName(e.referenceValue)}))}var Xs=function(e){Be(n,e);var t=Ke(n);function n(e,r){return Re(this,n),t.call(this,e,"array-contains",r)}return Me(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ps(t)&&Ts(t.arrayValue,this.value)}}]),n}(Ks),Js=function(e){Be(n,e);var t=Ke(n);function n(e,r){return Re(this,n),t.call(this,e,"in",r)}return Me(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ts(this.value.arrayValue,t)}}]),n}(Ks),Zs=function(e){Be(n,e);var t=Ke(n);function n(e,r){return Re(this,n),t.call(this,e,"not-in",r)}return Me(n,[{key:"matches",value:function(e){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ts(this.value.arrayValue,t)}}]),n}(Ks),eu=function(e){Be(n,e);var t=Ke(n);function n(e,r){return Re(this,n),t.call(this,e,"array-contains-any",r)}return Me(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ps(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ts(t.value.arrayValue,e)}))}}]),n}(Ks),tu=Me((function e(t,n){Re(this,e),this.position=t,this.before=n}));function nu(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return Ns(e)})).join(","))}var ru=Me((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Re(this,e),this.field=t,this.dir=n}));function iu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function au(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ss.comparator(Ss.fromName(o.referenceValue),n.key):Cs(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ou(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Es(e.position[n],t.position[n]))return!1;return!0}var su=Me((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Re(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function uu(e,t,n,r,i,a,o,s){return new su(e,t,n,r,i,a,o,s)}function cu(e){return new su(e)}function lu(e){return!bs(e.limit)&&"F"===e.limitType}function fu(e){return!bs(e.limit)&&"L"===e.limitType}function hu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function du(e){var t,n=Fe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function pu(e){return null!==e.collectionGroup}function mu(e){var t=Mo(e);if(null===t.S){t.S=[];var n=du(t),r=hu(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new ru(n)),t.S.push(new ru(ls.keyField(),"asc"));else{var i,a=!1,o=Fe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new ru(ls.keyField(),u))}}}return t.S}function vu(e){var t=Mo(e);if(!t.D)if("F"===t.limitType)t.D=Vs(t.path,t.collectionGroup,mu(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Fe(mu(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ru(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new tu(t.endAt.position,!t.endAt.before):null,u=t.startAt?new tu(t.startAt.position,!t.startAt.before):null;t.D=Vs(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function gu(e,t,n){return new su(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yu(e,t){return Hs(vu(e),vu(t))&&e.limitType===t.limitType}function ku(e){return"".concat(qs(vu(e)),"|lt:").concat(e.limitType)}function bu(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ns(t.value));var t})).join(", "),"]")),bs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+nu(e.startAt)),e.endAt&&(t+=", endAt: "+nu(e.endAt)),"Target(".concat(t,")")}(vu(e)),"; limitType=").concat(e.limitType,")")}function wu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ss.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Fe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Fe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!au(e.startAt,mu(e),t))&&(!e.endAt||!au(e.endAt,mu(e),t))}(e,t)}function xu(e){return function(t,n){var r,i=!1,a=Fe(mu(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Su(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Su(e,t,n){var r=e.field.isKeyField()?Ss.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Cs(r,i):Ro()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ro()}}function _u(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ws(t)?"-0":t}}function Eu(e){return{integerValue:""+e}}function Tu(e,t){return xs(t)?Eu(t):_u(e,t)}var Cu=Me((function e(){Re(this,e),this._=void 0}));function Iu(e,t,n){return e instanceof Du?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ju?Pu(e,t):e instanceof zu?Lu(e,t):function(e,t){var n=Au(e,t),r=Ou(n)+Ou(e.N);return js(n)&&js(e.N)?Eu(r):_u(e.k,r)}(e,t)}function Nu(e,t,n){return e instanceof ju?Pu(e,t):e instanceof zu?Lu(e,t):n}function Au(e,t){return e instanceof Ru?js(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Du=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n)}(Cu),ju=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).elements=e,r}return Me(n)}(Cu);function Pu(e,t){var n,r=Mu(t),i=Fe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Es(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var zu=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).elements=e,r}return Me(n)}(Cu);function Lu(e,t){var n,r=Mu(t),i=Fe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Es(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ru=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).k=e,i.N=r,i}return Me(n)}(Cu);function Ou(e){return ms(e.integerValue||e.doubleValue)}function Mu(e){return Ps(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fu=Me((function e(t,n){Re(this,e),this.field=t,this.transform=n}));var Uu=Me((function e(t,n){Re(this,e),this.version=t,this.transformResults=n})),Bu=function(){function e(t,n){Re(this,e),this.updateTime=t,this.exists=n}return Me(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Vu(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qu=Me((function e(){Re(this,e)}));function Hu(e,t,n){e instanceof Yu?function(e,t,n){var r=e.value.clone(),i=Ju(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $u?function(e,t,n){if(Vu(e.precondition,t)){var r=Ju(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Wu(e,t,n){e instanceof Yu?function(e,t,n){if(Vu(e.precondition,t)){var r=e.value.clone(),i=Zu(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Qu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof $u?function(e,t,n){if(Vu(e.precondition,t)){var r=Zu(e.fieldTransforms,n,t),i=t.data;i.setAll(Xu(e)),i.setAll(r),t.convertToFoundDocument(Qu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Vu(e.precondition,t)&&t.convertToNoDocument(rs.min())}(e,t)}function Ku(e,t){var n,r=null,i=Fe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Au(a.transform,o||null);null!=s&&(null==r&&(r=Ms.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Gu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&es(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ju&&t instanceof ju||e instanceof zu&&t instanceof zu?es(e.elements,t.elements,Es):e instanceof Ru&&t instanceof Ru?Es(e.N,t.N):e instanceof Du&&t instanceof Du}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Qu(e){return e.isFoundDocument()?e.version:rs.min()}var Yu=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Re(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Me(n)}(qu),$u=function(e){Be(n,e);var t=Ke(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Re(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Me(n)}(qu);function Xu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ju(e,t,n){var r=new Map;Oo(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Nu(o,s,n[i]))}return r}function Zu(e,t,n){var r,i=new Map,a=Fe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Iu(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var ec,tc,nc=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Me(n)}(qu),rc=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Me(n)}(qu),ic=Me((function e(t){Re(this,e),this.count=t}));function ac(e){switch(e){default:return Ro();case Fo.CANCELLED:case Fo.UNKNOWN:case Fo.DEADLINE_EXCEEDED:case Fo.RESOURCE_EXHAUSTED:case Fo.INTERNAL:case Fo.UNAVAILABLE:case Fo.UNAUTHENTICATED:return!1;case Fo.INVALID_ARGUMENT:case Fo.NOT_FOUND:case Fo.ALREADY_EXISTS:case Fo.PERMISSION_DENIED:case Fo.FAILED_PRECONDITION:case Fo.ABORTED:case Fo.OUT_OF_RANGE:case Fo.UNIMPLEMENTED:case Fo.DATA_LOSS:return!0}}function oc(e){if(void 0===e)return Po("GRPC error has no .code"),Fo.UNKNOWN;switch(e){case ec.OK:return Fo.OK;case ec.CANCELLED:return Fo.CANCELLED;case ec.UNKNOWN:return Fo.UNKNOWN;case ec.DEADLINE_EXCEEDED:return Fo.DEADLINE_EXCEEDED;case ec.RESOURCE_EXHAUSTED:return Fo.RESOURCE_EXHAUSTED;case ec.INTERNAL:return Fo.INTERNAL;case ec.UNAVAILABLE:return Fo.UNAVAILABLE;case ec.UNAUTHENTICATED:return Fo.UNAUTHENTICATED;case ec.INVALID_ARGUMENT:return Fo.INVALID_ARGUMENT;case ec.NOT_FOUND:return Fo.NOT_FOUND;case ec.ALREADY_EXISTS:return Fo.ALREADY_EXISTS;case ec.PERMISSION_DENIED:return Fo.PERMISSION_DENIED;case ec.FAILED_PRECONDITION:return Fo.FAILED_PRECONDITION;case ec.ABORTED:return Fo.ABORTED;case ec.OUT_OF_RANGE:return Fo.OUT_OF_RANGE;case ec.UNIMPLEMENTED:return Fo.UNIMPLEMENTED;case ec.DATA_LOSS:return Fo.DATA_LOSS;default:return Ro()}}(tc=ec||(ec={}))[tc.OK=0]="OK",tc[tc.CANCELLED=1]="CANCELLED",tc[tc.UNKNOWN=2]="UNKNOWN",tc[tc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tc[tc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tc[tc.NOT_FOUND=5]="NOT_FOUND",tc[tc.ALREADY_EXISTS=6]="ALREADY_EXISTS",tc[tc.PERMISSION_DENIED=7]="PERMISSION_DENIED",tc[tc.UNAUTHENTICATED=16]="UNAUTHENTICATED",tc[tc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tc[tc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tc[tc.ABORTED=10]="ABORTED",tc[tc.OUT_OF_RANGE=11]="OUT_OF_RANGE",tc[tc.UNIMPLEMENTED=12]="UNIMPLEMENTED",tc[tc.INTERNAL=13]="INTERNAL",tc[tc.UNAVAILABLE=14]="UNAVAILABLE",tc[tc.DATA_LOSS=15]="DATA_LOSS";var sc=function(){function e(t,n){Re(this,e),this.comparator=t,this.root=n||cc.EMPTY}return Me(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new uc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new uc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new uc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new uc(this.root,e,this.comparator,!0)}}]),e}(),uc=function(){function e(t,n,r,i){Re(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Me(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),cc=function(){function e(t,n,r,i,a){Re(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Me(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ro();if(this.right.isRed())throw Ro();var e=this.left.check();if(e!==this.right.check())throw Ro();return e+(this.isRed()?0:1)}}]),e}();cc.EMPTY=null,cc.RED=!0,cc.BLACK=!1,cc.EMPTY=new(function(){function e(){Re(this,e),this.size=0}return Me(e,[{key:"key",get:function(){throw Ro()}},{key:"value",get:function(){throw Ro()}},{key:"color",get:function(){throw Ro()}},{key:"left",get:function(){throw Ro()}},{key:"right",get:function(){throw Ro()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new cc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var lc=function(){function e(t){Re(this,e),this.comparator=t,this.data=new sc(this.comparator)}return Me(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new fc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new fc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),fc=function(){function e(t){Re(this,e),this.iter=t}return Me(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),hc=new sc(Ss.comparator);function dc(){return hc}var pc=new sc(Ss.comparator);function mc(){return pc}var vc=new sc(Ss.comparator);function gc(){return vc}var yc=new lc(Ss.comparator);function kc(){for(var e=yc,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var bc=new lc(Zo);function wc(){return bc}var xc=function(){function e(t,n,r,i,a){Re(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Me(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sc.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(rs.min(),r,wc(),dc(),kc())}}]),e}(),Sc=function(){function e(t,n,r,i,a){Re(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Me(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(hs.EMPTY_BYTE_STRING,n,kc(),kc(),kc())}}]),e}(),_c=Me((function e(t,n,r,i){Re(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Ec=Me((function e(t,n){Re(this,e),this.targetId=t,this.M=n})),Tc=Me((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:hs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Re(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Cc=function(){function e(){Re(this,e),this.F=0,this.L=Ac(),this.B=hs.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Me(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=kc(),t=kc(),n=kc();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ro()}})),new Sc(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Ac()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Ic=function(){function e(t){Re(this,e),this.et=t,this.nt=new Map,this.st=dc(),this.it=Nc(),this.rt=new lc(Zo)}return Me(e,[{key:"ot",value:function(e){var t,n=Fe(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=Fe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Ro()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(Ws(i))if(0===n){var a=new Ss(i.path);this.at(t,a,Us.newNoDocument(a,rs.min()))}else Oo(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Ws(a.target)){var o=new Ss(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Us.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=kc();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new xc(e,n,this.rt,this.st,r);return this.st=dc(),this.it=Nc(),this.rt=new lc(Zo),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Cc,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new lc(Zo),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||jo("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Cc),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Nc(){return new sc(Ss.comparator)}function Ac(){return new sc(Ss.comparator)}var Dc={asc:"ASCENDING",desc:"DESCENDING"},jc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pc=Me((function e(t,n){Re(this,e),this.databaseId=t,this.C=n}));function zc(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Lc(e,t){return e.C?t.toBase64():t.toUint8Array()}function Rc(e,t){return zc(e,t.toTimestamp())}function Oc(e){return Oo(!!e),rs.fromTimestamp(function(e){var t=ps(e);return new ns(t.seconds,t.nanos)}(e))}function Mc(e,t){return function(e){return new us(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fc(e){var t=us.fromString(e);return Oo(ll(t)),t}function Uc(e,t){return Mc(e.databaseId,t.path)}function Bc(e,t){var n=Fc(t);if(n.get(1)!==e.databaseId.projectId)throw new Uo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ss(Wc(n))}function Vc(e,t){return Mc(e.databaseId,t)}function qc(e){var t=Fc(e);return 4===t.length?us.emptyPath():Wc(t)}function Hc(e){return new us(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wc(e){return Oo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kc(e,t,n){return{name:Uc(e,t),fields:n.value.mapValue.fields}}function Gc(e,t,n){var r=Bc(e,t.name),i=Oc(t.updateTime),a=new Ms({mapValue:{fields:t.fields}}),o=Us.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Qc(e,t){return"found"in t?function(e,t){Oo(!!t.found),t.found.name,t.found.updateTime;var n=Bc(e,t.found.name),r=Oc(t.found.updateTime),i=new Ms({mapValue:{fields:t.found.fields}});return Us.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Oo(!!t.missing),Oo(!!t.readTime);var n=Bc(e,t.missing),r=Oc(t.readTime);return Us.newNoDocument(n,r)}(e,t):Ro()}function Yc(e,t){var n;if(t instanceof Yu)n={update:Kc(e,t.key,t.value)};else if(t instanceof nc)n={delete:Uc(e,t.key)};else if(t instanceof $u)n={update:Kc(e,t.key,t.data),updateMask:cl(t.fieldMask)};else{if(!(t instanceof rc))return Ro();n={verify:Uc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Du)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ju)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zu)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ru)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Ro()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Rc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ro()}(e,t.precondition)),n}function $c(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bu.updateTime(Oc(e.updateTime)):void 0!==e.exists?Bu.exists(e.exists):Bu.none()}(t.currentDocument):Bu.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Oo("REQUEST_TIME"===t.setToServerValue),n=new Du;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ju(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new zu(i)}else"increment"in t?n=new Ru(e,t.increment):Ro();var a=ls.fromServerFormat(t.fieldPath);return new Fu(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Bc(e,t.update.name),a=new Ms({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new fs(t.map((function(e){return ls.fromServerFormat(e)})))}(t.updateMask);return new $u(i,a,o,n,r)}return new Yu(i,a,n,r)}if(t.delete){var s=Bc(e,t.delete);return new nc(s,n)}if(t.verify){var u=Bc(e,t.verify);return new rc(u,n)}return Ro()}function Xc(e,t){return{documents:[Vc(e,t.path)]}}function Jc(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vc(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vc(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ls(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NAN"}};if(zs(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ls(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NAN"}};if(zs(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(e.field),op:il(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:al(e.field),direction:rl(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||bs(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=tl(t.startAt)),t.endAt&&(n.structuredQuery.endAt=tl(t.endAt)),n}function Zc(e){var t=qc(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Oo(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=el(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ru(ol(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return bs(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=nl(n.startAt));var l=null;return n.endAt&&(l=nl(n.endAt)),uu(t,i,s,o,u,"F",c,l)}function el(e){return e?void 0!==e.unaryFilter?[ul(e)]:void 0!==e.fieldFilter?[sl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return el(e)})).reduce((function(e,t){return e.concat(t)})):Ro():[]}function tl(e){return{before:e.before,values:e.position}}function nl(e){var t=!!e.before,n=e.values||[];return new tu(n,t)}function rl(e){return Dc[e]}function il(e){return jc[e]}function al(e){return{fieldPath:e.canonicalString()}}function ol(e){return ls.fromServerFormat(e.fieldPath)}function sl(e){return Ks.create(ol(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ro()}}(e.fieldFilter.op),e.fieldFilter.value)}function ul(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ol(e.unaryFilter.field);return Ks.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ol(e.unaryFilter.field);return Ks.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ol(e.unaryFilter.field);return Ks.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ol(e.unaryFilter.field);return Ks.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ro()}}function cl(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ll(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function fl(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dl(t)),t=hl(e.get(n),t);return dl(t)}function hl(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function dl(e){return e+"\x01\x01"}function pl(e){var t=e.length;if(Oo(t>=2),2===t)return Oo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),us.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ro(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ro()}a=o+2}return new us(r)}var ml=Me((function e(t,n){Re(this,e),this.seconds=t,this.nanoseconds=n})),vl=Me((function e(t,n,r){Re(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));vl.store="owner",vl.key="owner";var gl=Me((function e(t,n,r){Re(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));gl.store="mutationQueues",gl.keyPath="userId";var yl=Me((function e(t,n,r,i,a){Re(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));yl.store="mutations",yl.keyPath="batchId",yl.userMutationsIndex="userMutationsIndex",yl.userMutationsKeyPath=["userId","batchId"];var kl=function(){function e(){Re(this,e)}return Me(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,fl(t)]}},{key:"key",value:function(e,t,n){return[e,fl(t),n]}}]),e}();kl.store="documentMutations",kl.PLACEHOLDER=new kl;var bl=Me((function e(t,n){Re(this,e),this.path=t,this.readTime=n})),wl=Me((function e(t,n){Re(this,e),this.path=t,this.version=n})),xl=Me((function e(t,n,r,i,a,o){Re(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));xl.store="remoteDocuments",xl.readTimeIndex="readTimeIndex",xl.readTimeIndexPath="readTime",xl.collectionReadTimeIndex="collectionReadTimeIndex",xl.collectionReadTimeIndexPath=["parentPath","readTime"];var Sl=Me((function e(t){Re(this,e),this.byteSize=t}));Sl.store="remoteDocumentGlobal",Sl.key="remoteDocumentGlobalKey";var _l=Me((function e(t,n,r,i,a,o,s){Re(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));_l.store="targets",_l.keyPath="targetId",_l.queryTargetsIndexName="queryTargetsIndex",_l.queryTargetsKeyPath=["canonicalId","targetId"];var El=Me((function e(t,n,r){Re(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));El.store="targetDocuments",El.keyPath=["targetId","path"],El.documentTargetsIndex="documentTargetsIndex",El.documentTargetsKeyPath=["path","targetId"];var Tl=Me((function e(t,n,r,i){Re(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));Tl.key="targetGlobalKey",Tl.store="targetGlobal";var Cl=Me((function e(t,n){Re(this,e),this.collectionId=t,this.parent=n}));Cl.store="collectionParents",Cl.keyPath=["collectionId","parent"];var Il=Me((function e(t,n,r,i){Re(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Il.store="clientMetadata",Il.keyPath="clientId";var Nl=Me((function e(t,n,r){Re(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Nl.store="bundles",Nl.keyPath="bundleId";var Al=Me((function e(t,n,r){Re(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Al.store="namedQueries",Al.keyPath="name";var Dl=[gl.store,yl.store,kl.store,xl.store,_l.store,vl.store,Tl.store,El.store].concat([Il.store]).concat([Sl.store]).concat([Cl.store]).concat([Nl.store,Al.store]),jl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pl=function(){function e(){Re(this,e),this.onCommittedListeners=[]}return Me(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),zl=function(){function e(t){var n=this;Re(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Me(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ro(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Fe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Ll=function(){function e(t,n){var r=this;Re(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.It=new Bo,this.transaction.oncomplete=function(){r.It.resolve()},this.transaction.onabort=function(){n.error?r.It.reject(new Ml(t,n.error)):r.It.resolve()},this.transaction.onerror=function(e){var n=ql(e.target.error);r.It.reject(new Ml(t,n))}}return Me(e,[{key:"At",get:function(){return this.It.promise}},{key:"abort",value:function(e){e&&this.It.reject(e),this.aborted||(jo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ul(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Ml(n,t)}}}]),e}(),Rl=function(){function e(t,n,r){Re(this,e),this.name=t,this.version=n,this.Rt=r,12.2===e.bt(nt())&&Po("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Me(e,[{key:"Ct",value:function(){var e=a(l().mark((function e(t){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return jo("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ml(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Uo(Fo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Uo(Fo.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ml(t,n))},i.onupgradeneeded=function(e){jo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Rt.Nt(t,i.transaction,e.oldVersion,n.version).next((function(){jo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.kt&&(this.db.onversionchange=function(e){return n.kt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.kt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=a(l().mark((function e(t,n,r,i){var a,o,s,u,c=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(l().mark((function e(){var n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Ct(t);case 2:return c.db=e.sent,n=Ll.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),zl.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.At;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,jo("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return jo("SimpleDb","Removing database:",e),Bl(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Pt",value:function(){if("object"!==typeof indexedDB)return!1;if(e.vt())return!0;var t=nt(),n=e.bt(t),r=0<n&&n<10,i=e.Vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"vt",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/skateshop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.St)}},{key:"Dt",value:function(e,t){return e.store(t)}},{key:"bt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ol=function(){function e(t){Re(this,e),this.$t=t,this.Ot=!1,this.Mt=null}return Me(e,[{key:"isDone",get:function(){return this.Ot}},{key:"Ft",get:function(){return this.Mt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ot=!0}},{key:"Lt",value:function(e){this.Mt=e}},{key:"delete",value:function(){return Bl(this.$t.delete())}}]),e}(),Ml=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,Fo.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Me(n)}(Uo);function Fl(e){return"IndexedDbTransactionError"===e.name}var Ul=function(){function e(t){Re(this,e),this.store=t}return Me(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(jo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bl(n)}},{key:"add",value:function(e){return jo("SimpleDb","ADD",this.store.name,e,e),Bl(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Bl(this.store.get(e)).next((function(n){return void 0===n&&(n=null),jo("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return jo("SimpleDb","DELETE",this.store.name,e),Bl(this.store.delete(e))}},{key:"count",value:function(){return jo("SimpleDb","COUNT",this.store.name),Bl(this.store.count())}},{key:"Bt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"qt",value:function(e,t){jo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Kt=!1;var r=this.cursor(n);return this.Ut(r,(function(e,t,n){return n.delete()}))}},{key:"jt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Ut(r,t)}},{key:"Qt",value:function(e){var t=this.cursor({});return new zl((function(n,r){t.onerror=function(e){var t=ql(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Ut",value:function(e,t){var n=[];return new zl((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ol(i),o=t(i.primaryKey,i.value,a);if(o instanceof zl){var s=o.catch((function(e){return a.done(),zl.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return zl.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Bl(e){return new zl((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=ql(e.target.error);n(t)}}))}var Vl=!1;function ql(e){var t=Rl.bt(nt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Vl||(Vl=!0,setTimeout((function(){throw r}),0)),r}}return e}var Hl=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).Wt=e,i.currentSequenceNumber=r,i}return Me(n)}(Pl);function Wl(e,t){var n=Mo(e);return Rl.Dt(n.Wt,t)}var Kl=function(){function e(t,n,r,i){Re(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Me(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hu(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Fe(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Wu(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Fe(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Wu(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(rs.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),kc())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&es(this.mutations,e.mutations,(function(e,t){return Gu(e,t)}))&&es(this.baseMutations,e.baseMutations,(function(e,t){return Gu(e,t)}))}}]),e}(),Gl=function(){function e(t,n,r,i){Re(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Me(e,null,[{key:"from",value:function(t,n,r){Oo(t.mutations.length===r.length);for(var i=gc(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ql=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rs.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rs.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hs.EMPTY_BYTE_STRING;Re(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Me(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Yl=Me((function e(t){Re(this,e),this.Gt=t}));function $l(e,t){if(t.document)return Gc(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ss.fromSegments(t.noDocument.path),r=tf(t.noDocument.readTime),i=Us.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=Ss.fromSegments(t.unknownDocument.path),o=tf(t.unknownDocument.version);return Us.newUnknownDocument(a,o)}return Ro()}function Xl(e,t,n){var r=Jl(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Uc(e,t.key),fields:t.data.value.mapValue.fields,updateTime:zc(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new xl(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=ef(t.version),c=t.hasCommittedMutations;return new xl(null,new bl(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=ef(t.version);return new xl(new wl(l,f),null,null,!0,r,i)}return Ro()}function Jl(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Zl(e){var t=new ns(e[0],e[1]);return rs.fromTimestamp(t)}function ef(e){var t=e.toTimestamp();return new ml(t.seconds,t.nanoseconds)}function tf(e){var t=new ns(e.seconds,e.nanoseconds);return rs.fromTimestamp(t)}function nf(e,t){for(var n=(t.baseMutations||[]).map((function(t){return $c(e.Gt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return $c(e.Gt,t)})),s=ns.fromMillis(t.localWriteTimeMs);return new Kl(t.batchId,s,n,o)}function rf(e){var t,n,r=tf(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?tf(e.lastLimboFreeSnapshotVersion):rs.min();return void 0!==e.query.documents?(Oo(1===(n=e.query).documents.length),t=vu(cu(qc(n.documents[0])))):t=function(e){return vu(Zc(e))}(e.query),new Ql(t,e.targetId,0,e.lastListenSequenceNumber,r,i,hs.fromBase64String(e.resumeToken))}function af(e,t){var n,r=ef(t.snapshotVersion),i=ef(t.lastLimboFreeSnapshotVersion);n=Ws(t.target)?Xc(e.Gt,t.target):Jc(e.Gt,t.target);var a=t.resumeToken.toBase64();return new _l(t.targetId,qs(t.target),r,a,t.sequenceNumber,i,n)}function of(e){var t=Zc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?gu(t,t.limit,"L"):t}var sf=function(){function e(){Re(this,e)}return Me(e,[{key:"getBundleMetadata",value:function(e,t){return uf(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:tf(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return uf(e).put({bundleId:(n=t).id,createTime:ef(Oc(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return cf(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:of(t.bundledQuery),readTime:tf(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return cf(e).put(function(e){return{name:e.name,readTime:ef(Oc(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function uf(e){return Wl(e,Nl.store)}function cf(e){return Wl(e,Al.store)}var lf=function(){function e(){Re(this,e),this.zt=new ff}return Me(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),zl.resolve()}},{key:"getCollectionParents",value:function(e,t){return zl.resolve(this.zt.getEntries(t))}}]),e}(),ff=function(){function e(){Re(this,e),this.index={}}return Me(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new lc(us.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new lc(us.comparator)).toArray()}}]),e}(),hf=function(){function e(){Re(this,e),this.Ht=new ff}return Me(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ht.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ht.add(t)}));var a={collectionId:r,parent:fl(i)};return df(e).put(a)}return zl.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ts(t),""],!1,!0);return df(e).Bt(r).next((function(e){var r,i=Fe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(pl(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function df(e){return Wl(e,Cl.store)}var pf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mf=function(){function e(t,n,r){Re(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Me(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function vf(e,t,n){var r=e.store(yl.store),i=e.store(kl.store),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.jt({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){Oo(1===s)})));var c,l=[],f=Fe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=kl.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return zl.waitFor(a).next((function(){return l}))}function gf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ro();t=e.noDocument}return JSON.stringify(t).length}mf.DEFAULT_COLLECTION_PERCENTILE=10,mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mf.DEFAULT=new mf(41943040,mf.DEFAULT_COLLECTION_PERCENTILE,mf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mf.DISABLED=new mf(-1,0,0);var yf=function(){function e(t,n,r,i){Re(this,e),this.userId=t,this.k=n,this.Jt=r,this.referenceDelegate=i,this.Yt={}}return Me(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bf(e).jt({index:yl.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=wf(e),o=bf(e);return o.add({}).next((function(s){Oo("number"==typeof s);var u,c=new Kl(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Yc(e.Gt,t)})),i=n.mutations.map((function(t){return Yc(e.Gt,t)}));return new yl(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.k,i.userId,c),f=[],h=new lc((function(e,t){return Zo(e.canonicalString(),t.canonicalString())})),d=Fe(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,m=kl.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(m,kl.PLACEHOLDER))}}catch(v){d.e(v)}finally{d.f()}return h.forEach((function(t){f.push(i.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Yt[s]=c.keys()})),zl.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return bf(e).get(t).next((function(e){return e?(Oo(e.userId===n.userId),nf(n.k,e)):null}))}},{key:"Zt",value:function(e,t){var n=this;return this.Yt[t]?zl.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Yt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return bf(e).jt({index:yl.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Oo(t.batchId>=r),a=nf(n.k,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return bf(e).jt({index:yl.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return bf(e).Bt(yl.userMutationsIndex,n).next((function(e){return e.map((function(e){return nf(t.k,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=kl.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return wf(e).jt({range:i},(function(r,i,o){var s=u(r,3),c=s[0],l=s[1],f=s[2],h=pl(l);if(c===n.userId&&t.path.isEqual(h))return bf(e).get(f).next((function(e){if(!e)throw Ro();Oo(e.userId===n.userId),a.push(nf(n.k,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lc(Zo),i=[];return t.forEach((function(t){var a=kl.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=wf(e).jt({range:o},(function(e,i,a){var o=u(e,3),s=o[0],c=o[1],l=o[2],f=pl(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),zl.waitFor(i).next((function(){return n.te(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=kl.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new lc(Zo);return wf(e).jt({range:o},(function(e,t,a){var o=u(e,3),c=o[0],l=o[1],f=o[2],h=pl(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.te(e,s)}))}},{key:"te",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(bf(e).get(t).next((function(e){if(null===e)throw Ro();Oo(e.userId===n.userId),r.push(nf(n.k,e))})))})),zl.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return vf(e.Wt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.ee(t.batchId)})),zl.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"ee",value:function(e){delete this.Yt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return zl.resolve();var r=IDBKeyRange.lowerBound(kl.prefixForUser(t.userId)),i=[];return wf(e).jt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=pl(e[1]);i.push(a)}else r.done()})).next((function(){Oo(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return kf(e,this.userId,t)}},{key:"ne",value:function(e){var t=this;return xf(e).get(this.userId).next((function(e){return e||new gl(t.userId,-1,"")}))}}],[{key:"Xt",value:function(t,n,r,i){return Oo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function kf(e,t,n){var r=kl.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return wf(e).jt({range:a,Kt:!0},(function(e,n,r){var a=u(e,3),s=a[0],c=a[1];a[2];s===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function bf(e){return Wl(e,yl.store)}function wf(e){return Wl(e,kl.store)}function xf(e){return Wl(e,gl.store)}var Sf=function(){function e(t){Re(this,e),this.se=t}return Me(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}(),_f=function(){function e(t,n){Re(this,e),this.referenceDelegate=t,this.k=n}return Me(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.oe(e).next((function(n){var r=new Sf(n.highestTargetId);return n.highestTargetId=r.next(),t.ce(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.oe(e).next((function(e){return rs.fromTimestamp(new ns(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.oe(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.oe(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.ce(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ae(e,t).next((function(){return n.oe(e).next((function(r){return r.targetCount+=1,n.ue(t,r),n.ce(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ae(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ef(e).delete(t.targetId)})).next((function(){return n.oe(e)})).next((function(t){return Oo(t.targetCount>0),t.targetCount-=1,n.ce(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ef(e).jt((function(o,s){var u=rf(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return zl.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ef(e).jt((function(e,n){var r=rf(n);t(r)}))}},{key:"oe",value:function(e){return Tf(e).get(Tl.key).next((function(e){return Oo(null!==e),e}))}},{key:"ce",value:function(e,t){return Tf(e).put(Tl.key,t)}},{key:"ae",value:function(e,t){return Ef(e).put(af(this.k,t))}},{key:"ue",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.oe(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ef(e).jt({range:r,index:_l.queryTargetsIndexName},(function(e,n,r){var a=rf(n);Hs(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Cf(e);return t.forEach((function(t){var o=fl(t.path);i.push(a.put(new El(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),zl.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Cf(e);return zl.forEach(t,(function(t){var a=fl(t.path);return zl.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Cf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Cf(e),i=kc();return r.jt({range:n,Kt:!0},(function(e,t,n){var r=pl(e[1]),a=new Ss(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=fl(t.path),r=IDBKeyRange.bound([n],[ts(n)],!1,!0),i=0;return Cf(e).jt({index:El.documentTargetsIndex,Kt:!0,range:r},(function(e,t,n){var r=u(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return Ef(e).get(t).next((function(e){return e?rf(e):null}))}}]),e}();function Ef(e){return Wl(e,_l.store)}function Tf(e){return Wl(e,Tl.store)}function Cf(e){return Wl(e,El.store)}function If(e){return Nf.apply(this,arguments)}function Nf(){return Nf=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Fo.FAILED_PRECONDITION&&t.message===jl){e.next=2;break}throw t;case 2:jo("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Af(e,t){var n=u(e,2),r=n[0],i=n[1],a=u(t,2),o=a[0],s=a[1],c=Zo(r,o);return 0===c?Zo(i,s):c}var Df=function(){function e(t){Re(this,e),this.he=t,this.buffer=new lc(Af),this.le=0}return Me(e,[{key:"fe",value:function(){return++this.le}},{key:"de",value:function(e){var t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Af(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),jf=function(){function e(t,n){Re(this,e),this.garbageCollector=t,this.asyncQueue=n,this.we=!1,this._e=null}return Me(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}},{key:"stop",value:function(){this._e&&(this._e.cancel(),this._e=null)}},{key:"started",get:function(){return null!==this._e}},{key:"me",value:function(e){var t=this,n=this.we?3e5:6e4;jo("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t._e=null,t.we=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Fl(n.t0)){n.next=12;break}jo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,If(n.t0);case 14:return n.next=16,t.me(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Pf=function(){function e(t,n){Re(this,e),this.ge=t,this.params=n}return Me(e,[{key:"calculateTargetCount",value:function(e,t){return this.ge.ye(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return zl.resolve($o.I);var r=new Df(t);return this.ge.forEachTarget(e,(function(e){return r.de(e.sequenceNumber)})).next((function(){return n.ge.pe(e,(function(e){return r.de(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.ge.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.ge.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jo("LruGarbageCollector","Garbage collection skipped; disabled"),zl.resolve(pf)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),pf):n.Te(e,t)}))}},{key:"getCacheSize",value:function(e){return this.ge.getCacheSize(e)}},{key:"Te",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(jo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),Do()<=kt.DEBUG&&jo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),zl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),zf=function(){function e(t,n){Re(this,e),this.db=t,this.garbageCollector=function(e,t){return new Pf(e,t)}(this,n)}return Me(e,[{key:"ye",value:function(e){var t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Ee",value:function(e){var t=0;return this.pe(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"pe",value:function(e,t){return this.Ie(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Lf(e,n)}},{key:"removeReference",value:function(e,t,n){return Lf(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Lf(e,t)}},{key:"Ae",value:function(e,t){return function(e,t){var n=!1;return xf(e).Qt((function(r){return kf(e,r,t).next((function(e){return e&&(n=!0),zl.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ie(e,(function(o,s){if(s<=t){var u=n.Ae(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),Cf(e).delete([0,fl(o.path)])}))}));i.push(u)}})).next((function(){return zl.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Lf(e,t)}},{key:"Ie",value:function(e,t){var n,r=Cf(e),i=$o.I;return r.jt({index:El.documentTargetsIndex},(function(e,r){var a=u(e,2),o=a[0],s=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==$o.I&&t(new Ss(pl(n)),i),i=c,n=s):i=$o.I})).next((function(){i!==$o.I&&t(new Ss(pl(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Lf(e,t){return Cf(e).put(function(e,t){return new El(0,fl(e.path),t)}(t,e.currentSequenceNumber))}var Rf=function(){function e(t,n){Re(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Me(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Fe(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){as(this.inner,(function(t,n){var r,i=Fe(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return os(this.inner)}}]),e}(),Of=function(){function e(){Re(this,e),this.changes=new Rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Me(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:rs.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Us.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?zl.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Mf=function(){function e(t,n){Re(this,e),this.k=t,this.Jt=n}return Me(e,[{key:"addEntry",value:function(e,t,n){return Bf(e).put(Vf(t),n)}},{key:"removeEntry",value:function(e,t){var n=Bf(e),r=Vf(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Re(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Bf(e).get(Vf(t)).next((function(e){return n.be(t,e)}))}},{key:"Pe",value:function(e,t){var n=this;return Bf(e).get(Vf(t)).next((function(e){return{document:n.be(t,e),size:gf(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=dc();return this.ve(e,t,(function(e,t){var i=n.be(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Ve",value:function(e,t){var n=this,r=dc(),i=new sc(Ss.comparator);return this.ve(e,t,(function(e,t){var a=n.be(e,t);r=r.insert(e,a),i=i.insert(e,gf(t))})).next((function(){return{documents:r,Se:i}}))}},{key:"ve",value:function(e,t,n){if(t.isEmpty())return zl.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Bf(e).jt({range:r},(function(e,t,r){for(var o=Ss.fromSegments(e);a&&Ss.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Lt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=dc(),a=t.path.length+1,o={};if(n.isEqual(rs.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Jl(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=xl.collectionReadTimeIndex}return Bf(e).jt(o,(function(e,n,o){if(e.length===a){var s=$l(r.k,n);t.path.isPrefixOf(s.key.path)?wu(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Ff(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Uf(e).get(Sl.key).next((function(e){return Oo(!!e),e}))}},{key:"Re",value:function(e,t){return Uf(e).put(Sl.key,t)}},{key:"be",value:function(e,t){if(t){var n=$l(this.k,t);if(!n.isNoDocument()||!n.version.isEqual(rs.min()))return n}return Us.newInvalidDocument(e)}}]),e}(),Ff=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).De=e,i.trackRemovals=r,i.Ce=new Rf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Me(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new lc((function(e,t){return Zo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.Ce.get(a);if(o.document.isValidDocument()){var u=Xl(t.De.k,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=gf(u);r+=c-s,n.push(t.De.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Xl(t.De.k,Us.newNoDocument(a,rs.min()),t.getReadTime(a));n.push(t.De.addEntry(e,a,l))}else n.push(t.De.removeEntry(e,a))})),i.forEach((function(r){n.push(t.De.Jt.addToCollectionParentIndex(e,r))})),n.push(this.De.updateMetadata(e,r)),zl.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.De.Pe(e,t).next((function(e){return n.Ce.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.De.Ve(e,t).next((function(e){var t=e.documents;return e.Se.forEach((function(e,t){n.Ce.set(e,t)})),t}))}}]),n}(Of);function Uf(e){return Wl(e,Sl.store)}function Bf(e){return Wl(e,xl.store)}function Vf(e){return e.path.toArray()}var qf=function(){function e(t){Re(this,e),this.k=t}return Me(e,[{key:"Nt",value:function(e,t,n,r){var i=this;Oo(n<r&&n>=0&&r<=11);var a=new Ll("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(vl.store)}(e),function(e){e.createObjectStore(gl.store,{keyPath:gl.keyPath}),e.createObjectStore(yl.store,{keyPath:yl.keyPath,autoIncrement:!0}).createIndex(yl.userMutationsIndex,yl.userMutationsKeyPath,{unique:!0}),e.createObjectStore(kl.store)}(e),Hf(e),function(e){e.createObjectStore(xl.store)}(e));var o=zl.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(El.store),e.deleteObjectStore(_l.store),e.deleteObjectStore(Tl.store)}(e),Hf(e)),o=o.next((function(){return function(e){var t=e.store(Tl.store),n=new Tl(0,0,rs.min().toTimestamp(),0);return t.put(Tl.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(yl.store).Bt().next((function(n){e.deleteObjectStore(yl.store),e.createObjectStore(yl.store,{keyPath:yl.keyPath,autoIncrement:!0}).createIndex(yl.userMutationsIndex,yl.userMutationsKeyPath,{unique:!0});var r=t.store(yl.store),i=n.map((function(e){return r.put(e)}));return zl.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Il.store,{keyPath:Il.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ne(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(Sl.store)}(e),i.ke(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.$e(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(xl.store);t.createIndex(xl.readTimeIndex,xl.readTimeIndexPath,{unique:!1}),t.createIndex(xl.collectionReadTimeIndex,xl.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Oe(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Nl.store,{keyPath:Nl.keyPath})}(e),function(e){e.createObjectStore(Al.store,{keyPath:Al.keyPath})}(e)}))),o}},{key:"ke",value:function(e){var t=0;return e.store(xl.store).jt((function(e,n){t+=gf(n)})).next((function(){var n=new Sl(t);return e.store(Sl.store).put(Sl.key,n)}))}},{key:"Ne",value:function(e){var t=this,n=e.store(gl.store),r=e.store(yl.store);return n.Bt().next((function(n){return zl.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Bt(yl.userMutationsIndex,i).next((function(r){return zl.forEach(r,(function(r){Oo(r.userId===n.userId);var i=nf(t.k,r);return vf(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(El.store),n=e.store(xl.store);return e.store(Tl.store).get(Tl.key).next((function(e){var r=[];return n.jt((function(n,i){var a=new us(n),o=function(e){return[0,fl(e)]}(a);r.push(t.get(o).next((function(n){return n?zl.resolve():function(n){return t.put(new El(0,fl(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return zl.waitFor(r)}))}))}},{key:"$e",value:function(e,t){e.createObjectStore(Cl.store,{keyPath:Cl.keyPath});var n=t.store(Cl.store),r=new ff,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:fl(i)})}};return t.store(xl.store).jt({Kt:!0},(function(e,t){var n=new us(e);return i(n.popLast())})).next((function(){return t.store(kl.store).jt({Kt:!0},(function(e,t){var n=u(e,3),r=(n[0],n[1]),a=(n[2],pl(r));return i(a.popLast())}))}))}},{key:"Oe",value:function(e){var t=this,n=e.store(_l.store);return n.jt((function(e,r){var i=rf(r),a=af(t.k,i);return n.put(a)}))}}]),e}();function Hf(e){e.createObjectStore(El.store,{keyPath:El.keyPath}).createIndex(El.documentTargetsIndex,El.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(_l.store,{keyPath:_l.keyPath}).createIndex(_l.queryTargetsIndexName,_l.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Tl.store)}var Wf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Kf=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Re(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Me=a,this.window=o,this.document=s,this.Fe=c,this.Le=l,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=function(e){return Promise.resolve()},!e.Pt())throw new Uo(Fo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zf(this,i),this.Ge=n+"main",this.k=new Yl(u),this.ze=new Rl(this.Ge,11,new qf(this.k)),this.He=new _f(this.referenceDelegate,this.k),this.Jt=new hf,this.Je=function(e,t){return new Mf(e,t)}(this.k,this.Jt),this.Ye=new sf,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===l&&Po("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Me(e,[{key:"start",value:function(){var e=this;return this.Ze().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uo(Fo.FAILED_PRECONDITION,Wf);return e.tn(),e.en(),e.nn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.He.getHighestSequenceNumber(t)}))})).then((function(t){e.Be=new $o(t,e.Fe)})).then((function(){e.Ue=!0})).catch((function(t){return e.ze&&e.ze.close(),Promise.reject(t)}))}},{key:"sn",value:function(e){var t=this;return this.We=function(){var n=a(l().mark((function n(r){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ze.xt(function(){var t=a(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Ze();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Ze",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Qf(t).put(new Il(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.rn(t).next((function(t){t||(e.isPrimary=!1,e.Me.enqueueRetryable((function(){return e.We(!1)})))}))})).next((function(){return e.on(t)})).next((function(n){return e.isPrimary&&!n?e.cn(t).next((function(){return!1})):!!n&&e.an(t).next((function(){return!0}))}))})).catch((function(t){if(Fl(t))return jo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Me.enqueueRetryable((function(){return e.We(t)})),e.isPrimary=t}))}},{key:"rn",value:function(e){var t=this;return Gf(e).get(vl.key).next((function(e){return zl.resolve(t.un(e))}))}},{key:"hn",value:function(e){return Qf(e).delete(this.clientId)}},{key:"ln",value:function(){var e=a(l().mark((function e(){var t,n,r,i,a=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.fn(this.Qe,18e5)){e.next=6;break}return this.Qe=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wl(e,Il.store);return t.Bt().next((function(e){var n=a.dn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return zl.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Xe){n=Fe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Xe.removeItem(this.wn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nn",value:function(){var e=this;this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Ze().then((function(){return e.ln()})).then((function(){return e.nn()}))}))}},{key:"un",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"on",value:function(e){var t=this;return this.Le?zl.resolve(!0):Gf(e).get(vl.key).next((function(n){if(null!==n&&t.fn(n.leaseTimestampMs,5e3)&&!t._n(n.ownerId)){if(t.un(n)&&t.networkEnabled)return!0;if(!t.un(n)){if(!n.allowTabSynchronization)throw new Uo(Fo.FAILED_PRECONDITION,Wf);return!1}}return!(!t.networkEnabled||!t.inForeground)||Qf(e).Bt().next((function(e){return void 0===t.dn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&jo("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=a(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),e.next=7,this.ze.runTransaction("shutdown","readwrite",[vl.store,Il.store],(function(e){var n=new Hl(e,$o.I);return t.cn(n).next((function(){return t.hn(n)}))}));case 7:this.ze.close(),this.pn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dn",value:function(e,t){var n=this;return e.filter((function(e){return n.fn(e.updateTimeMs,t)&&!n._n(e.clientId)}))}},{key:"Tn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Qf(t).Bt().next((function(t){return e.dn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ue}},{key:"getMutationQueue",value:function(e){return yf.Xt(e,this.k,this.Jt,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;jo("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.ze.runTransaction(e,a,Dl,(function(a){return i=new Hl(a,r.Be?r.Be.next():$o.I),"readwrite-primary"===t?r.rn(i).next((function(e){return!!e||r.on(i)})).next((function(t){if(!t)throw Po("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Me.enqueueRetryable((function(){return r.We(!1)})),new Uo(Fo.FAILED_PRECONDITION,jl);return n(i)})).next((function(e){return r.an(i).next((function(){return e}))})):r.En(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"En",value:function(e){var t=this;return Gf(e).get(vl.key).next((function(e){if(null!==e&&t.fn(e.leaseTimestampMs,5e3)&&!t._n(e.ownerId)&&!t.un(e)&&!(t.Le||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uo(Fo.FAILED_PRECONDITION,Wf)}))}},{key:"an",value:function(e){var t=new vl(this.clientId,this.allowTabSynchronization,Date.now());return Gf(e).put(vl.key,t)}},{key:"cn",value:function(e){var t=this,n=Gf(e);return n.get(vl.key).next((function(e){return t.un(e)?(jo("IndexedDbPersistence","Releasing primary lease."),n.delete(vl.key)):zl.resolve()}))}},{key:"fn",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Po("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"tn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=function(){e.Me.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Ze()}))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}},{key:"gn",value:function(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}},{key:"en",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=function(){t.mn(),rt()&&navigator.appVersion.match(/Version\/1[45]/)&&t.Me.enterRestrictedMode(!0),t.Me.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.qe))}},{key:"yn",value:function(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}},{key:"_n",value:function(e){var t;try{var n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return jo("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Po("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"mn",value:function(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(Cn){Po("Failed to set zombie client id.",Cn)}}},{key:"pn",value:function(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(Cn){}}},{key:"wn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Pt",value:function(){return Rl.Pt()}}]),e}();function Gf(e){return Wl(e,vl.store)}function Qf(e){return Wl(e,Il.store)}function Yf(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var $f=Me((function e(t,n){Re(this,e),this.progress=t,this.In=n})),Xf=function(){function e(t,n,r){Re(this,e),this.Je=t,this.An=n,this.Jt=r}return Me(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Fe(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Fe(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Ss.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):pu(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Ss(t)).next((function(e){var t=mc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=mc();return this.Jt.getCollectionParents(e,i).next((function(o){return zl.forEach(o,(function(o){var s=function(e,t){return new su(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Fe(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Fe(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Us.newInvalidDocument(c),r=r.insert(c,l)),Wu(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(f){s.e(f)}finally{s.f()}}}catch(f){n.e(f)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){wu(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=kc(),a=Fe(t);try{for(a.s();!(r=a.n()).done;){var o,s=Fe(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof $u&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Jf=function(){function e(t,n,r,i){Re(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Me(e,null,[{key:"$n",value:function(t,n){var r,i=kc(),a=kc(),o=Fe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Zf=function(){function e(){Re(this,e)}return Me(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(rs.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(lu(t)||fu(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Do()<=kt.DEBUG&&jo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),bu(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new lc(xu(e));return t.forEach((function(t,r){wu(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Do()<=kt.DEBUG&&jo("QueryEngine","Using full collection scan to execute query:",bu(t)),this.Mn.getDocumentsMatchingQuery(e,t,rs.min())}}]),e}(),eh=function(){function e(t,n,r,i){Re(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new sc(Zo),this.Kn=new Rf((function(e){return qs(e)}),Hs),this.jn=rs.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Xf(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Me(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function th(e,t,n,r){return new eh(e,t,n,r)}function nh(e,t){return rh.apply(this,arguments)}function rh(){return rh=a(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Xf(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=kc(),u=Fe(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,f=Fe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Fe(n);try{for(p.s();!(d=p.n()).done;){var m=d.value;o.push(m.batchId);var v,g=Fe(m.mutations);try{for(g.s();!(v=g.n()).done;){var y=v.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(e,t){var n=Mo(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=zl.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Oo(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.An.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}function ah(e){var t=Mo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function oh(e,t){var n=Mo(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(hs.EMPTY_BYTE_STRING,rs.min()).withLastLimboFreeSnapshotVersion(rs.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=dc();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sh(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(rs.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return zl.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function sh(e,t,n,r,i){var a=kc();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=dc();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(rs.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):jo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function uh(e,t){var n=Mo(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t)}))}function ch(e,t){var n=Mo(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,zl.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new Ql(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function lh(e,t,n){return fh.apply(this,arguments)}function fh(){return fh=a(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mo(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Fl(e.t1)){e.next=12;break}throw e.t1;case 12:jo("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),fh.apply(this,arguments)}function hh(e,t,n){var r=Mo(e),i=rs.min(),a=kc();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Mo(e),i=r.Kn.get(n);return void 0!==i?zl.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,vu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:rs.min(),n?a:kc())})).next((function(e){return{documents:e,zn:a}}))}))}function dh(e,t){var n=Mo(e),r=Mo(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function ph(e){var t=Mo(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Mo(e),i=dc(),a=Jl(n),o=Bf(t),s=IDBKeyRange.lowerBound(a,!0);return o.jt({index:xl.readTimeIndex,range:s},(function(e,t){var n=$l(r.k,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{In:i,readTime:Zl(a)}}))}(t.Qn,e,t.jn)})).then((function(e){var n=e.In,r=e.readTime;return t.jn=r,n}))}function mh(e){return vh.apply(this,arguments)}function vh(){return vh=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mo(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Bf(e),n=rs.min();return t.jt({index:xl.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Zl(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.jn=e})));case 2:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function gh(e,t,n,r){return yh.apply(this,arguments)}function yh(){return yh=a(l().mark((function e(t,n,r,i){var a,o,s,u,c,f,h,d,p,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Mo(t),o=kc(),s=dc(),u=gc(),c=Fe(r);try{for(c.s();!(f=c.n()).done;)h=f.value,d=n.Hn(h.metadata.name),h.document&&(o=o.add(d)),s=s.insert(d,n.Jn(h)),u=u.insert(d,n.Yn(h.metadata.readTime))}catch(l){c.e(l)}finally{c.f()}return p=a.Qn.newChangeBuffer({trackRemovals:!0}),e.next=7,ch(a,function(e){return vu(cu(us.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return sh(e,p,s,rs.min(),u).next((function(t){return p.apply(e),t})).next((function(t){return a.He.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.He.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.Wn.Vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),yh.apply(this,arguments)}function kh(e,t){return bh.apply(this,arguments)}function bh(){return bh=a(l().mark((function e(t,n){var r,i,a,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:kc(),e.next=3,ch(t,vu(of(n.bundledQuery)));case 3:return i=e.sent,a=Mo(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Oc(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ye.saveNamedQuery(e,n);var o=i.withResumeToken(hs.EMPTY_BYTE_STRING,t);return a.qn=a.qn.insert(o.targetId,o),a.He.updateTargetData(e,o).next((function(){return a.He.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.He.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ye.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}var wh=function(){function e(t){Re(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Me(e,[{key:"getBundleMetadata",value:function(e,t){return zl.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Oc(n.createTime)}),zl.resolve()}},{key:"getNamedQuery",value:function(e,t){return zl.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:of(e.bundledQuery),readTime:Oc(e.readTime)}}(t)),zl.resolve()}}]),e}(),xh=function(){function e(){Re(this,e),this.ts=new lc(Sh.es),this.ns=new lc(Sh.ss)}return Me(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Sh(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new Sh(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Ss(new us([])),r=new Sh(n,e),i=new Sh(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Ss(new us([])),n=new Sh(t,e),r=new Sh(t,e+1),i=kc();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Sh(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Sh=function(){function e(t,n){Re(this,e),this.key=t,this.fs=n}return Me(e,null,[{key:"es",value:function(e,t){return Ss.comparator(e.key,t.key)||Zo(e.fs,t.fs)}},{key:"ss",value:function(e,t){return Zo(e.fs,t.fs)||Ss.comparator(e.key,t.key)}}]),e}(),_h=function(){function e(t,n){Re(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new lc(Sh.es)}return Me(e,[{key:"checkEmpty",value:function(e){return zl.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Kl(i,t,n,r);this.An.push(a);var o,s=Fe(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new Sh(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return zl.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return zl.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return zl.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return zl.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return zl.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Sh(t,0),i=new Sh(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),zl.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new lc(Zo);return t.forEach((function(e){var t=new Sh(e,0),i=new Sh(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),zl.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Ss.isDocumentKey(i)||(i=i.child(""));var a=new Sh(new Ss(i),0),o=new lc(Zo);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),zl.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Oo(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return zl.forEach(t.mutations,(function(i){var a=new Sh(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Sh(t,0),r=this.ws.firstAfterOrEqual(n);return zl.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,zl.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),Eh=function(){function e(t,n){Re(this,e),this.Jt=t,this.Ts=n,this.docs=new sc(Ss.comparator),this.size=0}return Me(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return zl.resolve(n?n.document.mutableCopy():Us.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=dc();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Us.newInvalidDocument(e))})),zl.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=dc(),i=new Ss(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||wu(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return zl.resolve(r)}},{key:"Es",value:function(e,t){return zl.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Th(this)}},{key:"getSize",value:function(e){return zl.resolve(this.size)}}]),e}(),Th=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).De=e,r}return Me(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),zl.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(Of),Ch=function(){function e(t){Re(this,e),this.persistence=t,this.Is=new Rf((function(e){return qs(e)}),Hs),this.lastRemoteSnapshotVersion=rs.min(),this.highestTargetId=0,this.As=0,this.Rs=new xh,this.targetCount=0,this.bs=Sf.ie()}return Me(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),zl.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return zl.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return zl.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),zl.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),zl.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Sf(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,zl.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),zl.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,zl.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),zl.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return zl.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return zl.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),zl.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),zl.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),zl.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return zl.resolve(n)}},{key:"containsKey",value:function(e,t){return zl.resolve(this.Rs.containsKey(t))}}]),e}(),Ih=function(){function e(t,n){var r=this;Re(this,e),this.Ps={},this.Be=new $o(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new Ch(this),this.Jt=new lf,this.Je=function(e,t){return new Eh(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Yl(n),this.Ye=new wh(this.k)}return Me(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new _h(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;jo("MemoryPersistence","Starting transaction:",e);var i=new Nh(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return zl.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Nh=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Me(n)}(Pl),Ah=function(){function e(t){Re(this,e),this.persistence=t,this.Cs=new xh,this.Ns=null}return Me(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Ro()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),zl.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),zl.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),zl.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zl.forEach(this.xs,(function(r){var i=Ss.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return zl.or([function(){return zl.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();function Dh(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function jh(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ph(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var zh=function(){function e(t,n,r,i){Re(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Me(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Uo(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Po("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Lh=function(){function e(t,n,r){Re(this,e),this.targetId=t,this.state=n,this.error=r}return Me(e,[{key:"Ms",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Os",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uo(i.error.code,i.error.message))),a?new e(t,i.state,r):(Po("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Rh=function(){function e(t,n){Re(this,e),this.clientId=t,this.activeTargetIds=n}return Me(e,null,[{key:"Os",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=wc(),o=0;i&&o<r.activeTargetIds.length;++o)i=xs(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Po("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Oh=function(){function e(t,n){Re(this,e),this.clientId=t,this.onlineState=n}return Me(e,null,[{key:"Os",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Po("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Mh=function(){function e(){Re(this,e),this.activeTargetIds=wc()}return Me(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Fh=function(){function e(t,n,r,i,a){Re(this,e),this.window=t,this.Me=n,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new sc(Zo),this.started=!1,this.js=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Qs=Dh(this.persistenceKey,this.Bs),this.Ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new Mh),this.Gs=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.zs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Hs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Js=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Ys=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}return Me(e,[{key:"start",value:function(){var e=a(l().mark((function e(){var t,n,r,i,a,o,s,u,c,f,h,d=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Tn();case 2:t=e.sent,n=Fe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Bs){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Dh(this.persistenceKey,i)))&&(o=Rh.Os(i,a))&&(this.Ks=this.Ks.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Xs(),(s=this.storage.getItem(this.Js))&&(u=this.Zs(s))&&this.ti(u),c=Fe(this.js);try{for(c.s();!(f=c.n()).done;)h=f.value,this.qs(h)}catch(l){c.e(l)}finally{c.f()}this.js=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ws,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ei(this.Ks)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ni(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ni(e,t,n),this.si(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ph(this.persistenceKey,e));if(n){var r=Lh.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}},{key:"removeLocalQueryTarget",value:function(e){this.ii.Ls(e),this.Xs()}},{key:"isLocalQueryTarget",value:function(e){return this.ii.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ph(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ri(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.si(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.oi(e)}},{key:"notifyBundleLoaded",value:function(){this.ci()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return jo("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){jo("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){jo("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"qs",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Po("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable(a(l().mark((function e(){var r,i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Gs.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ai(n.key),e.abrupt("return",t.ui(r,null));case 6:if(!(i=t.hi(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ui(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.zs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.li(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.fi(a));case 16:e.next=39;break;case 18:if(!t.Hs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.di(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.wi(o));case 23:e.next=39;break;case 25:if(n.key!==t.Js){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Zs(n.newValue))){e.next=30;break}return e.abrupt("return",t.ti(s));case 30:e.next=39;break;case 32:if(n.key!==t.Ws){e.next=37;break}u=function(e){var t=$o.I;if(null!=e)try{var n=JSON.parse(e);Oo("number"==typeof n),t=n}catch(e){Po("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==$o.I&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Ys){e.next=39;break}return e.abrupt("return",t.syncEngine._i());case 39:e.next=42;break;case 41:t.js.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"ii",get:function(){return this.Ks.get(this.Bs)}},{key:"Xs",value:function(){this.setItem(this.Qs,this.ii.Ms())}},{key:"ni",value:function(e,t,n){var r=new zh(this.currentUser,e,t,n),i=jh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}},{key:"si",value:function(e){var t=jh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"oi",value:function(e){var t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}},{key:"ri",value:function(e,t,n){var r=Ph(this.persistenceKey,e),i=new Lh(e,t,n);this.setItem(r,i.Ms())}},{key:"ci",value:function(){this.setItem(this.Ys,"value-not-used")}},{key:"ai",value:function(e){var t=this.Gs.exec(e);return t?t[1]:null}},{key:"hi",value:function(e,t){var n=this.ai(e);return Rh.Os(n,t)}},{key:"li",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zh.Os(new Io(i),r,t)}},{key:"di",value:function(e,t){var n=this.Hs.exec(e),r=Number(n[1]);return Lh.Os(r,t)}},{key:"Zs",value:function(e){return Oh.Os(e)}},{key:"fi",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.mi(t.batchId,t.state,t.error));case 2:jo("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wi",value:function(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}},{key:"ui",value:function(e,t){var n=this,r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),a=this.ei(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((function(){n.Ks=r}))}},{key:"ti",value:function(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ei",value:function(e){var t=wc();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Pt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Uh=function(){function e(){Re(this,e),this.pi=new Mh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Me(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new Mh,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Bh=function(){function e(){Re(this,e)}return Me(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Vh=function(){function e(){var t=this;Re(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Me(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){jo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Fe(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){jo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Fe(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),qh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hh=function(){function e(t){Re(this,e),this.Vi=t.Vi,this.Si=t.Si}return Me(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),Wh=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Me(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new To;o.listenOnce(wo.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case bo.NO_ERROR:var t=o.getResponseJson();jo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case bo.TIMEOUT:jo("Connection",'RPC "'+e+'" timed out'),a(new Uo(Fo.DEADLINE_EXCEEDED,"Request time out"));break;case bo.HTTP_ERROR:var n=o.getStatus();if(jo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fo).indexOf(t)>=0?t:Fo.UNKNOWN}(r.status);a(new Uo(s,r.message))}else a(new Uo(Fo.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Uo(Fo.UNAVAILABLE,"Connection failed."));break;default:Ro()}}finally{jo("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yo(),a=ko(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _o({})),this.qi(o.initMessageHeaders,t,n),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())||"object"===typeof navigator&&"ReactNative"===navigator.product||nt().indexOf("Electron/")>=0||function(){var e=nt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||nt().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");jo("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new Hh({Vi:function(e){l?jo("Connection","Not sending because WebChannel is closed:",e):(c||(jo("Connection","Opening WebChannel transport."),u.open(),c=!0),jo("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,Eo.EventType.OPEN,(function(){l||jo("Connection","WebChannel transport opened.")})),h(u,Eo.EventType.CLOSE,(function(){l||(l=!0,jo("Connection","WebChannel transport closed"),f.Oi())})),h(u,Eo.EventType.ERROR,(function(e){l||(l=!0,zo("Connection","WebChannel transport errored:",e),f.Oi(new Uo(Fo.UNAVAILABLE,"The operation could not be completed")))})),h(u,Eo.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Oo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jo("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ec[e];if(void 0!==t)return oc(t)}(a),s=i.message;void 0===o&&(o=Fo.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.Oi(new Uo(o,s)),u.close()}else jo("Connection","WebChannel received:",n),f.Mi(n)}})),h(a,xo.STAT_EVENT,(function(e){e.stat===So.PROXY?jo("Connection","Detected buffering proxy"):e.stat===So.NOPROXY&&jo("Connection","Detected no buffering proxy")})),setTimeout((function(){f.$i()}),0),f}}]),n}(function(){function e(t){Re(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Me(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);jo("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return jo("RestConnection","Received: ",e),e}),(function(t){throw zo("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+No,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=qh[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Kh(){return"undefined"!=typeof window?window:null}function Gh(){return"undefined"!=typeof document?document:null}function Qh(e){return new Pc(e,!0)}var Yh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Re(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Me(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&jo("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),$h=function(){function e(t,n,r,i,a,o,s,u){Re(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Yh(t,n)}return Me(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===Fo.RESOURCE_EXHAUSTED?(Po(n.toString()),Po("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===Fo.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new Uo(Fo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return jo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(jo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Xh=function(e){Be(n,e);var t=Ke(n);function n(e,r,i,a,o,s){var u;return Re(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Me(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ro()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?(Oo(void 0===t||"string"==typeof t),hs.fromBase64String(t||"")):(Oo(void 0===t||t instanceof Uint8Array),hs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Fo.UNKNOWN:oc(e.code);return new Uo(t,e.message||"")}(o);n=new Tc(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Bc(e,u.document.name),l=Oc(u.document.updateTime),f=new Ms({mapValue:{fields:u.document.fields}}),h=Us.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new _c(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var v=Bc(e,m.document),g=m.readTime?Oc(m.readTime):rs.min(),y=Us.newNoDocument(v,g),k=m.removedTargetIds||[];n=new _c([],k,y.key,y)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Bc(e,b.document),x=b.removedTargetIds||[];n=new _c([],x,w,null)}else{if(!("filter"in t))return Ro();t.filter;var S=t.filter;S.targetId;var _=S.count||0,E=new ic(_),T=S.targetId;n=new Ec(T,E)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return rs.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rs.min():t.readTime?Oc(t.readTime):rs.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Hc(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=Ws(r)?{documents:Xc(e,r)}:{query:Jc(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Lc(e,t.resumeToken):t.snapshotVersion.compareTo(rs.min())>0&&(n.readTime=zc(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ro()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Hc(this.k),t.removeTarget=e,this.gr(t)}}]),n}($h),Jh=function(e){Be(n,e);var t=Ke(n);function n(e,r,i,a,o,s){var u;return Re(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).k=o,u.Vr=!1,u}return Me(n,[{key:"Sr",get:function(){return this.Vr}},{key:"start",value:function(){this.Vr=!1,this.lastStreamToken=void 0,hn(Ve(n.prototype),"start",this).call(this)}},{key:"Tr",value:function(){this.Vr&&this.Dr([])}},{key:"Rr",value:function(e,t){return this.ir.Qi("Write",e,t)}},{key:"onMessage",value:function(e){if(Oo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();var t=function(e,t){return e&&e.length>0?(Oo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Oc(e.updateTime):Oc(t);return n.isEqual(rs.min())&&(n=Oc(t)),new Uu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Oc(e.commitTime);return this.listener.Cr(n,t)}return Oo(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}},{key:"kr",value:function(){var e={};e.database=Hc(this.k),this.gr(e)}},{key:"Dr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Yc(t.k,e)}))};this.gr(n)}}]),n}($h),Zh=function(e){Be(n,e);var t=Ke(n);function n(e,r,i,a){var o;return Re(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Me(n,[{key:"Or",value:function(){if(this.$r)throw new Uo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uo(Fo.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fo.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uo(Fo.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Me((function e(){Re(this,e)}))}()),ed=function(){function e(t,n){Re(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Me(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Po(t),this.Lr=!1):jo("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),td=Me((function e(t,n,r,i,o){var s=this;Re(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=o,this.Hr.Ei((function(e){r.enqueueAndForget(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=hd(s),!e.t0){e.next=5;break}return jo("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mo(t)).Gr.add(4),e.next=4,id(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,nd(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new ed(r,i)}));function nd(e){return rd.apply(this,arguments)}function rd(){return rd=a(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!hd(t)){e.next=18;break}n=Fe(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),rd.apply(this,arguments)}function id(e){return ad.apply(this,arguments)}function ad(){return ad=a(l().mark((function e(t){var n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fe(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ad.apply(this,arguments)}function od(e,t){var n=Mo(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),fd(n)?ld(n):Bd(n).lr()&&ud(n,t))}function sd(e,t){var n=Mo(e),r=Bd(n);n.Wr.delete(t),r.lr()&&cd(n,t),0===n.Wr.size&&(r.lr()?r._r():hd(n)&&n.Jr.set("Unknown"))}function ud(e,t){e.Yr.X(t.targetId),Bd(e).Pr(t)}function cd(e,t){e.Yr.X(t),Bd(e).vr(t)}function ld(e){e.Yr=new Ic({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Bd(e).start(),e.Jr.Br()}function fd(e){return hd(e)&&!Bd(e).hr()&&e.Wr.size>0}function hd(e){return 0===Mo(e).Gr.size}function dd(e){e.Yr=void 0}function pd(e){return md.apply(this,arguments)}function md(){return md=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){ud(t,e)}));case 1:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function vd(e,t){return gd.apply(this,arguments)}function gd(){return gd=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dd(t),fd(t)?(t.Jr.Kr(n),ld(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),gd.apply(this,arguments)}function yd(e,t,n){return kd.apply(this,arguments)}function kd(){return kd=a(l().mark((function e(t,n,r){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Tc&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=a(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Fe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jo("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,bd(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof _c?t.Yr.ot(n):n instanceof Ec?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(rs.min())){e.next=29;break}return e.prev=14,e.next=17,ah(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(hs.EMPTY_BYTE_STRING,n.snapshotVersion)),cd(e,t);var r=new Ql(n.target,t,1,n.sequenceNumber);ud(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jo("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,bd(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),kd.apply(this,arguments)}function bd(e,t,n){return wd.apply(this,arguments)}function wd(){return wd=a(l().mark((function e(t,n,r){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fl(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,id(t);case 5:t.Jr.set("Offline"),r||(r=function(){return ah(t.localStore)}),t.asyncQueue.enqueueRetryable(a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jo("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,nd(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),wd.apply(this,arguments)}function xd(e,t){return t().catch((function(n){return bd(e,n,t)}))}function Sd(e){return _d.apply(this,arguments)}function _d(){return _d=a(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Mo(t),r=Vd(n),i=n.Qr.length>0?n.Qr[n.Qr.length-1].batchId:-1;case 2:if(!Ed(n)){e.next=19;break}return e.prev=3,e.next=6,uh(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Qr.length&&r._r(),e.abrupt("break",19);case 10:i=a.batchId,Td(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,bd(n,e.t0);case 17:e.next=2;break;case 19:Cd(n)&&Id(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),_d.apply(this,arguments)}function Ed(e){return hd(e)&&e.Qr.length<10}function Td(e,t){e.Qr.push(t);var n=Vd(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Cd(e){return hd(e)&&!Vd(e).hr()&&e.Qr.length>0}function Id(e){Vd(e).start()}function Nd(e){return Ad.apply(this,arguments)}function Ad(){return Ad=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vd(t).kr();case 1:case"end":return e.stop()}}),e)}))),Ad.apply(this,arguments)}function Dd(e){return jd.apply(this,arguments)}function jd(){return jd=a(l().mark((function e(t){var n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Vd(t),r=Fe(t.Qr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Dr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Pd(e,t,n){return zd.apply(this,arguments)}function zd(){return zd=a(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Qr.shift(),a=Gl.from(i,n,r),e.next=3,xd(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Sd(t);case 5:case"end":return e.stop()}}),e)}))),zd.apply(this,arguments)}function Ld(e,t){return Rd.apply(this,arguments)}function Rd(){return Rd=a(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Vd(t).Sr,!e.t0){e.next=4;break}return e.next=4,function(){var e=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ac(i=n.code)||i===Fo.ABORTED){e.next=7;break}return r=t.Qr.shift(),Vd(t).wr(),e.next=5,xd(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Sd(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Cd(t)&&Id(t);case 5:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Od(e,t){return Md.apply(this,arguments)}function Md(){return Md=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Mo(t)).asyncQueue.verifyOperationInProgress(),jo("RemoteStore","RemoteStore received new credentials"),i=hd(r),r.Gr.add(3),e.next=6,id(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,nd(r);case 12:case"end":return e.stop()}}),e)}))),Md.apply(this,arguments)}function Fd(e,t){return Ud.apply(this,arguments)}function Ud(){return Ud=a(l().mark((function e(t,n){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mo(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,nd(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,id(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}function Bd(e){return e.Xr||(e.Xr=function(e,t,n){var r=Mo(e);return r.Or(),new Xh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:pd.bind(null,e),Ni:vd.bind(null,e),br:yd.bind(null,e)}),e.zr.push(function(){var t=a(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),fd(e)?ld(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:dd(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}function Vd(e){return e.Zr||(e.Zr=function(e,t,n){var r=Mo(e);return r.Or(),new Jh(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Nd.bind(null,e),Ni:Ld.bind(null,e),Nr:Dd.bind(null,e),Cr:Pd.bind(null,e)}),e.zr.push(function(){var t=a(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Zr.wr(),t.next=4,Sd(e);case 4:t.next=9;break;case 6:return t.next=8,e.Zr.stop();case 8:e.Qr.length>0&&(jo("RemoteStore","Stopping write stream with ".concat(e.Qr.length," pending writes")),e.Qr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Zr}var qd=function(){function e(t,n,r,i,a){Re(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Me(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uo(Fo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Hd(e,t){if(Po("AsyncQueue","".concat(t,": ").concat(e)),Fl(e))return new Uo(Fo.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Wd=function(){function e(t){Re(this,e),this.comparator=t?function(e,n){return t(e,n)||Ss.comparator(e.key,n.key)}:function(e,t){return Ss.comparator(e.key,t.key)},this.keyedMap=mc(),this.sortedSet=new sc(this.comparator)}return Me(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Kd=function(){function e(){Re(this,e),this.eo=new sc(Ss.comparator)}return Me(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Ro():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Gd=function(){function e(t,n,r,i,a,o,s,u){Re(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Me(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Wd.emptySet(n),a,r,i,!0,!1)}}]),e}(),Qd=Me((function e(){Re(this,e),this.so=void 0,this.listeners=[]})),Yd=Me((function e(){Re(this,e),this.queries=new Rf((function(e){return ku(e)}),yu),this.onlineState="Unknown",this.io=new Set}));function $d(e,t){return Xd.apply(this,arguments)}function Xd(){return Xd=a(l().mark((function e(t,n){var r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mo(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Qd),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Hd(e.t0,"Initialization of query '".concat(bu(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&np(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Xd.apply(this,arguments)}function Jd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=a(l().mark((function e(t,n){var r,i,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mo(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t){var n,r=Mo(e),i=!1,a=Fe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Fe(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.so=o}}}catch(f){a.e(f)}finally{a.f()}i&&np(r)}function tp(e,t,n){var r=Mo(e),i=r.queries.get(t);if(i){var a,o=Fe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function np(e){e.io.forEach((function(e){e.next()}))}var rp=function(){function e(t,n,r){Re(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Me(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Fe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Gd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}(),ip=function(){function e(t,n){Re(this,e),this.payload=t,this.byteLength=n}return Me(e,[{key:"_o",value:function(){return"metadata"in this.payload}}]),e}(),ap=function(){function e(t){Re(this,e),this.k=t}return Me(e,[{key:"Hn",value:function(e){return Bc(this.k,e)}},{key:"Jn",value:function(e){return e.metadata.exists?Gc(this.k,e.document,!1):Us.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}},{key:"Yn",value:function(e){return Oc(e)}}]),e}(),op=function(){function e(t,n,r){Re(this,e),this.mo=t,this.localStore=n,this.k=r,this.queries=[],this.documents=[],this.progress=sp(t)}return Me(e,[{key:"yo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"po",value:function(e){var t,n=new Map,r=new ap(this.k),i=Fe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.Hn(a.metadata.name),u=Fe(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||kc()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=a(l().mark((function e(){var t,n,r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gh(this.localStore,new ap(this.k),this.documents,this.mo.id);case 2:t=e.sent,n=this.po(this.documents),r=Fe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,kh(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new $f(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function sp(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var up=Me((function e(t){Re(this,e),this.key=t})),cp=Me((function e(t){Re(this,e),this.key=t})),lp=function(){function e(t,n){Re(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=kc(),this.mutatedKeys=kc(),this.Ao=xu(t),this.Ro=new Wd(this.Ao)}return Me(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Kd,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=lu(this.query)&&i.size===this.query.limit?i.last():null,c=fu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=wu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ao(f,u)>0||c&&n.Ao(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),lu(this.query)||fu(this.query))for(;o.size>this.query.limit;){var l=lu(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ro()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Gd(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Kd,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=kc(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new cp(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new up(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=kc();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Gd.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),fp=Me((function e(t,n,r){Re(this,e),this.query=t,this.targetId=n,this.view=r})),hp=Me((function e(t){Re(this,e),this.key=t,this.$o=!1})),dp=function(){function e(t,n,r,i,a,o){Re(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Rf((function(e){return ku(e)}),yu),this.Fo=new Map,this.Lo=new Set,this.Bo=new sc(Ss.comparator),this.Uo=new Map,this.qo=new xh,this.Ko={},this.jo=new Map,this.Qo=Sf.re(),this.onlineState="Unknown",this.Wo=void 0}return Me(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function pp(e,t){return mp.apply(this,arguments)}function mp(){return mp=a(l().mark((function e(t,n){var r,i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=sm(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,ch(r.localStore,vu(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,vp(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&od(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),mp.apply(this,arguments)}function vp(e,t,n,r){return gp.apply(this,arguments)}function gp(){return gp=a(l().mark((function e(t,n,r,i){var o,s,u,c,f,h;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=a(l().mark((function e(t,n,r,i){var a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,hh(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Op(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,hh(t.localStore,n,!0);case 3:return o=e.sent,s=new lp(n,o.zn),u=s.Po(o.documents),c=Sc.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=s.applyChanges(u,t.isPrimaryClient,c),Op(t,r,f.Co),h=new fp(n,r,s),e.abrupt("return",(t.Mo.set(n,h),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),gp.apply(this,arguments)}function yp(e,t){return kp.apply(this,arguments)}function kp(){return kp=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Mo(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!yu(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,lh(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),sd(r.remoteStore,i.targetId),Lp(r,i.targetId)})).catch(If);case 9:e.next=14;break;case 11:return Lp(r,i.targetId),e.next=14,lh(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}function bp(e,t,n){return wp.apply(this,arguments)}function wp(){return wp=a(l().mark((function e(t,n,r){var i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=um(t),e.prev=1,e.next=4,function(e,t){var n,r=Mo(e),i=ns.now(),a=t.reduce((function(e,t){return e.add(t.key)}),kc());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Wn.vn(e,a).next((function(a){n=a;var o,s=[],u=Fe(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=Ku(c,n.get(c.key));null!=l&&s.push(new $u(c.key,l,Fs(l.value.mapValue),Bu.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return r.An.addMutationBatch(e,i,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ko[e.currentUser.toKey()];r||(r=new sc(Zo)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Up(i,a.changes);case 9:return e.next=11,Sd(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Hd(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),wp.apply(this,arguments)}function xp(e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),e.prev=1,e.next=4,oh(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&(Oo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?Oo(n.$o):e.removedDocuments.size>0&&(Oo(n.$o),n.$o=!1))})),e.next=8,Up(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,If(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Sp.apply(this,arguments)}function _p(e,t,n){var r=Mo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Mo(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Fe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&np(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ep(e,t,n){return Tp.apply(this,arguments)}function Tp(){return Tp=a(l().mark((function e(t,n,r){var i,a,o,s,u,c;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Mo(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new sc(Ss.comparator)).insert(o,Us.newNoDocument(o,rs.min())),u=kc().add(o),c=new xc(rs.min(),new Map,new lc(Zo),s,u),e.next=9,xp(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),Fp(i),e.next=16;break;case 14:return e.next=16,lh(i.localStore,n,!1).then((function(){return Lp(i,n,r)})).catch(If);case 16:case"end":return e.stop()}}),e)}))),Tp.apply(this,arguments)}function Cp(e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),i=n.batch.batchId,e.prev=1,e.next=4,ih(r.localStore,n);case 4:return a=e.sent,zp(r,i,null),Pp(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Up(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,If(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ip.apply(this,arguments)}function Np(e,t,n){return Ap.apply(this,arguments)}function Ap(){return Ap=a(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mo(t),e.prev=1,e.next=4,function(e,t){var n=Mo(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.An.lookupMutationBatch(e,t).next((function(t){return Oo(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)})).next((function(){return n.An.performConsistencyCheck(e)})).next((function(){return n.Wn.vn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,zp(i,n,r),Pp(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Up(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,If(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ap.apply(this,arguments)}function Dp(e,t){return jp.apply(this,arguments)}function jp(){return jp=a(l().mark((function e(t,n){var r,i,a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hd((r=Mo(t)).remoteStore)||jo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Mo(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.An.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.jo.get(i)||[]).push(n),r.jo.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Hd(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),jp.apply(this,arguments)}function Pp(e,t){(e.jo.get(t)||[]).forEach((function(e){e.resolve()})),e.jo.delete(t)}function zp(e,t,n){var r=Mo(e),i=r.Ko[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Lp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Fe(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||Rp(e,t)}))}function Rp(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(sd(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Fp(e))}function Op(e,t,n){var r,i=Fe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof up?(e.qo.addReference(a.key,t),Mp(e,a)):a instanceof cp?(jo("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||Rp(e,a.key)):Ro()}}catch(o){i.e(o)}finally{i.f()}}function Mp(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(jo("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Fp(e))}function Fp(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Ss(us.fromString(t)),r=e.Qo.next();e.Uo.set(r,new hp(n)),e.Bo=e.Bo.insert(n,r),od(e.remoteStore,new Ql(vu(cu(n.path)),r,2,$o.I))}}function Up(e,t,n){return Bp.apply(this,arguments)}function Bp(){return Bp=a(l().mark((function e(t,n,r){var i,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Mo(t),o=[],s=[],u=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){u.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),o.push(e);var n=Jf.$n(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Oo.br(o),e.next=9,function(){var e=a(l().mark((function e(t,n){var r,i,a,o,s,u,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return zl.forEach(n,(function(t){return zl.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return zl.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Fl(e.t0)){e.next=10;break}throw e.t0;case 10:jo("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Fe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,f=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,f))}catch(l){i.e(l)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),Bp.apply(this,arguments)}function Vp(e,t){return qp.apply(this,arguments)}function qp(){return qp=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Mo(t)).currentUser.isEqual(n)){e.next=11;break}return jo("SyncEngine","User change. New user:",n.toKey()),e.next=5,nh(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new Uo(Fo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Up(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Hp(e,t){var n=Mo(e),r=n.Uo.get(t);if(r&&r.$o)return kc().add(r.key);var i=kc(),a=n.Fo.get(t);if(!a)return i;var o,s=Fe(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function Wp(e,t){return Kp.apply(this,arguments)}function Kp(){return Kp=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),e.next=3,hh(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ko(i),e.abrupt("return",(r.isPrimaryClient&&Op(r,n.targetId,a.Co),a));case 6:case"end":return e.stop()}}),e)}))),Kp.apply(this,arguments)}function Gp(e){return Qp.apply(this,arguments)}function Qp(){return Qp=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mo(t),e.abrupt("return",ph(n.localStore).then((function(e){return Up(n,e)})));case 2:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function Yp(e,t,n,r){return $p.apply(this,arguments)}function $p(){return $p=a(l().mark((function e(t,n,r,i){var a,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Mo(t),e.next=3,function(e,t){var n=Mo(e),r=Mo(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Zt(e,t).next((function(t){return t?n.Wn.vn(e,t):zl.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Sd(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(zp(a,n,i||null),Pp(a,n),function(e,t){Mo(Mo(e).An).ee(t)}(a.localStore,n)):Ro();case 11:return e.next=13,Up(a,o);case 13:e.next=16;break;case 15:jo("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),$p.apply(this,arguments)}function Xp(e,t){return Jp.apply(this,arguments)}function Jp(){return Jp=a(l().mark((function e(t,n){var r,i,a,o,s,u,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sm(r=Mo(t)),um(r),!0!==n||!0===r.Wo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Zp(r,i.toArray());case 5:return a=e.sent,r.Wo=!0,e.next=9,Fd(r.remoteStore,!0);case 9:o=Fe(a);try{for(o.s();!(s=o.n()).done;)u=s.value,od(r.remoteStore,u)}catch(l){o.e(l)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Wo){e.next=25;break}return c=[],f=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):f=f.then((function(){return Lp(r,t),lh(r.localStore,t,!0)})),sd(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,Zp(r,c);case 21:return function(e){var t=Mo(e);t.Uo.forEach((function(e,n){sd(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new sc(Ss.comparator)}(r),r.Wo=!1,e.next=25,Fd(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Jp.apply(this,arguments)}function Zp(e,t,n){return em.apply(this,arguments)}function em(){return em=a(l().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d,p,m,v,g,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Mo(t),a=[],o=[],s=Fe(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,f=void 0,!(h=i.Fo.get(c))||0===h.length){e.next=34;break}return e.next=11,ch(i.localStore,vu(h[0]));case 11:f=e.sent,d=Fe(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return m=p.value,v=i.Mo.get(m),e.next=20,Wp(i,v);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,dh(i.localStore,c);case 36:return y=e.sent,e.next=39,ch(i.localStore,y);case 39:return f=e.sent,e.next=42,vp(i,tm(y),c,!1);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.Oo.br(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),em.apply(this,arguments)}function tm(e){return uu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nm(e){var t=Mo(e);return Mo(Mo(t.localStore).persistence).Tn()}function rm(e,t,n,r){return im.apply(this,arguments)}function im(){return im=a(l().mark((function e(t,n,r,i){var a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Mo(t)).Wo){e.next=5;break}jo("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,ph(a.localStore);case 11:return o=e.sent,s=xc.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Up(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,lh(a.localStore,n,!0);case 18:return Lp(a,n,i),e.abrupt("break",21);case 20:Ro();case 21:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t,n){return om.apply(this,arguments)}function om(){return om=a(l().mark((function e(t,n,r){var i,a,o,s,u,c,f,h,d;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=sm(t)).Wo){e.next=45;break}a=Fe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i.Fo.has(s)){e.next=10;break}return jo("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,dh(i.localStore,s);case 12:return u=e.sent,e.next=15,ch(i.localStore,u);case 15:return c=e.sent,e.next=18,vp(i,tm(u),c.targetId,!1);case 18:od(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=Fe(r),e.prev=30,d=l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,lh(i.localStore,t,!1).then((function(){sd(i.remoteStore,t),Lp(i,t)})).catch(If);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),om.apply(this,arguments)}function sm(e){var t=Mo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ep.bind(null,t),t.Oo.br=ep.bind(null,t.eventManager),t.Oo.zo=tp.bind(null,t.eventManager),t}function um(e){var t=Mo(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Np.bind(null,t),t}function cm(e,t,n){var r=Mo(e);(function(){var e=a(l().mark((function e(t,n,r){var i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Mo(e),r=Oc(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ye.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(sp(i)),a=new op(i,t.localStore,n.k),e.next=14,n.Ho();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.yo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.Ho();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Up(t,u.In,void 0);case 30:return e.next=32,function(e,t){var n=Mo(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ye.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),zo("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var lm=function(){function e(){Re(this,e),this.synchronizeTabs=!1}return Me(e,[{key:"initialize",value:function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=Qh(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return th(this.persistence,new Zf,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new Ih(Ah.ks,this.k)}},{key:"Jo",value:function(e){return new Uh}},{key:"terminate",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fm=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this)).tc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Me(n,[{key:"initialize",value:function(){var e=a(l().mark((function e(t){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(Ve(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,mh(this.localStore);case 4:return e.next=6,this.tc.initialize(this,t);case 6:return e.next=8,um(this.tc.syncEngine);case 8:return e.next=10,Sd(this.tc.remoteStore);case 10:return e.next=12,this.persistence.sn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Zo",value:function(e){return th(this.persistence,new Zf,e.initialUser,this.k)}},{key:"Xo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new jf(t,e.asyncQueue)}},{key:"Yo",value:function(e){var t=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?mf.withCacheSize(this.cacheSizeBytes):mf.DEFAULT;return new Kf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Kh(),Gh(),this.k,this.sharedClientState,!!this.forceOwnership)}},{key:"Jo",value:function(e){return new Uh}}]),n}(lm),hm=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e,r,!1)).tc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Me(n,[{key:"initialize",value:function(){var e=a(l().mark((function e(t){var r,i=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hn(Ve(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.tc.syncEngine,e.t0=this.sharedClientState instanceof Fh,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={mi:Yp.bind(null,r),gi:rm.bind(null,r),yi:am.bind(null,r),Tn:nm.bind(null,r),_i:Gp.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.sn(function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xp(i.tc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Jo",value:function(e){var t=Kh();if(!Fh.Pt(t))throw new Uo(Fo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Yf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(fm),dm=function(){function e(){Re(this,e)}return Me(e,[{key:"initialize",value:function(){var e=a(l().mark((function e(t,n){var r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _p(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Vp.bind(null,this.syncEngine),e.next=12,Fd(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Yd}},{key:"createDatastore",value:function(e){var t,n=Qh(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Wh(t));return function(e,t,n,r){return new Zh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _p(o.syncEngine,e,0)},a=Vh.Pt()?new Vh:new Bh,new td(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new dp(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mo(t),jo("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,id(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return a(l().mark((function r(){var i;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var mm=function(){function e(t){Re(this,e),this.observer=t,this.muted=!1}return Me(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),vm=function(){function e(t,n){var r=this;Re(this,e),this.sc=t,this.k=n,this.metadata=new Bo,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((function(e){e&&e._o()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Me(e,[{key:"close",value:function(){return this.sc.cancel()}},{key:"getMetadata",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rc",value:function(){var e=a(l().mark((function e(){var t,n,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.oc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ic.decode(t),r=Number(n),isNaN(r)&&this.cc("length string (".concat(n,") is not valid number")),e.next=9,this.ac(r);case 9:return i=e.sent,e.abrupt("return",new ip(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"oc",value:function(){var e=a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.uc()<0)){e.next=7;break}return e.next=3,this.hc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.uc())<0&&this.cc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.hc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.cc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ic.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cc",value:function(e){throw this.sc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"hc",value:function(){var e=a(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gm=function(){function e(t){Re(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Me(e,[{key:"lookup",value:function(){var e=a(l().mark((function e(t){var n,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Uo(Fo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=a(l().mark((function e(t,n){var r,i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),i=Hc(r.k)+"/documents",a={documents:n.map((function(e){return Uc(r.k,e)}))},e.next=5,r.ji("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Qc(r.k,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());Oo(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new nc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=a(l().mark((function e(){var t,n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Ss.fromPath(t);n.mutations.push(new rc(r,n.precondition(r)))})),e.next=7,function(){var e=a(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo(t),i=Hc(r.k)+"/documents",a={writes:n.map((function(e){return Yc(r.k,e)}))},e.next=3,r.Bi("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ro();t=rs.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uo(Fo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bu.updateTime(t):Bu.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rs.min()))throw new Uo(Fo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bu.updateTime(t)}return Bu.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ym=function(){function e(t,n,r,i){Re(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new Yh(this.asyncQueue,"transaction_retry")}return Me(e,[{key:"run",value:function(){this.lc-=1,this.fc()}},{key:"fc",value:function(){var e=this;this.ur.Zi(a(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new gm(e.datastore),(r=e.dc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.wc(t)}))}))})).catch((function(t){e.wc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"dc",value:function(e){try{var t=this.updateFunction(e);return!bs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"wc",value:function(e){var t=this;this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((function(){return t.fc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"_c",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ac(t)}return!1}}]),e}(),km=function(){function e(t,n,r,i){var o=this;Re(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Io.UNAUTHENTICATED,this.clientId=Jo.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jo("FirestoreClient","Received user=",t.uid),e.next=3,o.authCredentialListener(t);case 3:o.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jo("FirestoreClient","Received new app check token=",e),o.appCheckCredentialListener(e,o.user)}))}return Me(e,[{key:"getConfiguration",value:function(){var e=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Uo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(a(l().mark((function n(){var r;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Hd(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function bm(e,t){return wm.apply(this,arguments)}function wm(){return wm=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jo("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,nh(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),wm.apply(this,arguments)}function xm(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=a(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,_m(t);case 3:return r=e.sent,jo("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Od(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Od(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function _m(e){return Em.apply(this,arguments)}function Em(){return Em=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jo("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,bm(t,new lm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Em.apply(this,arguments)}function Tm(e){return Cm.apply(this,arguments)}function Cm(){return Cm=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jo("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,xm(t,new dm);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Im(e){return _m(e).then((function(e){return e.persistence}))}function Nm(e){return _m(e).then((function(e){return e.localStore}))}function Am(e){return Tm(e).then((function(e){return e.remoteStore}))}function Dm(e){return Tm(e).then((function(e){return e.syncEngine}))}function jm(e){return Pm.apply(this,arguments)}function Pm(){return Pm=a(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=pp.bind(null,n.syncEngine),r.onUnlisten=yp.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Pm.apply(this,arguments)}function zm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mm({next:function(a){t.enqueueAndForget((function(){return Jd(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new Uo(Fo.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new Uo(Fo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new rp(cu(n.path),a,{includeMetadataChanges:!0,wo:!0});return $d(e,o)},i.next=3,jm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Lm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new mm({next:function(n){t.enqueueAndForget((function(){return Jd(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Uo(Fo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new rp(n,a,{includeMetadataChanges:!0,wo:!0});return $d(e,o)},i.next=3,jm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Rm=Me((function e(t,n,r,i,a,o,s,u){Re(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Om=function(){function e(t,n){Re(this,e),this.projectId=t,this.database=n||"(default)"}return Me(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Mm=new Map;function Fm(e,t,n){if(!n)throw new Uo(Fo.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Um(e,t,n,r){if(!0===t&&!0===r)throw new Uo(Fo.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Bm(e){if(!Ss.isDocumentKey(e))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vm(e){if(Ss.isDocumentKey(e))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ro()}function Hm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uo(Fo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qm(e);throw new Uo(Fo.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Wm(e,t){if(t<=0)throw new Uo(Fo.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Km=function(){function e(t){var n;if(Re(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Uo(Fo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uo(Fo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Um("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Me(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Gm=function(){function e(t,n,r){Re(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,t instanceof Om?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uo(Fo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Om(e.options.projectId)}(t))}return Me(e,[{key:"app",get:function(){if(!this._app)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qo;switch(e.type){case"gapi":var t=e.client;return Oo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Go(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Uo(Fo.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Mm.get(e);t&&(jo("ComponentProvider","Removing Datastore"),Mm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Qm(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Hm(e,Gm))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Io.MOCK_USER;else{o=tt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Uo(Fo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Io(u)}e._authCredentials=new Ho(new Vo(o,s))}}var Ym=function(){function e(t,n,r){Re(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Me(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Xm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),$m=function(){function e(t,n,r){Re(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Me(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Xm=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this,e,r,cu(i)))._path=i,a.type="collection",a}return Me(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ym(this.firestore,null,new Ss(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}($m);function Jm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pt(e),Fm("collection","path",t),e instanceof Gm){var a=us.fromString.apply(us,[t].concat(r));return Vm(a),new Xm(e,null,a)}if(!(e instanceof Ym||e instanceof Xm))throw new Uo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(us.fromString.apply(us,[t].concat(r)));return Vm(o),new Xm(e.firestore,null,o)}function Zm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=pt(e),1===arguments.length&&(t=Jo.A()),Fm("doc","path",t),e instanceof Gm){var a=us.fromString.apply(us,[t].concat(r));return Bm(a),new Ym(e,null,new Ss(a))}if(!(e instanceof Ym||e instanceof Xm))throw new Uo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(us.fromString.apply(us,[t].concat(r)));return Bm(o),new Ym(e.firestore,e instanceof Xm?e.converter:null,new Ss(o))}function ev(e,t){return e=pt(e),t=pt(t),(e instanceof Ym||e instanceof Xm)&&(t instanceof Ym||t instanceof Xm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function tv(e,t){return e=pt(e),t=pt(t),e instanceof $m&&t instanceof $m&&e.firestore===t.firestore&&yu(e._query,t._query)&&e.converter===t.converter}var nv=function(){function e(){var t=this;Re(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Yh(this,"async_queue_retry"),this.bc=function(){var e=Gh();e&&jo("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=Gh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Me(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=Gh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new Bo;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=a(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Fl(e.t0)){e.next=12;break}throw e.t0;case 12:jo("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Po("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=qd.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Ro()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=a(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Fe(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Fe(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();function rv(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Fe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var iv=function(){function e(){Re(this,e),this._progressObserver={},this._taskCompletionResolver=new Bo,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Me(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),av=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new nv,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Me(n,[{key:"_terminate",value:function(){return this._firestoreClient||uv(this),this._firestoreClient.terminate()}}]),n}(Gm);function ov(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t();return Ut(e,"firestore").getImmediate()}function sv(e){return e._firestoreClient||uv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function uv(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Rm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new km(e._authCredentials,e._appCheckCredentials,e._queue,r)}function cv(e,t,n){var r=new Bo;return e.asyncQueue.enqueue(a(l().mark((function i(){return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,bm(e,n);case 3:return i.next=5,xm(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Fo.FAILED_PRECONDITION||e.code===Fo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lv(e){return function(e){return e.asyncQueue.enqueue(a(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Im(e);case 2:return n=t.sent,t.next=5,Am(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Mo(e);return t.Gr.delete(0),nd(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(sv(e=Hm(e,av)))}function fv(e){return function(e){return e.asyncQueue.enqueue(a(l().mark((function t(){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Im(e);case 2:return n=t.sent,t.next=5,Am(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Mo(t)).Gr.add(0),e.next=4,id(n);case 4:n.Jr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(sv(e=Hm(e,av)))}function hv(e,t){var n=sv(e=Hm(e,av)),r=new iv;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new vm(e,t)}(function(e,t){if(e instanceof Uint8Array)return pm(e,t);if(e instanceof ArrayBuffer)return pm(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Qh(t));e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cm,t.next=3,Dm(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dv(e,t){return function(e,t){return e.asyncQueue.enqueue(a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Mo(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ye.getNamedQuery(e,t)}))},n.next=3,Nm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(sv(e=Hm(e,av)),t).then((function(t){return t?new $m(e,null,t.query):null}))}function pv(e){if(e._initialized||e._terminated)throw new Uo(Fo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var mv=function(){function e(){Re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ls(n)}return Me(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var vv=function(){function e(t){Re(this,e),this._byteString=t}return Me(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(hs.fromBase64String(t))}catch(t){throw new Uo(Fo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(hs.fromUint8Array(t))}}]),e}(),gv=Me((function e(t){Re(this,e),this._methodName=t})),yv=function(){function e(t,n){if(Re(this,e),!isFinite(t)||t<-90||t>90)throw new Uo(Fo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Uo(Fo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Me(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Zo(this._lat,e._lat)||Zo(this._long,e._long)}}]),e}(),kv=/^__.*__$/,bv=function(){function e(t,n,r){Re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Me(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new $u(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yu(e,this.data,t,this.fieldTransforms)}}]),e}(),wv=function(){function e(t,n,r){Re(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Me(e,[{key:"toMutation",value:function(e,t){return new $u(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ro()}}var Sv=function(){function e(t,n,r,i,a,o){Re(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Me(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return qv(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(xv(this.$c)&&kv.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),_v=function(){function e(t,n,r){Re(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||Qh(t)}return Me(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Sv({$c:e,methodName:t,jc:n,path:ls.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Ev(e){var t=e._freezeSettings(),n=Qh(e._databaseId);return new _v(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Tv(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Qc(a.merge||a.mergeFields?2:0,t,n,i);Fv("Data must be an object, but it was:",o,r);var s,u,c=Ov(r,o);if(a.merge)s=new fs(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Fe(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=Uv(t,d,n);if(!o.contains(p))throw new Uo(Fo.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Hv(f,p)||f.push(p)}}catch(m){h.e(m)}finally{h.f()}s=new fs(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new bv(new Ms(c),s,u)}var Cv=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.$c)throw 1===e.$c?e.qc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.qc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gv);function Iv(e,t,n){return new Sv({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}var Nv=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"_toFieldTransform",value:function(e){return new Fu(e.path,new Du)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(gv),Av=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e)).Wc=r,i}return Me(n,[{key:"_toFieldTransform",value:function(e){var t=Iv(this,e,!0),n=this.Wc.map((function(e){return Rv(e,t)})),r=new ju(n);return new Fu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gv),Dv=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e)).Wc=r,i}return Me(n,[{key:"_toFieldTransform",value:function(e){var t=Iv(this,e,!0),n=this.Wc.map((function(e){return Rv(e,t)})),r=new zu(n);return new Fu(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gv),jv=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e)).Gc=r,i}return Me(n,[{key:"_toFieldTransform",value:function(e){var t=new Ru(e.k,Tu(e.k,this.Gc));return new Fu(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(gv);function Pv(e,t,n,r){var i=e.Qc(1,t,n);Fv("Data must be an object, but it was:",i,r);var a=[],o=Ms.empty();as(r,(function(e,r){var s=Vv(t,e,n);r=pt(r);var u=i.Bc(s);if(r instanceof Cv)a.push(s);else{var c=Rv(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new fs(a);return new wv(o,s,i.fieldTransforms)}function zv(e,t,n,r,i,a){var o=e.Qc(1,t,n),s=[Uv(t,r,n)],u=[i];if(a.length%2!=0)throw new Uo(Fo.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Uv(t,a[c])),u.push(a[c+1]);for(var l=[],f=Ms.empty(),h=s.length-1;h>=0;--h)if(!Hv(l,s[h])){var d=s[h],p=u[h];p=pt(p);var m=o.Bc(d);if(p instanceof Cv)l.push(d);else{var v=Rv(p,m);null!=v&&(l.push(d),f.set(d,v))}}var g=new fs(l);return new wv(f,g,o.fieldTransforms)}function Lv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rv(n,e.Qc(r?4:3,t))}function Rv(e,t){if(Mv(e=pt(e)))return Fv("Unsupported field value:",t,e),Ov(e,t);if(e instanceof gv)return function(e,t){if(!xv(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Fe(e);try{for(a.s();!(n=a.n()).done;){var o=Rv(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=pt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Tu(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ns.fromDate(e);return{timestampValue:zc(t.k,n)}}if(e instanceof ns){var r=new ns(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zc(t.k,r)}}if(e instanceof yv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vv)return{bytesValue:Lc(t.k,e._byteString)};if(e instanceof Ym){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Mc(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(qm(e)))}(e,t)}function Ov(e,t){var n={};return os(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):as(e,(function(e,r){var i=Rv(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ns||e instanceof yv||e instanceof vv||e instanceof Ym||e instanceof gv)}function Fv(e,t,n){if(!Mv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qm(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Uv(e,t,n){if((t=pt(t))instanceof mv)return t._internalPath;if("string"==typeof t)return Vv(e,t);throw qv("Field path arguments must be of type string or ",e,!1,void 0,n)}var Bv=new RegExp("[~\\*/\\[\\]]");function Vv(e,t,n){if(t.search(Bv)>=0)throw qv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Ge(mv,ze(t.split(".")))._internalPath}catch(r){throw qv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function qv(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Uo(Fo.INVALID_ARGUMENT,s+e+u)}function Hv(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wv=function(){function e(t,n,r,i,a){Re(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Me(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ym(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Kv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Kv=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"data",value:function(){return hn(Ve(n.prototype),"data",this).call(this)}}]),n}(Wv);function Gv(e,t){return"string"==typeof t?Vv(e,t):t instanceof mv?t._internalPath:t._delegate._internalPath}var Qv=function(){function e(t,n){Re(this,e),this.hasPendingWrites=t,this.fromCache=n}return Me(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Yv=function(e){Be(n,e);var t=Ke(n);function n(e,r,i,a,o,s){var u;return Re(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Me(n,[{key:"exists",value:function(){return hn(Ve(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $v(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Wv),$v=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return hn(Ve(n.prototype),"data",this).call(this,e)}}]),n}(Yv),Xv=function(){function e(t,n,r,i){Re(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qv(i.hasPendingWrites,i.fromCache),this.query=r}return Me(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $v(n._firestore,n._userDataWriter,r.key,r,new Qv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Uo(Fo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $v(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $v(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Jv(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Jv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ro()}}function Zv(e,t){return e instanceof Yv&&t instanceof Yv?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xv&&t instanceof Xv&&e._firestore===t._firestore&&tv(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function eg(e){if(fu(e)&&0===e.explicitOrderBy.length)throw new Uo(Fo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tg=Me((function e(){Re(this,e)}));function ng(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var rg=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Me(n,[{key:"_apply",value:function(e){var t=Ev(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){pg(o,a);var u,c=[],l=Fe(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(dg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=dg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||pg(o,a),s=Lv(n,"where",o,"in"===a||"not-in"===a);var h=Ks.create(i,a,s);return function(e,t){if(t.V()){var n=du(e);if(null!==n&&!n.isEqual(t.field))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=hu(e);null!==r&&mg(e,t.field,r)}var i=function(e,t){var n,r=Fe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new $m(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new su(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(tg);var ig=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Me(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ru(t,n);return function(e,t){if(null===hu(e)){var n=du(e);null!==n&&mg(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new $m(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new su(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(tg);var ag=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Me(n,[{key:"_apply",value:function(e){return new $m(e.firestore,e.converter,gu(e._query,this.Xc,this.Zc))}}]),n}(tg);var og=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Me(n,[{key:"_apply",value:function(e){var t=hg(e,this.type,this.ta,this.ea);return new $m(e.firestore,e.converter,function(e,t){return new su(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(tg);function sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new og("startAt",t,!0)}function ug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new og("startAfter",t,!1)}var cg=function(e){Be(n,e);var t=Ke(n);function n(e,r,i){var a;return Re(this,n),(a=t.call(this)).type=e,a.ta=r,a.ea=i,a}return Me(n,[{key:"_apply",value:function(e){var t=hg(e,this.type,this.ta,this.ea);return new $m(e.firestore,e.converter,function(e,t){return new su(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(tg);function lg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cg("endBefore",t,!0)}function fg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cg("endAt",t,!1)}function hg(e,t,n,r){if(n[0]=pt(n[0]),n[0]instanceof Wv)return function(e,t,n,r,i){if(!r)throw new Uo(Fo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Fe(mu(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(Ds(t,r.key));else{var c=r.data.field(u.field);if(gs(c))throw new Uo(Fo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new tu(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Ev(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Uo(Fo.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!pu(e)&&-1!==c.indexOf("/"))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(us.fromString(c));if(!Ss.isDocumentKey(l))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Ss(l);s.push(Ds(t,f))}else{var h=Lv(n,r,c);s.push(h)}}return new tu(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function dg(e,t,n){if("string"==typeof(n=pt(n))){if(""===n)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pu(t)&&-1!==n.indexOf("/"))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(us.fromString(n));if(!Ss.isDocumentKey(r))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ds(e,new Ss(r))}if(n instanceof Ym)return Ds(e,n._key);throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qm(n),"."))}function pg(e,t){if(!Array.isArray(e)||0===e.length)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function mg(e,t,n){if(!n.isEqual(t))throw new Uo(Fo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var vg=function(){function e(){Re(this,e)}return Me(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ms(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ro()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return as(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new yv(ms(e.latitude),ms(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ys(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ks(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ps(e);return new ns(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=us.fromString(e);Oo(ll(n));var r=new Om(n.get(1),n.get(3)),i=new Ss(n.popFirst(5));return r.isEqual(t)||Po("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function gg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var yg=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).firestore=e,r}return Me(n,[{key:"convertBytes",value:function(e){return new vv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ym(this.firestore,null,t)}}]),n}(vg),kg=function(){function e(t,n){Re(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ev(t)}return Me(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=bg(e,this._firestore),i=gg(r.converter,t,n),a=Tv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bu.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=bg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=pt(t))||t instanceof mv?zv(this._dataReader,"WriteBatch.update",i._key,t,n,o):Pv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bu.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=bg(e,this._firestore);return this._mutations=this._mutations.concat(new nc(t._key,Bu.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Uo(Fo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function bg(e,t){if((e=pt(e)).firestore!==t)throw new Uo(Fo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var wg=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).firestore=e,r}return Me(n,[{key:"convertBytes",value:function(e){return new vv(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ym(this.firestore,null,t)}}]),n}(vg);function xg(e){e=Hm(e,Ym);var t=Hm(e.firestore,av),n=sv(t),r=new wg(t);return function(e,t){var n=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(l().mark((function e(t,n,r){var i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Mo(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Wn.Rn(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Uo(Fo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Hd(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Nm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Yv(t,r,e._key,n,new Qv(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Sg(e){e=Hm(e,$m);var t=Hm(e.firestore,av),n=sv(t),r=new wg(t);return eg(e._query),Lm(n,e._query).then((function(n){return new Xv(t,r,e,n)}))}function _g(e){e=Hm(e,$m);var t=Hm(e.firestore,av),n=sv(t),r=new wg(t);return function(e,t){var n=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=a(l().mark((function e(t,n,r){var i,a,o,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hh(t,n,!0);case 3:i=e.sent,a=new lp(n,i.zn),o=a.Po(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Hd(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Nm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Xv(t,r,e,n)}))}function Eg(e,t,n){e=Hm(e,Ym);var r=Hm(e.firestore,av),i=gg(e.converter,t,n);return Ag(r,[Tv(Ev(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bu.none())])}function Tg(e,t,n){e=Hm(e,Ym);for(var r=Hm(e.firestore,av),i=Ev(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Ag(r,[("string"==typeof(t=pt(t))||t instanceof mv?zv(i,"updateDoc",e._key,t,n,o):Pv(i,"updateDoc",e._key,t)).toMutation(e._key,Bu.exists(!0))])}function Cg(e){return Ag(Hm(e.firestore,av),[new nc(e._key,Bu.none())])}function Ig(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,s;e=pt(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof n[c]||rv(n[c])||(u=n[c],c++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if(rv(n[c])){var m=n[c];n[c]=null===(i=m.next)||void 0===i?void 0:i.bind(m),n[c+1]=null===(o=m.error)||void 0===o?void 0:o.bind(m),n[c+2]=null===(s=m.complete)||void 0===s?void 0:s.bind(m)}if(e instanceof Ym)h=Hm(e.firestore,av),d=cu(e._key.path),f={next:function(t){n[c]&&n[c](Dg(h,e,t))},error:n[c+1],complete:n[c+2]};else{var v=Hm(e,$m);h=Hm(v.firestore,av),d=v._query;var g=new wg(h);f={next:function(e){n[c]&&n[c](new Xv(h,g,v,e))},error:n[c+1],complete:n[c+2]},eg(e._query)}return function(e,t,n,r){var i=new mm(r),o=new rp(t,i,n);return e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=$d,t.next=3,jm(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.nc(),e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Jd,t.next=3,jm(e);case 3:return t.t1=t.sent,t.t2=o,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sv(h),d,p,f)}function Ng(e,t){return function(e,t){var n=new mm(t);return e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mo(e).io.add(t),t.next()},t.next=3,jm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.nc(),e.asyncQueue.enqueueAndForget(a(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Mo(e).io.delete(t)},t.next=3,jm(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(sv(e=Hm(e,av)),rv(t)?t:{next:t})}function Ag(e,t){return function(e,t){var n=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=bp,r.next=3,Dm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(sv(e),t)}function Dg(e,t,n){var r=n.docs.get(t._key),i=new wg(e);return new Yv(e,i,t._key,r,new Qv(n.hasPendingWrites,n.fromCache),t.converter)}var jg=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e,r))._firestore=e,i}return Me(n,[{key:"get",value:function(e){var t=this,r=bg(e,this._firestore),i=new wg(this._firestore);return hn(Ve(n.prototype),"get",this).call(this,e).then((function(e){return new Yv(t._firestore,i,r._key,e._document,new Qv(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Re(this,e),this._firestore=t,this._transaction=n,this._dataReader=Ev(t)}return Me(e,[{key:"get",value:function(e){var t=this,n=bg(e,this._firestore),r=new yg(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ro();var i=e[0];if(i.isFoundDocument())return new Wv(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Wv(t._firestore,r,n._key,null,n.converter);throw Ro()}))}},{key:"set",value:function(e,t,n){var r=bg(e,this._firestore),i=gg(r.converter,t,n),a=Tv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=bg(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=pt(t))||t instanceof mv?zv(this._dataReader,"Transaction.update",i._key,t,n,o):Pv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=bg(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Pg(e,t){return function(e,t){var n=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function r(){var i;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Tm(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new ym(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(sv(e=Hm(e,av)),(function(n){return t(new jg(e,n))}))}function zg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Av("arrayUnion",t)}function Lg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Dv("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){No=e}(Qt),Ft(new mt("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new av(i,new Wo(e.getProvider("auth-internal")),new Yo(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),en(Co,"3.4.4",e),en(Co,"3.4.4","esm2017")}();function Rg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uo("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Og(){if("undefined"===typeof Uint8Array)throw new Uo("unimplemented","Uint8Arrays are not available in this environment.")}function Mg(){if("undefined"==typeof atob)throw new Uo("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Fg=function(){function e(t){Re(this,e),this._delegate=t}return Me(e,[{key:"toBase64",value:function(){return Mg(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Og(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Mg(),new e(vv.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Og(),new e(vv.fromUint8Array(t))}}]),e}();function Ug(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Fe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Bg=function(){function e(){Re(this,e)}return Me(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){pv(e=Hm(e,av));var n=sv(e),r=e._freezeSettings(),i=new dm;return cv(n,i,new fm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){pv(e=Hm(e,av));var t=sv(e),n=e._freezeSettings(),r=new dm;return cv(t,r,new hm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Uo(Fo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Bo;return e._queue.enqueueAndForgetEvenWhileRestricted(a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=a(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rl.Pt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Rl.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Yf(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Vg=function(){function e(t,n,r){var i=this;Re(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Om||(this._appCompat=t)}return Me(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||zo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Qm(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lv(this._delegate)}},{key:"disableNetwork",value:function(){return fv(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Um("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Bo;return e.asyncQueue.enqueueAndForget(a(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Dp,n.next=3,Dm(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(sv(e=Hm(e,av)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Ng(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Uo("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new ny(this,Jm(this._delegate,e))}catch(t){throw Qg(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Gg(this,Zm(this._delegate,e))}catch(t){throw Qg(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Zg(this,function(e,t){if(e=Hm(e,Gm),Fm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uo(Fo.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new $m(e,null,function(e){return new su(us.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Qg(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Pg(this._delegate,(function(n){return e(new Hg(t,n))}))}},{key:"batch",value:function(){var e=this;return sv(this._delegate),new Wg(new kg(this._delegate,(function(t){return Ag(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hv(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return dv(this._delegate,e).then((function(e){return e?new Zg(t,e):null}))}}]),e}(),qg=function(e){Be(n,e);var t=Ke(n);function n(e){var r;return Re(this,n),(r=t.call(this)).firestore=e,r}return Me(n,[{key:"convertBytes",value:function(e){return new Fg(new vv(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Gg.forKey(t,this.firestore,null)}}]),n}(vg);var Hg=function(){function e(t,n){Re(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new qg(t)}return Me(e,[{key:"get",value:function(e){var t=this,n=ry(e);return this._delegate.get(n).then((function(e){return new Xg(t._firestore,new Yv(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=ry(e);return n?(Rg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=ry(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ry(e);return this._delegate.delete(t),this}}]),e}(),Wg=function(){function e(t){Re(this,e),this._delegate=t}return Me(e,[{key:"set",value:function(e,t,n){var r=ry(e);return n?(Rg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=ry(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=ry(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Kg=function(){function e(t,n,r){Re(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Me(e,[{key:"fromFirestore",value:function(e,t){var n=new $v(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Jg(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new qg(t),n),i.set(n,a)),a}}]),e}();Kg.INSTANCES=new WeakMap;var Gg=function(){function e(t,n){Re(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qg(t)}return Me(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new ny(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new ny(this.firestore,Jm(this._delegate,e))}catch(t){throw Qg(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=pt(e))instanceof Ym&&ev(this._delegate,e)}},{key:"set",value:function(e,t){t=Rg("DocumentReference.set",t);try{return t?Eg(this._delegate,e,t):Eg(this._delegate,e)}catch(n){throw Qg(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Tg(this._delegate,e):Tg.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Qg(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Cg(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Yg(n),a=$g(n,(function(t){return new Xg(e.firestore,new Yv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ig(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?xg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Hm(e,Ym);var t=Hm(e.firestore,av);return zm(sv(t),e._key,{source:"server"}).then((function(n){return Dg(t,e,n)}))}(this._delegate):function(e){e=Hm(e,Ym);var t=Hm(e.firestore,av);return zm(sv(t),e._key).then((function(n){return Dg(t,e,n)}))}(this._delegate),t.then((function(e){return new Xg(n.firestore,new Yv(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Kg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Uo("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Ym(n._delegate,r,new Ss(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Ym(n._delegate,r,t))}}]),e}();function Qg(e,t,n){return e.message=e.message.replace(t,n),e}function Yg(e){var t,n=Fe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Ug(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function $g(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ug(e[0])?e[0]:Ug(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Xg=function(){function e(t,n){Re(this,e),this._firestore=t,this._delegate=n}return Me(e,[{key:"ref",get:function(){return new Gg(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Zv(this._delegate,e._delegate)}}]),e}(),Jg=function(e){Be(n,e);var t=Ke(n);function n(){return Re(this,n),t.apply(this,arguments)}return Me(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ro()}(void 0!==t),t}}]),n}(Xg),Zg=function(){function e(t,n){Re(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new qg(t)}return Me(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,ng(this._delegate,function(e,t,n){var r=t,i=Gv("where",e);return new rg(i,r,n)}(t,n,r)))}catch(i){throw Qg(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,ng(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Gv("orderBy",e);return new ig(n,t)}(t,n)))}catch(r){throw Qg(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,ng(this._delegate,function(e){return Wm("limit",e),new ag("limit",e,"F")}(t)))}catch(n){throw Qg(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,ng(this._delegate,function(e){return Wm("limitToLast",e),new ag("limitToLast",e,"L")}(t)))}catch(n){throw Qg(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,ng(this._delegate,sg.apply(void 0,arguments)))}catch(t){throw Qg(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,ng(this._delegate,ug.apply(void 0,arguments)))}catch(t){throw Qg(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,ng(this._delegate,lg.apply(void 0,arguments)))}catch(t){throw Qg(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,ng(this._delegate,fg.apply(void 0,arguments)))}catch(t){throw Qg(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return tv(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_g(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Hm(e,$m);var t=Hm(e.firestore,av),n=sv(t),r=new wg(t);return Lm(n,e._query,{source:"server"}).then((function(n){return new Xv(t,r,e,n)}))}(this._delegate):Sg(this._delegate),t.then((function(e){return new ty(n.firestore,new Xv(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Yg(n),a=$g(n,(function(t){return new ty(e.firestore,new Xv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ig(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Kg.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),ey=function(){function e(t,n){Re(this,e),this._firestore=t,this._delegate=n}return Me(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Jg(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),ty=function(){function e(t,n){Re(this,e),this._firestore=t,this._delegate=n}return Me(e,[{key:"query",get:function(){return new Zg(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Jg(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new ey(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Jg(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Zv(this._delegate,e._delegate)}}]),e}(),ny=function(e){Be(n,e);var t=Ke(n);function n(e,r){var i;return Re(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Me(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Gg(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Gg(this.firestore,void 0===e?Zm(this._delegate):Zm(this._delegate,e))}catch(t){throw Qg(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Hm(e.firestore,av),r=Zm(e),i=gg(e.converter,t);return Ag(n,[Tv(Ev(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bu.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Gg(t.firestore,e)}))}},{key:"isEqual",value:function(e){return ev(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Kg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Zg);function ry(e){return Hm(e,Ym)}var iy,ay=function(){function e(){Re(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Ge(mv,n)}return Me(e,[{key:"isEqual",value:function(e){return(e=pt(e))instanceof mv&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ls.keyField().canonicalString())}}]),e}(),oy=function(){function e(t){Re(this,e),this._delegate=t}return Me(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Nv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Cv("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=zg.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Lg.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new jv("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),sy={Firestore:Vg,GeoPoint:yv,Timestamp:ns,Blob:Fg,Transaction:Hg,WriteBatch:Wg,DocumentReference:Gg,DocumentSnapshot:Xg,Query:Zg,QueryDocumentSnapshot:Jg,QuerySnapshot:ty,CollectionReference:ny,FieldPath:ay,FieldValue:oy,setLogLevel:function(e){!function(e){Ao.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new mt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},sy)))})(iy=ln,(function(e,t){return new Vg(e,t,new Bg)})),iy.registerVersion("@firebase/firestore-compat","0.1.13");ln.initializeApp({apiKey:"AIzaSyCFE-4fmhp3IIJTxtsi3XaBphVs3RWsnZc",authDomain:"skateshop-19330.firebaseapp.com",projectId:"skateshop-19330",storageBucket:"skateshop-19330.appspot.com",messagingSenderId:"43993705730",appId:"1:43993705730:web:179734f3c32f587e67e61b"});var uy=ov();var cy=function(e){var t=0,n=(e.cartItems.forEach((function(e){t+=e.price})),ze(e.cartItems)),r=function(){var t=a(l().mark((function t(r,i,a){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.splice(n.findIndex((function(e){return e.title===r&&e.size===i})),1),e.setCartItems(n),t.next=4,Cg(Zm(uy,"items",r+a));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();return(0,ke.jsxs)("div",{className:"cart-wrapper",style:{transform:e.cartVisible?"translateX(0)":"translateX(100%)"},children:[(0,ke.jsxs)("div",{className:"cart-header",children:["YOUR CART(",e.cartCount,")",(0,ke.jsx)("img",{src:"https://flaticons.net/icon.php?slug_category=mobile-application&slug_icon=close",alt:"exit cart",style:{height:"20px",width:"20px",marginLeft:"20px",cursor:"pointer"},onClick:function(){e.setCartVisible(!1)}})]}),e.cartItems.map((function(t,n){return(0,ke.jsxs)("div",{className:"item-container",id:n,children:[(0,ke.jsx)("img",{className:"remove-item",src:"https://uxwing.com/wp-content/themes/uxwing/download/48-checkmark-cross/close.png",onClick:function(){r(t.title,t.size,t.id),e.setCartCount(e.cartItems.length-1)}}),(0,ke.jsx)("img",{className:"item-image",src:t.image}),(0,ke.jsx)("div",{className:"item-title",children:t.title}),(0,ke.jsxs)("div",{className:"item-size",children:["SIZE:",t.size.toUpperCase()]}),(0,ke.jsx)("div",{className:"item-price",children:t.price})]},De()())})),(0,ke.jsx)("div",{className:"checkout-container",children:(0,ke.jsxs)("button",{className:"checkout-button",children:["CHECKOUT ",Math.round(100*t)/100,"$"]})})]})},ly=ov();var fy=function(){var e=u((0,t.useState)(0),2),n=e[0],r=e[1],i=u((0,t.useState)([]),2),o=i[0],s=i[1],c=u((0,t.useState)(!1),2),f=c[0],h=c[1],d=u((0,t.useState)(""),2),p=(d[0],d[1],[]);function m(){return(m=a(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sg(Jm(ly,"items"));case 2:e.sent.forEach((function(e){p.push(e.data())}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,t.useEffect)((function(){(function(){return m.apply(this,arguments)})().then((function(){s(p),r(p.length)}))}),[]),(0,t.useEffect)((function(){o.map(function(){var e=a(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eg(Zm(ly,"items",t.title+t.id),{image:t.image,title:t.title,price:t.price,size:t.size,id:t.id});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),(0,ke.jsxs)(le,{children:[(0,ke.jsx)(cy,{cartCount:n,setCartCount:r,cartVisible:f,setCartVisible:h,cartItems:o,setCartItems:s}),(0,ke.jsx)(we,{cartCount:n,setCartVisible:h}),(0,ke.jsxs)(ce,{children:[(0,ke.jsx)(re,{path:!0,exact:"/skateshop",component:xe}),(0,ke.jsx)(re,{path:"/apparel/tees",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"tees",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/longsleeves",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"longsleeves",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/hoodies",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"hoodies",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/jeans",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"jeans",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/joggers",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"joggers",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/shorts",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"shorts",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/skateshoes",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"skateshoes",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/hightops",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"hightops",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/rollerskates",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"rollerskates",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/hats",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"hats",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/socks",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"socks",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel/underwear",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"underwear",type:"apparel"})}}),(0,ke.jsx)(re,{path:"/apparel",component:Te}),(0,ke.jsx)(re,{path:"/boards/skateboards",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"skateboards",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/longboards",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"longboards",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/cruisers",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"cruisers",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/wheels",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"wheels",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/trucks",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"trucks",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/griptape",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"griptape",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/helmets",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"helmets",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/kneepads",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"kneepads",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards/elbowpads",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"elbowpads",type:"boards"})}}),(0,ke.jsx)(re,{path:"/boards",component:Ee}),(0,ke.jsx)(re,{path:"/accessories",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"accessories",type:"accessories"})}}),(0,ke.jsx)(re,{path:"/sales",component:function(){return(0,ke.jsx)(Pe,{cartCount:n,setCartCount:r,cartItems:o,setCartItems:s,page:"sales",type:"accessories"})}})]}),(0,ke.jsx)(Ce,{})]})};r.render((0,ke.jsx)(t.StrictMode,{children:(0,ke.jsx)(fy,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.ca4db671.js.map